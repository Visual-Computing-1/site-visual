{
    "componentChunkName": "component---src-templates-module-template-tsx",
    "path": "/plat/binary-jump",
    "result": {"data":{"xdm":{"body":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nfunction _missingComponent(name) {\n  return function () {\n    throw new Error(\"Component `\" + name + \"` was not imported, exported, or given\");\n  };\n}\nconst id = \"binary-jump\", redirects = [\"/plat/bin-jump\"], title = \"Binary Jumping\", author = \"Benjamin Qi, Neo Wang, Qi Wang\", description = \"Introduces the problems of finding level ancestors in a tree and computing the lowest common ancestors.\", frequency = 3, prerequisites = null;\nfunction MDXContent(_props) {\n  const _components = Object.assign({\n    h2: \"h2\",\n    a: \"a\",\n    h3: \"h3\",\n    p: \"p\",\n    code: \"code\",\n    span: \"span\",\n    img: \"img\",\n    pre: \"pre\",\n    ul: \"ul\",\n    li: \"li\",\n    h4: \"h4\",\n    HeaderLink: _missingComponent(\"HeaderLink\"),\n    FocusProblem: _missingComponent(\"FocusProblem\"),\n    Resources: _missingComponent(\"Resources\"),\n    Resource: _missingComponent(\"Resource\"),\n    Info: _missingComponent(\"Info\"),\n    MATHSPAN: _missingComponent(\"MATHSPAN\"),\n    Spoiler: _missingComponent(\"Spoiler\"),\n    LanguageSection: _missingComponent(\"LanguageSection\"),\n    CPPSection: _missingComponent(\"CPPSection\"),\n    Problems: _missingComponent(\"Problems\"),\n    Optional: _missingComponent(\"Optional\"),\n    IncompleteSection: _missingComponent(\"IncompleteSection\")\n  }, _props.components), {HeaderLink, FocusProblem, Resources, Resource, Info, MATHSPAN, Spoiler, LanguageSection, CPPSection, Problems, Optional, IncompleteSection, wrapper: MDXLayout} = _components;\n  const _content = _jsxs(_Fragment, {\n    children: [_jsxs(_components.h2, {\n      id: \"binary-jumping\",\n      children: [_jsx(_components.a, {\n        href: \"#binary-jumping\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Binary Jumping\"]\n    }), \"\\n\", _jsx(FocusProblem, {\n      problem: \"sample\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"tutorial\",\n      children: [_jsx(_components.a, {\n        href: \"#tutorial\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Tutorial\"]\n    }), \"\\n\", _jsxs(Resources, {\n      children: [_jsx(Resource, {\n        source: \"CPH\",\n        title: \"18.1 - Finding Ancestors\"\n      }), _jsx(Resource, {\n        source: \"AryanshS\",\n        title: \"Binary Lifting\",\n        url: \"https://sendtoaryansh.gitbook.io/informatics-notes/binary-lifting-gold-part-1\"\n      }), _jsx(Resource, {\n        source: \"SecondThread\",\n        title: \"Tree Basics - Binary Lifting\",\n        url: \"https://codeforces.com/blog/entry/81527\"\n      })]\n    }), \"\\n\", _jsx(Info, {\n      title: \"Pro Tip\",\n      children: _jsx(_components.p, {\n        children: \"Binary jumping is more commonly referred to as \\\"binary lifting.\\\"\"\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"solution\",\n      children: [_jsx(_components.a, {\n        href: \"#solution\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Solution\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To solve this problem, we can use a standard binary lifting implementation where\\r\\n\", _jsx(_components.code, {\n        children: \"jmp(int x, int d)\"\n      }), \" corresponds to the \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"d\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>d</mi></mrow><annotation encoding=\\\"application/x-tex\\\">d</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span></span></span></span>\"\n      }), \"-th ancestor of \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"x\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\\\"application/x-tex\\\">x</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">x</span></span></span></span>\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In our \", _jsx(_components.code, {\n        children: \"jmp(int x, int d)\"\n      }), \" if our final value of \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"x\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\\\"application/x-tex\\\">x</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">x</span></span></span></span>\"\n      }), \" is \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"0\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">0</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6444em;\\\"></span><span class=\\\"mord\\\">0</span></span></span></span>\"\n      }), \", then such a node\\r\\ndoes not exist and we can simply return \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"-1\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mo>−</mo><mn>1</mn></mrow><annotation encoding=\\\"application/x-tex\\\">-1</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.7278em;vertical-align:-0.0833em;\\\"></span><span class=\\\"mord\\\">−</span><span class=\\\"mord\\\">1</span></span></span></span>\"\n      }), \". This is because the lowest number\\r\\na node can be is \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"1\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\\\"application/x-tex\\\">1</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6444em;\\\"></span><span class=\\\"mord\\\">1</span></span></span></span>\"\n      }), \" (the root of the tree).\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In our implementation, we test if we jump in powers of two by using the \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\&\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi mathvariant=\\\"normal\\\">&amp;</mi></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\&amp;</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord\\\">&amp;</span></span></span></span>\"\n      }), \"\\r\\noperator. If the \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"i\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\\\"application/x-tex\\\">i</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6595em;\\\"></span><span class=\\\"mord mathnormal\\\">i</span></span></span></span>\"\n      }), \"th bit on the right is toggled, then we jump. For example, a\\r\\njump of \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"13\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mn>13</mn></mrow><annotation encoding=\\\"application/x-tex\\\">13</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6444em;\\\"></span><span class=\\\"mord\\\">13</span></span></span></span>\"\n      }), \" would correspond to the binary number \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"1101\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mn>1101</mn></mrow><annotation encoding=\\\"application/x-tex\\\">1101</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6444em;\\\"></span><span class=\\\"mord\\\">1101</span></span></span></span>\"\n      }), \". We would jump 3 times\\r\\non bits \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"0, 2, 3\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mn>0</mn><mo separator=\\\"true\\\">,</mo><mn>2</mn><mo separator=\\\"true\\\">,</mo><mn>3</mn></mrow><annotation encoding=\\\"application/x-tex\\\">0, 2, 3</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.8389em;vertical-align:-0.1944em;\\\"></span><span class=\\\"mord\\\">0</span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord\\\">2</span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord\\\">3</span></span></span></span>\"\n      }), \" (in that order) counting from the right.\"]\n    }), \"\\n\", _jsx(Spoiler, {\n      title: \"Illustration of the jump method\",\n      children: _jsx(_components.p, {\n        children: _jsxs(_components.span, {\n          className: \"gatsby-resp-image-wrapper\",\n          style: {\n            position: \"relative\",\n            display: \"block\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            maxWidth: \"832px\"\n          },\n          children: [\"\\n      \", _jsxs(_components.a, {\n            className: \"gatsby-resp-image-link\",\n            href: \"/static/3323ab8409ac600e6f76d6b67f6e6d5e/e25e9/binaryliftingjump.png\",\n            style: {\n              display: \"block\"\n            },\n            target: \"_blank\",\n            rel: \"noopener\",\n            children: [\"\\n    \", _jsx(_components.span, {\n              className: \"gatsby-resp-image-background-image\",\n              style: {\n                paddingBottom: \"80.28846153846153%\",\n                position: \"relative\",\n                bottom: \"0\",\n                left: \"0\",\n                backgroundImage: \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQUlEQVQ4y2VUV3LdMAzUNRI1iqSo/tSlV+w4nknuf6TNLF4oW/YHBmLBcoEFFKg0AS1NYhidYZoGVIWT7/7SYZ5GVKVDU1WY+wG1LZCnGjbVEkPz8fRB+mlBn4QhbGEFLI7CIyiNYzSuxFwNGPMOSznAGXMC+wDkIo7FZ0uJ7s+KeRyRW3N6rO873B9XaK2wbQvutyt0ps6AAhRFUHmGeMoxP1Zc11UOf708DlBaplLUZYE4DNHUlRizOKdsFVSRIZkcjNGocoeqLOTlwuUoC3cE0aaxRxJHxzm/PSAtSBuDdC+hdYbbvsFaLZe3dZHLbVOja+qDAVlZozEOPZZ5Qtc2x2PPlPsckUlQ2xzvL68wJhOFr/smnoD32y7fBB36C+q6FFAy/Az2ZDg6ZCbDWNSYbAljtTBjvTwrBjNt7sdxKG2Tpemx5+3JcC4w7wv+dhuKHzG264Yit3KBgGTImrKN6Mlq7HoJfvZqK+nv2yp3AlVptG8zBpWjiTJMy3hSlkF1VUqDE5zB8zzKHtcE4hlrSRJB5RxM5yDAOhdxkuhJnxf46rbMWJdZginWvi64XXdM4yAikbkvUfC436CsQrIWeP/9htK5Uyu43AobKk+29MyAdW3rCss8CuBRQ6MUssai3XuQrVLpN+UuXSu1a5vq2UZt8zGSX+Y5iMKfuLSNpOFn16vGNAjGtMjUi/IV6Dwp/0fK10BnqaTI9LjHFGn+jt/z/tvP4fPYeHBOAAtOdhSDKXpR2NhUlZ6Cff05/AOqJsrNDuCXugAAAABJRU5ErkJggg==')\",\n                backgroundSize: \"cover\",\n                display: \"block\"\n              }\n            }), \"\\n  \", _jsx(_components.img, {\n              className: \"gatsby-resp-image-image\",\n              alt: \"Binary Lifting Diagram\",\n              title: \"Binary Lifting Diagram\",\n              src: \"/static/3323ab8409ac600e6f76d6b67f6e6d5e/6a350/binaryliftingjump.png\",\n              srcSet: \"/static/3323ab8409ac600e6f76d6b67f6e6d5e/f29da/binaryliftingjump.png 208w, /static/3323ab8409ac600e6f76d6b67f6e6d5e/5d0f3/binaryliftingjump.png 416w, /static/3323ab8409ac600e6f76d6b67f6e6d5e/6a350/binaryliftingjump.png 832w, /static/3323ab8409ac600e6f76d6b67f6e6d5e/f03ba/binaryliftingjump.png 1248w, /static/3323ab8409ac600e6f76d6b67f6e6d5e/7bd25/binaryliftingjump.png 1664w, /static/3323ab8409ac600e6f76d6b67f6e6d5e/e25e9/binaryliftingjump.png 2189w\",\n              sizes: \"(max-width: 832px) 100vw, 832px\",\n              style: {\n                width: \"100%\",\n                height: \"100%\",\n                margin: \"0\",\n                verticalAlign: \"middle\",\n                position: \"absolute\",\n                top: \"0\",\n                left: \"0\"\n              },\n              loading: \"lazy\"\n            }), \"\\n  \"]\n          }), \"\\n    \"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To calculate the rows required for the \", _jsx(_components.code, {\n        children: \"int up[MS][MX]\"\n      }), \" array, use the formula\\r\\n\", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\lceil \\\\log_2{N} \\\\rceil\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mo stretchy=\\\"false\\\">⌈</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>N</mi><mo stretchy=\\\"false\\\">⌉</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\lceil \\\\log_2{N} \\\\rceil</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mopen\\\">⌈</span><span class=\\\"mop\\\"><span class=\\\"mop\\\">lo<span style=\\\"margin-right:0.01389em;\\\">g</span></span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.207em;\\\"><span style=\\\"top:-2.4559em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\">2</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2441em;\\\"><span></span></span></span></span></span></span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.10903em;\\\">N</span></span><span class=\\\"mclose\\\">⌉</span></span></span></span>\"\n      }), \" which in our case simplifies to\\r\\n\", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\lceil \\\\log_2{(2\\\\cdot 10^5)}\\\\rceil = 18\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mo stretchy=\\\"false\\\">⌈</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mrow><mo stretchy=\\\"false\\\">(</mo><mn>2</mn><mo>⋅</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mo stretchy=\\\"false\\\">)</mo></mrow><mo stretchy=\\\"false\\\">⌉</mo><mo>=</mo><mn>18</mn></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\lceil \\\\log_2{(2\\\\cdot 10^5)}\\\\rceil = 18</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1.0641em;vertical-align:-0.25em;\\\"></span><span class=\\\"mopen\\\">⌈</span><span class=\\\"mop\\\"><span class=\\\"mop\\\">lo<span style=\\\"margin-right:0.01389em;\\\">g</span></span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.207em;\\\"><span style=\\\"top:-2.4559em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\">2</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2441em;\\\"><span></span></span></span></span></span></span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord\\\"><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\">2</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span><span class=\\\"mbin\\\">⋅</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span><span class=\\\"mord\\\">1</span><span class=\\\"mord\\\"><span class=\\\"mord\\\">0</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.8141em;\\\"><span style=\\\"top:-3.063em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\">5</span></span></span></span></span></span></span></span><span class=\\\"mclose\\\">)</span></span><span class=\\\"mclose\\\">⌉</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2778em;\\\"></span><span class=\\\"mrel\\\">=</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2778em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6444em;\\\"></span><span class=\\\"mord\\\">18</span></span></span></span>\"\n      }), \".\"]\n    }), \"\\n\", _jsx(Info, {\n      title: \"Pro Tip\",\n      children: _jsx(_components.p, {\n        children: \"It never hurts to add additional rows - or columns, depending on your\\r\\nimplementation - (as long as it's reasonable)!\"\n      })\n    }), \"\\n\", _jsx(LanguageSection, {\n      children: _jsx(CPPSection, {\n        children: _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-cpp\",\n            children: \"#include <bits/stdc++.h>\\r\\n\\r\\nusing namespace std;\\r\\n\\r\\n#define FOR(i, a, b) for(int i = (a); i < (b); i++)\\r\\n#define FORE(i, a, b) for(int i = (a); i <= (b); i++)\\r\\n#define F0R(i, a) for(int i = 0; i < (a); i++)\\r\\n#define trav(a, x) for (auto& a : x)\\r\\n\\r\\nint N, Q;\\r\\n\\r\\nconst int MX = 2e5+5; // maximum N\\r\\nconst int MS = 18; // 18 is calculated by $\\\\log_2 2e5$\\r\\n\\r\\nint up[MS][MX];\\r\\n\\r\\nint jmp(int x, int d) {\\r\\n\\tF0R(i, MS) if((d >> i) & 1) x = up[i][x];\\r\\n\\treturn x ?: -1; // modfication to return -1 if not found\\r\\n}\\r\\n\\r\\nint main() {\\r\\n\\tios_base::sync_with_stdio(0);\\r\\n\\tcin.tie(0);\\r\\n\\r\\n\\tcin >> N >> Q;\\r\\n\\r\\n\\tFOR(i, 2, N+1) {\\r\\n\\t\\tint a; cin >> a;\\r\\n\\t\\tup[0][i] = a;\\r\\n\\t}\\r\\n\\r\\n\\tFOR(i, 1, MS) FOR(j, 1, N+1) up[i][j] = up[i-1][up[i-1][j]]; // construct our parent array\\r\\n\\r\\n\\t// uncomment below if you want to see the parent array\\r\\n\\r\\n\\t// F0R(i, MS) {\\r\\n\\t//     FOR(j, 1, N+1) {\\r\\n\\t//         cerr << setfill(' ') << setw(2) << up[i][j] << \\\" \\\";\\r\\n\\t//     }\\r\\n\\t//     cerr << \\\"\\\\n\\\";\\r\\n\\t// }\\r\\n\\r\\n\\tF0R(i, Q) {\\r\\n\\t\\tint a, b;\\r\\n\\t\\tcin >> a >> b;\\r\\n\\t\\tcout << jmp(a, b) << \\\"\\\\n\\\";\\r\\n\\t}\\r\\n}\\n\"\n          })\n        })\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"problems\",\n      children: [_jsx(_components.a, {\n        href: \"#problems\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Problems\"]\n    }), \"\\n\", _jsx(Problems, {\n      problems: \"binJump\"\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"lowest-common-ancestor\",\n      children: [_jsx(_components.a, {\n        href: \"#lowest-common-ancestor\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Lowest Common Ancestor\"]\n    }), \"\\n\", _jsx(FocusProblem, {\n      problem: \"lca\"\n    }), \"\\n\", _jsx(FocusProblem, {\n      problem: \"lca2\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"solution-company-queries-ii\",\n      children: [_jsx(_components.a, {\n        href: \"#solution-company-queries-ii\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Solution (Company Queries II)\"]\n    }), \"\\n\", _jsxs(Resources, {\n      children: [_jsx(Resource, {\n        source: \"CPH\",\n        title: \"18.3 - LCA Method 1\",\n        children: _jsx(_components.p, {\n          children: \"brief description\"\n        })\n      }), _jsx(Resource, {\n        source: \"Benq\",\n        title: \"LCAjump\",\n        url: \"https://github.com/bqi343/USACO/blob/master/Implementations/content/graphs%20(12)/Trees%20(10)/LCAjump.h\",\n        children: _jsx(_components.p, {\n          children: \"alternative implementation\"\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To find \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\textrm{lca}(a, b)\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mtext>lca</mtext><mo stretchy=\\\"false\\\">(</mo><mi>a</mi><mo separator=\\\"true\\\">,</mo><mi>b</mi><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\textrm{lca}(a, b)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord textrm\\\">lca</span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\">a</span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord mathnormal\\\">b</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n      }), \", we can first lift the lower node of \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"a\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\\\"application/x-tex\\\">a</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">a</span></span></span></span>\"\n      }), \" and \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"b\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\\\"application/x-tex\\\">b</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord mathnormal\\\">b</span></span></span></span>\"\n      }), \" to\\r\\nthe same depth as the other. Then, we lift both nodes up decrementally. At the\\r\\nend, the parent of either node is the LCA of the two.\"]\n    }), \"\\n\", _jsx(LanguageSection, {\n      children: _jsx(CPPSection, {\n        children: _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-cpp\",\n            children: \"//BeginCodeSnip{Benq Template}\\n#include <bits/stdc++.h>\\nusing namespace std;\\n \\nusing ll = long long;\\nusing db = long double; // or double, if TL is tight\\nusing str = string; // yay python!\\n\\nusing pi = pair<int,int>;\\nusing pl = pair<ll,ll>;\\nusing pd = pair<db,db>;\\n\\nusing vi = vector<int>;\\nusing vb = vector<bool>;\\nusing vl = vector<ll>;\\nusing vd = vector<db>; \\nusing vs = vector<str>;\\nusing vpi = vector<pi>;\\nusing vpl = vector<pl>; \\nusing vpd = vector<pd>;\\n\\n#define tcT template<class T\\n#define tcTU tcT, class U\\n// ^ lol this makes everything look weird but I'll try it\\ntcT> using V = vector<T>; \\ntcT, size_t SZ> using AR = array<T,SZ>; \\ntcT> using PR = pair<T,T>;\\n\\n// pairs\\n#define mp make_pair\\n#define f first\\n#define s second\\n\\n// vectors\\n// oops size(x), rbegin(x), rend(x) need C++17\\n#define sz(x) int((x).size())\\n#define bg(x) begin(x)\\n#define all(x) bg(x), end(x)\\n#define rall(x) x.rbegin(), x.rend() \\n#define sor(x) sort(all(x)) \\n#define rsz resize\\n#define ins insert \\n#define ft front()\\n#define bk back()\\n#define pb push_back\\n#define eb emplace_back \\n#define pf push_front\\n#define rtn return\\n\\n#define lb lower_bound\\n#define ub upper_bound \\ntcT> int lwb(V<T>& a, const T& b) { return int(lb(all(a),b)-bg(a)); }\\n\\n// loops\\n#define FOR(i,a,b) for (int i = (a); i < (b); ++i)\\n#define F0R(i,a) FOR(i,0,a)\\n#define ROF(i,a,b) for (int i = (b)-1; i >= (a); --i)\\n#define R0F(i,a) ROF(i,0,a)\\n#define rep(a) F0R(_,a)\\n#define each(a,x) for (auto& a: x)\\n\\nconst int MOD = 1e9+7; // 998244353;\\nconst int MX = 2e5+5;\\nconst ll INF = 1e18; // not too close to LLONG_MAX\\nconst db PI = acos((db)-1);\\nconst int dx[4] = {1,0,-1,0}, dy[4] = {0,1,0,-1}; // for every grid problem!!\\nmt19937 rng((uint32_t)chrono::steady_clock::now().time_since_epoch().count()); \\ntemplate<class T> using pqg = priority_queue<T,vector<T>,greater<T>>;\\n\\n// bitwise ops\\n// also see https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html\\nconstexpr int pct(int x) { return __builtin_popcount(x); } // # of bits set\\nconstexpr int bits(int x) { // assert(x >= 0); // make C++11 compatible until USACO updates ...\\n\\treturn x == 0 ? 0 : 31-__builtin_clz(x); } // floor(log2(x)) \\nconstexpr int p2(int x) { return 1<<x; }\\nconstexpr int msk2(int x) { return p2(x)-1; }\\n\\nll cdiv(ll a, ll b) { return a/b+((a^b)>0&&a%b); } // divide a by b rounded up\\nll fdiv(ll a, ll b) { return a/b-((a^b)<0&&a%b); } // divide a by b rounded down\\n\\ntcT> bool ckmin(T& a, const T& b) {\\n\\treturn b < a ? a = b, 1 : 0; } // set a = min(a,b)\\ntcT> bool ckmax(T& a, const T& b) {\\n\\treturn a < b ? a = b, 1 : 0; }\\n\\ntcTU> T fstTrue(T lo, T hi, U f) {\\n\\thi ++; assert(lo <= hi); // assuming f is increasing\\n\\twhile (lo < hi) { // find first index such that f is true \\n\\t\\tT mid = lo+(hi-lo)/2;\\n\\t\\tf(mid) ? hi = mid : lo = mid+1; \\n\\t} \\n\\treturn lo;\\n}\\ntcTU> T lstTrue(T lo, T hi, U f) {\\n\\tlo --; assert(lo <= hi); // assuming f is decreasing\\n\\twhile (lo < hi) { // find first index such that f is true \\n\\t\\tT mid = lo+(hi-lo+1)/2;\\n\\t\\tf(mid) ? lo = mid : hi = mid-1;\\n\\t} \\n\\treturn lo;\\n}\\ntcT> void remDup(vector<T>& v) { // sort and remove duplicates\\n\\tsort(all(v)); v.erase(unique(all(v)),end(v)); }\\ntcTU> void erase(T& t, const U& u) { // don't erase\\n\\tauto it = t.find(u); assert(it != end(t));\\n\\tt.erase(it); } // element that doesn't exist from (multi)set\\n\\n#define tcTUU tcT, class ...U\\n\\ninline namespace Helpers {\\n\\t//////////// is_iterable\\n\\t// https://stackoverflow.com/questions/13830158/check-if-a-variable-type-is-iterable\\n\\t// this gets used only when we can call begin() and end() on that type\\n\\ttcT, class = void> struct is_iterable : false_type {};\\n\\ttcT> struct is_iterable<T, void_t<decltype(begin(declval<T>())),\\n\\t                                  decltype(end(declval<T>()))\\n\\t                                 >\\n\\t                       > : true_type {};\\n\\ttcT> constexpr bool is_iterable_v = is_iterable<T>::value;\\n\\n\\t//////////// is_readable\\n\\ttcT, class = void> struct is_readable : false_type {};\\n\\ttcT> struct is_readable<T,\\n\\t        typename std::enable_if_t<\\n\\t            is_same_v<decltype(cin >> declval<T&>()), istream&>\\n\\t        >\\n\\t    > : true_type {};\\n\\ttcT> constexpr bool is_readable_v = is_readable<T>::value;\\n\\n\\t//////////// is_printable\\n\\t// // https://nafe.es/posts/2020-02-29-is-printable/\\n\\ttcT, class = void> struct is_printable : false_type {};\\n\\ttcT> struct is_printable<T,\\n\\t        typename std::enable_if_t<\\n\\t            is_same_v<decltype(cout << declval<T>()), ostream&>\\n\\t        >\\n\\t    > : true_type {};\\n\\ttcT> constexpr bool is_printable_v = is_printable<T>::value;\\n}\\n\\ninline namespace Input {\\n\\ttcT> constexpr bool needs_input_v = !is_readable_v<T> && is_iterable_v<T>;\\n\\ttcTUU> void re(T& t, U&... u);\\n\\ttcTU> void re(pair<T,U>& p); // pairs\\n\\n\\t// re: read\\n\\ttcT> typename enable_if<is_readable_v<T>,void>::type re(T& x) { cin >> x; } // default\\n\\ttcT> void re(complex<T>& c) { T a,b; re(a,b); c = {a,b}; } // complex\\n\\ttcT> typename enable_if<needs_input_v<T>,void>::type re(T& i); // ex. vectors, arrays\\n\\ttcTU> void re(pair<T,U>& p) { re(p.f,p.s); }\\n\\ttcT> typename enable_if<needs_input_v<T>,void>::type re(T& i) {\\n\\t\\teach(x,i) re(x); }\\n\\ttcTUU> void re(T& t, U&... u) { re(t); re(u...); } // read multiple\\n\\n\\t// rv: resize and read vectors\\n\\tvoid rv(size_t) {}\\n\\ttcTUU> void rv(size_t N, V<T>& t, U&... u);\\n\\ttemplate<class...U> void rv(size_t, size_t N2, U&... u);\\n\\ttcTUU> void rv(size_t N, V<T>& t, U&... u) {\\n\\t\\tt.rsz(N); re(t);\\n\\t\\trv(N,u...); }\\n\\ttemplate<class...U> void rv(size_t, size_t N2, U&... u) {\\n\\t\\trv(N2,u...); }\\n\\n\\t// dumb shortcuts to read in ints\\n\\tvoid decrement() {} // subtract one from each\\n\\ttcTUU> void decrement(T& t, U&... u) { --t; decrement(u...); }\\n\\t#define ints(...) int __VA_ARGS__; re(__VA_ARGS__);\\n\\t#define int1(...) ints(__VA_ARGS__); decrement(__VA_ARGS__);\\n}\\n\\ninline namespace ToString {\\n\\ttcT> constexpr bool needs_output_v = !is_printable_v<T> && is_iterable_v<T>;\\n\\n\\t// ts: string representation to print\\n\\ttcT> typename enable_if<is_printable_v<T>,str>::type ts(T v) {\\n\\t\\tstringstream ss; ss << fixed << setprecision(15) << v;\\n\\t\\treturn ss.str(); } // default\\n\\ttcT> str bit_vec(T t) { // bit vector to string\\n\\t\\tstr res = \\\"{\\\"; F0R(i,sz(t)) res += ts(t[i]);\\n\\t\\tres += \\\"}\\\"; return res; }\\n\\tstr ts(V<bool> v) { return bit_vec(v); }\\n\\ttemplate<size_t SZ> str ts(bitset<SZ> b) { return bit_vec(b); } // bit vector\\n\\ttcTU> str ts(pair<T,U> p); // pairs\\n\\ttcT> typename enable_if<needs_output_v<T>,str>::type ts(T v); // vectors, arrays\\n\\ttcTU> str ts(pair<T,U> p) { return \\\"(\\\"+ts(p.f)+\\\", \\\"+ts(p.s)+\\\")\\\"; }\\n\\ttcT> typename enable_if<is_iterable_v<T>,str>::type ts_sep(T v, str sep) {\\n\\t\\t// convert container to string w/ separator sep\\n\\t\\tbool fst = 1; str res = \\\"\\\";\\n\\t\\tfor (const auto& x: v) {\\n\\t\\t\\tif (!fst) res += sep;\\n\\t\\t\\tfst = 0; res += ts(x);\\n\\t\\t}\\n\\t\\treturn res;\\n\\t}\\n\\ttcT> typename enable_if<needs_output_v<T>,str>::type ts(T v) {\\n\\t\\treturn \\\"{\\\"+ts_sep(v,\\\", \\\")+\\\"}\\\"; }\\n\\n\\t// for nested DS\\n\\ttemplate<int, class T> typename enable_if<!needs_output_v<T>,vs>::type \\n\\t  ts_lev(const T& v) { return {ts(v)}; }\\n\\ttemplate<int lev, class T> typename enable_if<needs_output_v<T>,vs>::type \\n\\t  ts_lev(const T& v) {\\n\\t\\tif (lev == 0 || !sz(v)) return {ts(v)};\\n\\t\\tvs res;\\n\\t\\tfor (const auto& t: v) {\\n\\t\\t\\tif (sz(res)) res.bk += \\\",\\\";\\n\\t\\t\\tvs tmp = ts_lev<lev-1>(t);\\n\\t\\t\\tres.ins(end(res),all(tmp));\\n\\t\\t}\\n\\t\\tF0R(i,sz(res)) {\\n\\t\\t\\tstr bef = \\\" \\\"; if (i == 0) bef = \\\"{\\\";\\n\\t\\t\\tres[i] = bef+res[i];\\n\\t\\t}\\n\\t\\tres.bk += \\\"}\\\";\\n\\t\\treturn res;\\n\\t}\\n}\\n\\ninline namespace Output {\\n\\ttemplate<class T> void pr_sep(ostream& os, str, const T& t) { os << ts(t); }\\n\\ttemplate<class T, class... U> void pr_sep(ostream& os, str sep, const T& t, const U&... u) {\\n\\t\\tpr_sep(os,sep,t); os << sep; pr_sep(os,sep,u...); }\\n\\t// print w/ no spaces\\n\\ttemplate<class ...T> void pr(const T&... t) { pr_sep(cout,\\\"\\\",t...); } \\n\\t// print w/ spaces, end with newline\\n\\tvoid ps() { cout << \\\"\\\\n\\\"; }\\n\\ttemplate<class ...T> void ps(const T&... t) { pr_sep(cout,\\\" \\\",t...); ps(); } \\n\\t// debug to cerr\\n\\ttemplate<class ...T> void dbg_out(const T&... t) {\\n\\t\\tpr_sep(cerr,\\\" | \\\",t...); cerr << endl; }\\n\\tvoid loc_info(int line, str names) {\\n\\t\\tcerr << \\\"Line(\\\" << line << \\\") -> [\\\" << names << \\\"]: \\\"; }\\n\\ttemplate<int lev, class T> void dbgl_out(const T& t) {\\n\\t\\tcerr << \\\"\\\\n\\\\n\\\" << ts_sep(ts_lev<lev>(t),\\\"\\\\n\\\") << \\\"\\\\n\\\" << endl; }\\n\\t#ifdef LOCAL\\n\\t\\t#define dbg(...) loc_info(__LINE__,#__VA_ARGS__), dbg_out(__VA_ARGS__)\\n\\t\\t#define dbgl(lev,x) loc_info(__LINE__,#x), dbgl_out<lev>(x)\\n\\t#else // don't actually submit with this\\n\\t\\t#define dbg(...) 0\\n\\t\\t#define dbgl(lev,x) 0\\n\\t#endif\\n}\\n\\ninline namespace FileIO {\\n\\tvoid setIn(str s)  { freopen(s.c_str(), \\\"r\\\", stdin); }\\n\\tvoid setOut(str s) { freopen(s.c_str(), \\\"w\\\", stdout); }\\n\\tvoid setIO(str s = \\\"\\\") {\\n\\t\\tcin.tie(0)->sync_with_stdio(0); // unsync C / C++ I/O streams\\n\\t\\t// cin.exceptions(cin.failbit);\\n\\t\\t// throws exception when do smth illegal\\n\\t\\t// ex. try to read letter into int\\n\\t\\tif (sz(s)) setIn(s+\\\".in\\\"), setOut(s+\\\".out\\\"); // for old USACO\\n\\t}\\n}\\n//EndCodeSnip\\n\\r\\nint N, Q, T = 1;\\r\\nint depth[200005];\\r\\nint up[200005][20];\\r\\nvi adj[200005];\\r\\n\\r\\nvoid dfs(int v) {\\r\\n\\tFOR(i, 1, 20) {\\r\\n\\t\\tup[v][i] = up[up[v][i-1]][i-1];\\r\\n\\t}\\r\\n\\r\\n\\tfor(int x : adj[v]) {\\r\\n\\t\\tif(x != up[v][0]) {\\r\\n\\t\\t\\tdepth[x] = depth[up[x][0] = v]+1;\\r\\n\\t\\t\\tdfs(x);\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\\r\\n\\r\\nint jump(int x, int d) {\\r\\n\\tF0R(i, 20) {\\r\\n\\t\\tif((d >> i) & 1)\\r\\n\\t\\t\\tx = up[x][i];\\r\\n\\t}\\r\\n\\treturn x;\\r\\n}\\r\\n\\r\\nint LCA(int a, int b) {\\r\\n\\tif(depth[a] < depth[b]) swap(a, b);\\r\\n\\r\\n\\ta = jump(a, depth[a] - depth[b]);\\r\\n\\tif(a == b) return a;\\r\\n\\r\\n\\tR0F(i, 20) {\\r\\n\\t\\tint aT = up[a][i], bT = up[b][i];\\r\\n\\t\\tif(aT != bT) a = aT, b = bT;\\r\\n\\t}\\r\\n\\r\\n\\treturn up[a][0];\\r\\n}\\r\\n\\r\\nint main() {\\r\\n\\tre(N, Q);\\r\\n\\r\\n\\trep(N-1) {\\r\\n\\t\\tint b; re(b); --b;\\r\\n\\t\\tadj[b].pb(i+1);\\r\\n\\t}\\r\\n\\r\\n\\tup[0][0] = 0, depth[0] = 0;\\r\\n\\tdfs(0);\\r\\n\\r\\n\\trep(Q) {\\r\\n\\t\\tint a, b; re(a, b); --a; --b;\\r\\n\\t\\tps(LCA(a, b)+1);\\r\\n\\t}\\r\\n}\\n\"\n          })\n        })\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"alternative-solution-company-queries-ii\",\n      children: [_jsx(_components.a, {\n        href: \"#alternative-solution-company-queries-ii\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Alternative Solution (Company Queries II)\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"As mentioned in the \", _jsx(_components.a, {\n        href: \"/gold/tree-euler\",\n        children: \"Euler Tour Technique\"\n      }), \" module, let\\r\\n\", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\texttt{st}, \\\\texttt{en}, \\\\texttt{up}\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mtext mathvariant=\\\"monospace\\\">st</mtext><mo separator=\\\"true\\\">,</mo><mtext mathvariant=\\\"monospace\\\">en</mtext><mo separator=\\\"true\\\">,</mo><mtext mathvariant=\\\"monospace\\\">up</mtext></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\texttt{st}, \\\\texttt{en}, \\\\texttt{up}</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.7758em;vertical-align:-0.2222em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">st</span></span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">en</span></span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">up</span></span></span></span></span>\"\n      }), \" be the time-in, time-out, and ancestor\\r\\ntable for all nodes in the tree.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"These can be filled with a DFS traversal. \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\texttt{up}\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mtext mathvariant=\\\"monospace\\\">up</mtext></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\texttt{up}</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6528em;vertical-align:-0.2222em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">up</span></span></span></span></span>\"\n      }), \" can be generated because\\r\\nDFS allows the ancestors to be filled first before traversing the current node.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"With this information, we can declare node \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"a\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\\\"application/x-tex\\\">a</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">a</span></span></span></span>\"\n      }), \" an ancestor of \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"b\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\\\"application/x-tex\\\">b</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord mathnormal\\\">b</span></span></span></span>\"\n      }), \" if\\r\\n\", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\texttt{st}[a] \\\\le \\\\texttt{st}[b]\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mtext mathvariant=\\\"monospace\\\">st</mtext><mo stretchy=\\\"false\\\">[</mo><mi>a</mi><mo stretchy=\\\"false\\\">]</mo><mo>≤</mo><mtext mathvariant=\\\"monospace\\\">st</mtext><mo stretchy=\\\"false\\\">[</mo><mi>b</mi><mo stretchy=\\\"false\\\">]</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\texttt{st}[a] \\\\le \\\\texttt{st}[b]</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">st</span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathnormal\\\">a</span><span class=\\\"mclose\\\">]</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2778em;\\\"></span><span class=\\\"mrel\\\">≤</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2778em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">st</span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathnormal\\\">b</span><span class=\\\"mclose\\\">]</span></span></span></span>\"\n      }), \" and \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\texttt{en}[a] \\\\ge \\\\texttt{en}[b]\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mtext mathvariant=\\\"monospace\\\">en</mtext><mo stretchy=\\\"false\\\">[</mo><mi>a</mi><mo stretchy=\\\"false\\\">]</mo><mo>≥</mo><mtext mathvariant=\\\"monospace\\\">en</mtext><mo stretchy=\\\"false\\\">[</mo><mi>b</mi><mo stretchy=\\\"false\\\">]</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\texttt{en}[a] \\\\ge \\\\texttt{en}[b]</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">en</span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathnormal\\\">a</span><span class=\\\"mclose\\\">]</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2778em;\\\"></span><span class=\\\"mrel\\\">≥</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2778em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">en</span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathnormal\\\">b</span><span class=\\\"mclose\\\">]</span></span></span></span>\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"We know that if \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"a\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\\\"application/x-tex\\\">a</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">a</span></span></span></span>\"\n      }), \" is an ancestor of \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"b\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\\\"application/x-tex\\\">b</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord mathnormal\\\">b</span></span></span></span>\"\n      }), \" or \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"b\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\\\"application/x-tex\\\">b</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord mathnormal\\\">b</span></span></span></span>\"\n      }), \" is an ancestor of \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"a\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\\\"application/x-tex\\\">a</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">a</span></span></span></span>\"\n      }), \", the\\r\\nanswer will be \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"a\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\\\"application/x-tex\\\">a</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">a</span></span></span></span>\"\n      }), \" or \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"b\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\\\"application/x-tex\\\">b</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord mathnormal\\\">b</span></span></span></span>\"\n      }), \" respectively. Otherwise, we lift one of the nodes up\\r\\n(in this case, \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"a\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\\\"application/x-tex\\\">a</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">a</span></span></span></span>\"\n      }), \") decrementally while it is not the ancestor of \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"b\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\\\"application/x-tex\\\">b</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord mathnormal\\\">b</span></span></span></span>\"\n      }), \".\\r\\nTherefore, if \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\texttt{up}[a][i]\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mtext mathvariant=\\\"monospace\\\">up</mtext><mo stretchy=\\\"false\\\">[</mo><mi>a</mi><mo stretchy=\\\"false\\\">]</mo><mo stretchy=\\\"false\\\">[</mo><mi>i</mi><mo stretchy=\\\"false\\\">]</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\texttt{up}[a][i]</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">up</span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathnormal\\\">a</span><span class=\\\"mclose\\\">]</span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathnormal\\\">i</span><span class=\\\"mclose\\\">]</span></span></span></span>\"\n      }), \" is not an ancestor of \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"b\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\\\"application/x-tex\\\">b</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord mathnormal\\\">b</span></span></span></span>\"\n      }), \", then we can set \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"a\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\\\"application/x-tex\\\">a</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">a</span></span></span></span>\"\n      }), \"\\r\\nto be \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\texttt{up}[a][i]\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mtext mathvariant=\\\"monospace\\\">up</mtext><mo stretchy=\\\"false\\\">[</mo><mi>a</mi><mo stretchy=\\\"false\\\">]</mo><mo stretchy=\\\"false\\\">[</mo><mi>i</mi><mo stretchy=\\\"false\\\">]</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\texttt{up}[a][i]</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">up</span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathnormal\\\">a</span><span class=\\\"mclose\\\">]</span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathnormal\\\">i</span><span class=\\\"mclose\\\">]</span></span></span></span>\"\n      }), \", else, we will decrement \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"i\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\\\"application/x-tex\\\">i</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6595em;\\\"></span><span class=\\\"mord mathnormal\\\">i</span></span></span></span>\"\n      }), \" and try to find a lower\\r\\ncommon ancestor. Afterwards, our answer is the parent of \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"a\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\\\"application/x-tex\\\">a</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">a</span></span></span></span>\"\n      }), \".\"]\n    }), \"\\n\", _jsx(LanguageSection, {\n      children: _jsx(CPPSection, {\n        children: _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-cpp\",\n            children: \"//BeginCodeSnip{Benq Template}\\n#include <bits/stdc++.h>\\nusing namespace std;\\n \\nusing ll = long long;\\nusing db = long double; // or double, if TL is tight\\nusing str = string; // yay python!\\n\\nusing pi = pair<int,int>;\\nusing pl = pair<ll,ll>;\\nusing pd = pair<db,db>;\\n\\nusing vi = vector<int>;\\nusing vb = vector<bool>;\\nusing vl = vector<ll>;\\nusing vd = vector<db>; \\nusing vs = vector<str>;\\nusing vpi = vector<pi>;\\nusing vpl = vector<pl>; \\nusing vpd = vector<pd>;\\n\\n#define tcT template<class T\\n#define tcTU tcT, class U\\n// ^ lol this makes everything look weird but I'll try it\\ntcT> using V = vector<T>; \\ntcT, size_t SZ> using AR = array<T,SZ>; \\ntcT> using PR = pair<T,T>;\\n\\n// pairs\\n#define mp make_pair\\n#define f first\\n#define s second\\n\\n// vectors\\n// oops size(x), rbegin(x), rend(x) need C++17\\n#define sz(x) int((x).size())\\n#define bg(x) begin(x)\\n#define all(x) bg(x), end(x)\\n#define rall(x) x.rbegin(), x.rend() \\n#define sor(x) sort(all(x)) \\n#define rsz resize\\n#define ins insert \\n#define ft front()\\n#define bk back()\\n#define pb push_back\\n#define eb emplace_back \\n#define pf push_front\\n#define rtn return\\n\\n#define lb lower_bound\\n#define ub upper_bound \\ntcT> int lwb(V<T>& a, const T& b) { return int(lb(all(a),b)-bg(a)); }\\n\\n// loops\\n#define FOR(i,a,b) for (int i = (a); i < (b); ++i)\\n#define F0R(i,a) FOR(i,0,a)\\n#define ROF(i,a,b) for (int i = (b)-1; i >= (a); --i)\\n#define R0F(i,a) ROF(i,0,a)\\n#define rep(a) F0R(_,a)\\n#define each(a,x) for (auto& a: x)\\n\\nconst int MOD = 1e9+7; // 998244353;\\nconst int MX = 2e5+5;\\nconst ll INF = 1e18; // not too close to LLONG_MAX\\nconst db PI = acos((db)-1);\\nconst int dx[4] = {1,0,-1,0}, dy[4] = {0,1,0,-1}; // for every grid problem!!\\nmt19937 rng((uint32_t)chrono::steady_clock::now().time_since_epoch().count()); \\ntemplate<class T> using pqg = priority_queue<T,vector<T>,greater<T>>;\\n\\n// bitwise ops\\n// also see https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html\\nconstexpr int pct(int x) { return __builtin_popcount(x); } // # of bits set\\nconstexpr int bits(int x) { // assert(x >= 0); // make C++11 compatible until USACO updates ...\\n\\treturn x == 0 ? 0 : 31-__builtin_clz(x); } // floor(log2(x)) \\nconstexpr int p2(int x) { return 1<<x; }\\nconstexpr int msk2(int x) { return p2(x)-1; }\\n\\nll cdiv(ll a, ll b) { return a/b+((a^b)>0&&a%b); } // divide a by b rounded up\\nll fdiv(ll a, ll b) { return a/b-((a^b)<0&&a%b); } // divide a by b rounded down\\n\\ntcT> bool ckmin(T& a, const T& b) {\\n\\treturn b < a ? a = b, 1 : 0; } // set a = min(a,b)\\ntcT> bool ckmax(T& a, const T& b) {\\n\\treturn a < b ? a = b, 1 : 0; }\\n\\ntcTU> T fstTrue(T lo, T hi, U f) {\\n\\thi ++; assert(lo <= hi); // assuming f is increasing\\n\\twhile (lo < hi) { // find first index such that f is true \\n\\t\\tT mid = lo+(hi-lo)/2;\\n\\t\\tf(mid) ? hi = mid : lo = mid+1; \\n\\t} \\n\\treturn lo;\\n}\\ntcTU> T lstTrue(T lo, T hi, U f) {\\n\\tlo --; assert(lo <= hi); // assuming f is decreasing\\n\\twhile (lo < hi) { // find first index such that f is true \\n\\t\\tT mid = lo+(hi-lo+1)/2;\\n\\t\\tf(mid) ? lo = mid : hi = mid-1;\\n\\t} \\n\\treturn lo;\\n}\\ntcT> void remDup(vector<T>& v) { // sort and remove duplicates\\n\\tsort(all(v)); v.erase(unique(all(v)),end(v)); }\\ntcTU> void erase(T& t, const U& u) { // don't erase\\n\\tauto it = t.find(u); assert(it != end(t));\\n\\tt.erase(it); } // element that doesn't exist from (multi)set\\n\\n#define tcTUU tcT, class ...U\\n\\ninline namespace Helpers {\\n\\t//////////// is_iterable\\n\\t// https://stackoverflow.com/questions/13830158/check-if-a-variable-type-is-iterable\\n\\t// this gets used only when we can call begin() and end() on that type\\n\\ttcT, class = void> struct is_iterable : false_type {};\\n\\ttcT> struct is_iterable<T, void_t<decltype(begin(declval<T>())),\\n\\t                                  decltype(end(declval<T>()))\\n\\t                                 >\\n\\t                       > : true_type {};\\n\\ttcT> constexpr bool is_iterable_v = is_iterable<T>::value;\\n\\n\\t//////////// is_readable\\n\\ttcT, class = void> struct is_readable : false_type {};\\n\\ttcT> struct is_readable<T,\\n\\t        typename std::enable_if_t<\\n\\t            is_same_v<decltype(cin >> declval<T&>()), istream&>\\n\\t        >\\n\\t    > : true_type {};\\n\\ttcT> constexpr bool is_readable_v = is_readable<T>::value;\\n\\n\\t//////////// is_printable\\n\\t// // https://nafe.es/posts/2020-02-29-is-printable/\\n\\ttcT, class = void> struct is_printable : false_type {};\\n\\ttcT> struct is_printable<T,\\n\\t        typename std::enable_if_t<\\n\\t            is_same_v<decltype(cout << declval<T>()), ostream&>\\n\\t        >\\n\\t    > : true_type {};\\n\\ttcT> constexpr bool is_printable_v = is_printable<T>::value;\\n}\\n\\ninline namespace Input {\\n\\ttcT> constexpr bool needs_input_v = !is_readable_v<T> && is_iterable_v<T>;\\n\\ttcTUU> void re(T& t, U&... u);\\n\\ttcTU> void re(pair<T,U>& p); // pairs\\n\\n\\t// re: read\\n\\ttcT> typename enable_if<is_readable_v<T>,void>::type re(T& x) { cin >> x; } // default\\n\\ttcT> void re(complex<T>& c) { T a,b; re(a,b); c = {a,b}; } // complex\\n\\ttcT> typename enable_if<needs_input_v<T>,void>::type re(T& i); // ex. vectors, arrays\\n\\ttcTU> void re(pair<T,U>& p) { re(p.f,p.s); }\\n\\ttcT> typename enable_if<needs_input_v<T>,void>::type re(T& i) {\\n\\t\\teach(x,i) re(x); }\\n\\ttcTUU> void re(T& t, U&... u) { re(t); re(u...); } // read multiple\\n\\n\\t// rv: resize and read vectors\\n\\tvoid rv(size_t) {}\\n\\ttcTUU> void rv(size_t N, V<T>& t, U&... u);\\n\\ttemplate<class...U> void rv(size_t, size_t N2, U&... u);\\n\\ttcTUU> void rv(size_t N, V<T>& t, U&... u) {\\n\\t\\tt.rsz(N); re(t);\\n\\t\\trv(N,u...); }\\n\\ttemplate<class...U> void rv(size_t, size_t N2, U&... u) {\\n\\t\\trv(N2,u...); }\\n\\n\\t// dumb shortcuts to read in ints\\n\\tvoid decrement() {} // subtract one from each\\n\\ttcTUU> void decrement(T& t, U&... u) { --t; decrement(u...); }\\n\\t#define ints(...) int __VA_ARGS__; re(__VA_ARGS__);\\n\\t#define int1(...) ints(__VA_ARGS__); decrement(__VA_ARGS__);\\n}\\n\\ninline namespace ToString {\\n\\ttcT> constexpr bool needs_output_v = !is_printable_v<T> && is_iterable_v<T>;\\n\\n\\t// ts: string representation to print\\n\\ttcT> typename enable_if<is_printable_v<T>,str>::type ts(T v) {\\n\\t\\tstringstream ss; ss << fixed << setprecision(15) << v;\\n\\t\\treturn ss.str(); } // default\\n\\ttcT> str bit_vec(T t) { // bit vector to string\\n\\t\\tstr res = \\\"{\\\"; F0R(i,sz(t)) res += ts(t[i]);\\n\\t\\tres += \\\"}\\\"; return res; }\\n\\tstr ts(V<bool> v) { return bit_vec(v); }\\n\\ttemplate<size_t SZ> str ts(bitset<SZ> b) { return bit_vec(b); } // bit vector\\n\\ttcTU> str ts(pair<T,U> p); // pairs\\n\\ttcT> typename enable_if<needs_output_v<T>,str>::type ts(T v); // vectors, arrays\\n\\ttcTU> str ts(pair<T,U> p) { return \\\"(\\\"+ts(p.f)+\\\", \\\"+ts(p.s)+\\\")\\\"; }\\n\\ttcT> typename enable_if<is_iterable_v<T>,str>::type ts_sep(T v, str sep) {\\n\\t\\t// convert container to string w/ separator sep\\n\\t\\tbool fst = 1; str res = \\\"\\\";\\n\\t\\tfor (const auto& x: v) {\\n\\t\\t\\tif (!fst) res += sep;\\n\\t\\t\\tfst = 0; res += ts(x);\\n\\t\\t}\\n\\t\\treturn res;\\n\\t}\\n\\ttcT> typename enable_if<needs_output_v<T>,str>::type ts(T v) {\\n\\t\\treturn \\\"{\\\"+ts_sep(v,\\\", \\\")+\\\"}\\\"; }\\n\\n\\t// for nested DS\\n\\ttemplate<int, class T> typename enable_if<!needs_output_v<T>,vs>::type \\n\\t  ts_lev(const T& v) { return {ts(v)}; }\\n\\ttemplate<int lev, class T> typename enable_if<needs_output_v<T>,vs>::type \\n\\t  ts_lev(const T& v) {\\n\\t\\tif (lev == 0 || !sz(v)) return {ts(v)};\\n\\t\\tvs res;\\n\\t\\tfor (const auto& t: v) {\\n\\t\\t\\tif (sz(res)) res.bk += \\\",\\\";\\n\\t\\t\\tvs tmp = ts_lev<lev-1>(t);\\n\\t\\t\\tres.ins(end(res),all(tmp));\\n\\t\\t}\\n\\t\\tF0R(i,sz(res)) {\\n\\t\\t\\tstr bef = \\\" \\\"; if (i == 0) bef = \\\"{\\\";\\n\\t\\t\\tres[i] = bef+res[i];\\n\\t\\t}\\n\\t\\tres.bk += \\\"}\\\";\\n\\t\\treturn res;\\n\\t}\\n}\\n\\ninline namespace Output {\\n\\ttemplate<class T> void pr_sep(ostream& os, str, const T& t) { os << ts(t); }\\n\\ttemplate<class T, class... U> void pr_sep(ostream& os, str sep, const T& t, const U&... u) {\\n\\t\\tpr_sep(os,sep,t); os << sep; pr_sep(os,sep,u...); }\\n\\t// print w/ no spaces\\n\\ttemplate<class ...T> void pr(const T&... t) { pr_sep(cout,\\\"\\\",t...); } \\n\\t// print w/ spaces, end with newline\\n\\tvoid ps() { cout << \\\"\\\\n\\\"; }\\n\\ttemplate<class ...T> void ps(const T&... t) { pr_sep(cout,\\\" \\\",t...); ps(); } \\n\\t// debug to cerr\\n\\ttemplate<class ...T> void dbg_out(const T&... t) {\\n\\t\\tpr_sep(cerr,\\\" | \\\",t...); cerr << endl; }\\n\\tvoid loc_info(int line, str names) {\\n\\t\\tcerr << \\\"Line(\\\" << line << \\\") -> [\\\" << names << \\\"]: \\\"; }\\n\\ttemplate<int lev, class T> void dbgl_out(const T& t) {\\n\\t\\tcerr << \\\"\\\\n\\\\n\\\" << ts_sep(ts_lev<lev>(t),\\\"\\\\n\\\") << \\\"\\\\n\\\" << endl; }\\n\\t#ifdef LOCAL\\n\\t\\t#define dbg(...) loc_info(__LINE__,#__VA_ARGS__), dbg_out(__VA_ARGS__)\\n\\t\\t#define dbgl(lev,x) loc_info(__LINE__,#x), dbgl_out<lev>(x)\\n\\t#else // don't actually submit with this\\n\\t\\t#define dbg(...) 0\\n\\t\\t#define dbgl(lev,x) 0\\n\\t#endif\\n}\\n\\ninline namespace FileIO {\\n\\tvoid setIn(str s)  { freopen(s.c_str(), \\\"r\\\", stdin); }\\n\\tvoid setOut(str s) { freopen(s.c_str(), \\\"w\\\", stdout); }\\n\\tvoid setIO(str s = \\\"\\\") {\\n\\t\\tcin.tie(0)->sync_with_stdio(0); // unsync C / C++ I/O streams\\n\\t\\t// cin.exceptions(cin.failbit);\\n\\t\\t// throws exception when do smth illegal\\n\\t\\t// ex. try to read letter into int\\n\\t\\tif (sz(s)) setIn(s+\\\".in\\\"), setOut(s+\\\".out\\\"); // for old USACO\\n\\t}\\n}\\n//EndCodeSnip\\n\\r\\nint N, Q, T = 1;\\r\\nvi st, en;\\r\\nint up[200005][20];\\r\\nvi adj[200005];\\r\\n\\r\\nvoid dfs(int v, int p) {\\r\\n\\tst[v] = T++;\\r\\n\\tup[v][0] = p;\\r\\n\\r\\n\\tFOR(i, 1, 20) {\\r\\n\\t\\tup[v][i] = up[up[v][i-1]][i-1];\\r\\n\\t}\\r\\n\\r\\n\\tfor(int x : adj[v]) if(x != p) dfs(x, v);\\r\\n\\r\\n\\ten[v] = T-1;\\r\\n}\\r\\n\\r\\nbool anc(int a, int b) {\\r\\n\\treturn st[a] <= st[b] && en[a] >= en[b];\\r\\n}\\r\\n\\r\\nint LCA(int a, int b) {\\r\\n\\tif(anc(a, b)) return a;\\r\\n\\tif(anc(b, a)) return b;\\r\\n\\r\\n\\tR0F(i, 20) {\\r\\n\\t\\tif(!anc(up[a][i], b))\\r\\n\\t\\t\\ta = up[a][i];\\r\\n\\t}\\r\\n\\treturn up[a][0];\\r\\n}\\r\\n\\r\\nint main() {\\r\\n\\tre(N, Q);\\r\\n\\tst.resize(N); en.resize(N);\\r\\n\\r\\n\\trep(N-1) {\\r\\n\\t\\tint b; re(b); --b;\\r\\n\\t\\tadj[b].pb(i+1);\\r\\n\\t}\\r\\n\\r\\n\\tdfs(0,0);\\r\\n\\r\\n\\trep(Q) {\\r\\n\\t\\tint a, b; re(a, b); --a; --b;\\r\\n\\t\\tps(LCA(a, b)+1);\\r\\n\\t}\\r\\n}\\n\"\n          })\n        })\n      })\n    }), \"\\n\", _jsx(Resources, {\n      children: _jsx(Resource, {\n        source: \"cp-algo\",\n        title: \"LCA with Binary Lifting\",\n        url: \"graph/lca_binary_lifting.html\"\n      })\n    }), \"\\n\", _jsx(Optional, {\n      title: \"Improvements\",\n      children: _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: _jsxs(_components.a, {\n            href: \"https://codeforces.com/blog/entry/74847\",\n            target: \"_blank\",\n            rel: \"nofollow noopener noreferrer\",\n            children: [\"CF: \", _jsx(MATHSPAN, {\n              className: \"math math-inline\",\n              latex: \"\\\\mathcal{O}(\\\\log N)\",\n              children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi mathvariant=\\\"script\\\">O</mi><mo stretchy=\\\"false\\\">(</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\mathcal{O}(\\\\log N)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord mathcal\\\" style=\\\"margin-right:0.02778em;\\\">O</span><span class=\\\"mopen\\\">(</span><span class=\\\"mop\\\">lo<span style=\\\"margin-right:0.01389em;\\\">g</span></span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.10903em;\\\">N</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n            }), \" queries and \", _jsx(MATHSPAN, {\n              className: \"math math-inline\",\n              latex: \"\\\\mathcal{O}(N)\",\n              children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi mathvariant=\\\"script\\\">O</mi><mo stretchy=\\\"false\\\">(</mo><mi>N</mi><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\mathcal{O}(N)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord mathcal\\\" style=\\\"margin-right:0.02778em;\\\">O</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.10903em;\\\">N</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n            }), \" memory\"]\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsxs(_components.a, {\n            href: \"https://courses.csail.mit.edu/6.851/spring21/scribe/lec15.pdf\",\n            target: \"_blank\",\n            rel: \"nofollow noopener noreferrer\",\n            children: [\"MIT: \", _jsx(MATHSPAN, {\n              className: \"math math-inline\",\n              latex: \"\\\\mathcal{O}(1)\",\n              children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi mathvariant=\\\"script\\\">O</mi><mo stretchy=\\\"false\\\">(</mo><mn>1</mn><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\mathcal{O}(1)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord mathcal\\\" style=\\\"margin-right:0.02778em;\\\">O</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\">1</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n            }), \" queries and \", _jsx(MATHSPAN, {\n              className: \"math math-inline\",\n              latex: \"\\\\mathcal{O}(N)\",\n              children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi mathvariant=\\\"script\\\">O</mi><mo stretchy=\\\"false\\\">(</mo><mi>N</mi><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\mathcal{O}(N)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord mathcal\\\" style=\\\"margin-right:0.02778em;\\\">O</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.10903em;\\\">N</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n            }), \" memory\"]\n          })\n        }), \"\\n\"]\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"solution-distance-queries\",\n      children: [_jsx(_components.a, {\n        href: \"#solution-distance-queries\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Solution (Distance Queries)\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Find LCA of node \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"a\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\\\"application/x-tex\\\">a</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">a</span></span></span></span>\"\n      }), \" and \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"b\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\\\"application/x-tex\\\">b</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord mathnormal\\\">b</span></span></span></span>\"\n      }), \" as described above. Then, the distance between the\\r\\ntwo nodes would be the\\r\\n\", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\texttt{depth}[a] + \\\\texttt{depth}[b] - 2 \\\\cdot \\\\texttt{depth}[\\\\textrm{lca}(a, b)]\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mtext mathvariant=\\\"monospace\\\">depth</mtext><mo stretchy=\\\"false\\\">[</mo><mi>a</mi><mo stretchy=\\\"false\\\">]</mo><mo>+</mo><mtext mathvariant=\\\"monospace\\\">depth</mtext><mo stretchy=\\\"false\\\">[</mo><mi>b</mi><mo stretchy=\\\"false\\\">]</mo><mo>−</mo><mn>2</mn><mo>⋅</mo><mtext mathvariant=\\\"monospace\\\">depth</mtext><mo stretchy=\\\"false\\\">[</mo><mtext>lca</mtext><mo stretchy=\\\"false\\\">(</mo><mi>a</mi><mo separator=\\\"true\\\">,</mo><mi>b</mi><mo stretchy=\\\"false\\\">)</mo><mo stretchy=\\\"false\\\">]</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\texttt{depth}[a] + \\\\texttt{depth}[b] - 2 \\\\cdot \\\\texttt{depth}[\\\\textrm{lca}(a, b)]</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">depth</span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathnormal\\\">a</span><span class=\\\"mclose\\\">]</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span><span class=\\\"mbin\\\">+</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">depth</span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathnormal\\\">b</span><span class=\\\"mclose\\\">]</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span><span class=\\\"mbin\\\">−</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6444em;\\\"></span><span class=\\\"mord\\\">2</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span><span class=\\\"mbin\\\">⋅</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord text\\\"><span class=\\\"mord texttt\\\">depth</span></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord text\\\"><span class=\\\"mord textrm\\\">lca</span></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\">a</span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord mathnormal\\\">b</span><span class=\\\"mclose\\\">)]</span></span></span></span>\"\n      }), \".\"]\n    }), \"\\n\", _jsx(LanguageSection, {\n      children: _jsx(CPPSection, {\n        children: _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-cpp\",\n            children: \"//BeginCodeSnip{Benq Template}\\n#include <bits/stdc++.h>\\nusing namespace std;\\n \\nusing ll = long long;\\nusing db = long double; // or double, if TL is tight\\nusing str = string; // yay python!\\n\\nusing pi = pair<int,int>;\\nusing pl = pair<ll,ll>;\\nusing pd = pair<db,db>;\\n\\nusing vi = vector<int>;\\nusing vb = vector<bool>;\\nusing vl = vector<ll>;\\nusing vd = vector<db>; \\nusing vs = vector<str>;\\nusing vpi = vector<pi>;\\nusing vpl = vector<pl>; \\nusing vpd = vector<pd>;\\n\\n#define tcT template<class T\\n#define tcTU tcT, class U\\n// ^ lol this makes everything look weird but I'll try it\\ntcT> using V = vector<T>; \\ntcT, size_t SZ> using AR = array<T,SZ>; \\ntcT> using PR = pair<T,T>;\\n\\n// pairs\\n#define mp make_pair\\n#define f first\\n#define s second\\n\\n// vectors\\n// oops size(x), rbegin(x), rend(x) need C++17\\n#define sz(x) int((x).size())\\n#define bg(x) begin(x)\\n#define all(x) bg(x), end(x)\\n#define rall(x) x.rbegin(), x.rend() \\n#define sor(x) sort(all(x)) \\n#define rsz resize\\n#define ins insert \\n#define ft front()\\n#define bk back()\\n#define pb push_back\\n#define eb emplace_back \\n#define pf push_front\\n#define rtn return\\n\\n#define lb lower_bound\\n#define ub upper_bound \\ntcT> int lwb(V<T>& a, const T& b) { return int(lb(all(a),b)-bg(a)); }\\n\\n// loops\\n#define FOR(i,a,b) for (int i = (a); i < (b); ++i)\\n#define F0R(i,a) FOR(i,0,a)\\n#define ROF(i,a,b) for (int i = (b)-1; i >= (a); --i)\\n#define R0F(i,a) ROF(i,0,a)\\n#define rep(a) F0R(_,a)\\n#define each(a,x) for (auto& a: x)\\n\\nconst int MOD = 1e9+7; // 998244353;\\nconst int MX = 2e5+5;\\nconst ll INF = 1e18; // not too close to LLONG_MAX\\nconst db PI = acos((db)-1);\\nconst int dx[4] = {1,0,-1,0}, dy[4] = {0,1,0,-1}; // for every grid problem!!\\nmt19937 rng((uint32_t)chrono::steady_clock::now().time_since_epoch().count()); \\ntemplate<class T> using pqg = priority_queue<T,vector<T>,greater<T>>;\\n\\n// bitwise ops\\n// also see https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html\\nconstexpr int pct(int x) { return __builtin_popcount(x); } // # of bits set\\nconstexpr int bits(int x) { // assert(x >= 0); // make C++11 compatible until USACO updates ...\\n\\treturn x == 0 ? 0 : 31-__builtin_clz(x); } // floor(log2(x)) \\nconstexpr int p2(int x) { return 1<<x; }\\nconstexpr int msk2(int x) { return p2(x)-1; }\\n\\nll cdiv(ll a, ll b) { return a/b+((a^b)>0&&a%b); } // divide a by b rounded up\\nll fdiv(ll a, ll b) { return a/b-((a^b)<0&&a%b); } // divide a by b rounded down\\n\\ntcT> bool ckmin(T& a, const T& b) {\\n\\treturn b < a ? a = b, 1 : 0; } // set a = min(a,b)\\ntcT> bool ckmax(T& a, const T& b) {\\n\\treturn a < b ? a = b, 1 : 0; }\\n\\ntcTU> T fstTrue(T lo, T hi, U f) {\\n\\thi ++; assert(lo <= hi); // assuming f is increasing\\n\\twhile (lo < hi) { // find first index such that f is true \\n\\t\\tT mid = lo+(hi-lo)/2;\\n\\t\\tf(mid) ? hi = mid : lo = mid+1; \\n\\t} \\n\\treturn lo;\\n}\\ntcTU> T lstTrue(T lo, T hi, U f) {\\n\\tlo --; assert(lo <= hi); // assuming f is decreasing\\n\\twhile (lo < hi) { // find first index such that f is true \\n\\t\\tT mid = lo+(hi-lo+1)/2;\\n\\t\\tf(mid) ? lo = mid : hi = mid-1;\\n\\t} \\n\\treturn lo;\\n}\\ntcT> void remDup(vector<T>& v) { // sort and remove duplicates\\n\\tsort(all(v)); v.erase(unique(all(v)),end(v)); }\\ntcTU> void erase(T& t, const U& u) { // don't erase\\n\\tauto it = t.find(u); assert(it != end(t));\\n\\tt.erase(it); } // element that doesn't exist from (multi)set\\n\\n#define tcTUU tcT, class ...U\\n\\ninline namespace Helpers {\\n\\t//////////// is_iterable\\n\\t// https://stackoverflow.com/questions/13830158/check-if-a-variable-type-is-iterable\\n\\t// this gets used only when we can call begin() and end() on that type\\n\\ttcT, class = void> struct is_iterable : false_type {};\\n\\ttcT> struct is_iterable<T, void_t<decltype(begin(declval<T>())),\\n\\t                                  decltype(end(declval<T>()))\\n\\t                                 >\\n\\t                       > : true_type {};\\n\\ttcT> constexpr bool is_iterable_v = is_iterable<T>::value;\\n\\n\\t//////////// is_readable\\n\\ttcT, class = void> struct is_readable : false_type {};\\n\\ttcT> struct is_readable<T,\\n\\t        typename std::enable_if_t<\\n\\t            is_same_v<decltype(cin >> declval<T&>()), istream&>\\n\\t        >\\n\\t    > : true_type {};\\n\\ttcT> constexpr bool is_readable_v = is_readable<T>::value;\\n\\n\\t//////////// is_printable\\n\\t// // https://nafe.es/posts/2020-02-29-is-printable/\\n\\ttcT, class = void> struct is_printable : false_type {};\\n\\ttcT> struct is_printable<T,\\n\\t        typename std::enable_if_t<\\n\\t            is_same_v<decltype(cout << declval<T>()), ostream&>\\n\\t        >\\n\\t    > : true_type {};\\n\\ttcT> constexpr bool is_printable_v = is_printable<T>::value;\\n}\\n\\ninline namespace Input {\\n\\ttcT> constexpr bool needs_input_v = !is_readable_v<T> && is_iterable_v<T>;\\n\\ttcTUU> void re(T& t, U&... u);\\n\\ttcTU> void re(pair<T,U>& p); // pairs\\n\\n\\t// re: read\\n\\ttcT> typename enable_if<is_readable_v<T>,void>::type re(T& x) { cin >> x; } // default\\n\\ttcT> void re(complex<T>& c) { T a,b; re(a,b); c = {a,b}; } // complex\\n\\ttcT> typename enable_if<needs_input_v<T>,void>::type re(T& i); // ex. vectors, arrays\\n\\ttcTU> void re(pair<T,U>& p) { re(p.f,p.s); }\\n\\ttcT> typename enable_if<needs_input_v<T>,void>::type re(T& i) {\\n\\t\\teach(x,i) re(x); }\\n\\ttcTUU> void re(T& t, U&... u) { re(t); re(u...); } // read multiple\\n\\n\\t// rv: resize and read vectors\\n\\tvoid rv(size_t) {}\\n\\ttcTUU> void rv(size_t N, V<T>& t, U&... u);\\n\\ttemplate<class...U> void rv(size_t, size_t N2, U&... u);\\n\\ttcTUU> void rv(size_t N, V<T>& t, U&... u) {\\n\\t\\tt.rsz(N); re(t);\\n\\t\\trv(N,u...); }\\n\\ttemplate<class...U> void rv(size_t, size_t N2, U&... u) {\\n\\t\\trv(N2,u...); }\\n\\n\\t// dumb shortcuts to read in ints\\n\\tvoid decrement() {} // subtract one from each\\n\\ttcTUU> void decrement(T& t, U&... u) { --t; decrement(u...); }\\n\\t#define ints(...) int __VA_ARGS__; re(__VA_ARGS__);\\n\\t#define int1(...) ints(__VA_ARGS__); decrement(__VA_ARGS__);\\n}\\n\\ninline namespace ToString {\\n\\ttcT> constexpr bool needs_output_v = !is_printable_v<T> && is_iterable_v<T>;\\n\\n\\t// ts: string representation to print\\n\\ttcT> typename enable_if<is_printable_v<T>,str>::type ts(T v) {\\n\\t\\tstringstream ss; ss << fixed << setprecision(15) << v;\\n\\t\\treturn ss.str(); } // default\\n\\ttcT> str bit_vec(T t) { // bit vector to string\\n\\t\\tstr res = \\\"{\\\"; F0R(i,sz(t)) res += ts(t[i]);\\n\\t\\tres += \\\"}\\\"; return res; }\\n\\tstr ts(V<bool> v) { return bit_vec(v); }\\n\\ttemplate<size_t SZ> str ts(bitset<SZ> b) { return bit_vec(b); } // bit vector\\n\\ttcTU> str ts(pair<T,U> p); // pairs\\n\\ttcT> typename enable_if<needs_output_v<T>,str>::type ts(T v); // vectors, arrays\\n\\ttcTU> str ts(pair<T,U> p) { return \\\"(\\\"+ts(p.f)+\\\", \\\"+ts(p.s)+\\\")\\\"; }\\n\\ttcT> typename enable_if<is_iterable_v<T>,str>::type ts_sep(T v, str sep) {\\n\\t\\t// convert container to string w/ separator sep\\n\\t\\tbool fst = 1; str res = \\\"\\\";\\n\\t\\tfor (const auto& x: v) {\\n\\t\\t\\tif (!fst) res += sep;\\n\\t\\t\\tfst = 0; res += ts(x);\\n\\t\\t}\\n\\t\\treturn res;\\n\\t}\\n\\ttcT> typename enable_if<needs_output_v<T>,str>::type ts(T v) {\\n\\t\\treturn \\\"{\\\"+ts_sep(v,\\\", \\\")+\\\"}\\\"; }\\n\\n\\t// for nested DS\\n\\ttemplate<int, class T> typename enable_if<!needs_output_v<T>,vs>::type \\n\\t  ts_lev(const T& v) { return {ts(v)}; }\\n\\ttemplate<int lev, class T> typename enable_if<needs_output_v<T>,vs>::type \\n\\t  ts_lev(const T& v) {\\n\\t\\tif (lev == 0 || !sz(v)) return {ts(v)};\\n\\t\\tvs res;\\n\\t\\tfor (const auto& t: v) {\\n\\t\\t\\tif (sz(res)) res.bk += \\\",\\\";\\n\\t\\t\\tvs tmp = ts_lev<lev-1>(t);\\n\\t\\t\\tres.ins(end(res),all(tmp));\\n\\t\\t}\\n\\t\\tF0R(i,sz(res)) {\\n\\t\\t\\tstr bef = \\\" \\\"; if (i == 0) bef = \\\"{\\\";\\n\\t\\t\\tres[i] = bef+res[i];\\n\\t\\t}\\n\\t\\tres.bk += \\\"}\\\";\\n\\t\\treturn res;\\n\\t}\\n}\\n\\ninline namespace Output {\\n\\ttemplate<class T> void pr_sep(ostream& os, str, const T& t) { os << ts(t); }\\n\\ttemplate<class T, class... U> void pr_sep(ostream& os, str sep, const T& t, const U&... u) {\\n\\t\\tpr_sep(os,sep,t); os << sep; pr_sep(os,sep,u...); }\\n\\t// print w/ no spaces\\n\\ttemplate<class ...T> void pr(const T&... t) { pr_sep(cout,\\\"\\\",t...); } \\n\\t// print w/ spaces, end with newline\\n\\tvoid ps() { cout << \\\"\\\\n\\\"; }\\n\\ttemplate<class ...T> void ps(const T&... t) { pr_sep(cout,\\\" \\\",t...); ps(); } \\n\\t// debug to cerr\\n\\ttemplate<class ...T> void dbg_out(const T&... t) {\\n\\t\\tpr_sep(cerr,\\\" | \\\",t...); cerr << endl; }\\n\\tvoid loc_info(int line, str names) {\\n\\t\\tcerr << \\\"Line(\\\" << line << \\\") -> [\\\" << names << \\\"]: \\\"; }\\n\\ttemplate<int lev, class T> void dbgl_out(const T& t) {\\n\\t\\tcerr << \\\"\\\\n\\\\n\\\" << ts_sep(ts_lev<lev>(t),\\\"\\\\n\\\") << \\\"\\\\n\\\" << endl; }\\n\\t#ifdef LOCAL\\n\\t\\t#define dbg(...) loc_info(__LINE__,#__VA_ARGS__), dbg_out(__VA_ARGS__)\\n\\t\\t#define dbgl(lev,x) loc_info(__LINE__,#x), dbgl_out<lev>(x)\\n\\t#else // don't actually submit with this\\n\\t\\t#define dbg(...) 0\\n\\t\\t#define dbgl(lev,x) 0\\n\\t#endif\\n}\\n\\ninline namespace FileIO {\\n\\tvoid setIn(str s)  { freopen(s.c_str(), \\\"r\\\", stdin); }\\n\\tvoid setOut(str s) { freopen(s.c_str(), \\\"w\\\", stdout); }\\n\\tvoid setIO(str s = \\\"\\\") {\\n\\t\\tcin.tie(0)->sync_with_stdio(0); // unsync C / C++ I/O streams\\n\\t\\t// cin.exceptions(cin.failbit);\\n\\t\\t// throws exception when do smth illegal\\n\\t\\t// ex. try to read letter into int\\n\\t\\tif (sz(s)) setIn(s+\\\".in\\\"), setOut(s+\\\".out\\\"); // for old USACO\\n\\t}\\n}\\n//EndCodeSnip\\n\\r\\nint N, Q, T = 1;\\r\\nint depth[200005];\\r\\nint up[200005][20];\\r\\nvi adj[200005];\\r\\n\\r\\nvoid dfs(int v) {\\r\\n\\tFOR(i, 1, 20) {\\r\\n\\t\\tup[v][i] = up[up[v][i-1]][i-1];\\r\\n\\t}\\r\\n\\r\\n\\tfor(int x : adj[v]) {\\r\\n\\t\\tif(x != up[v][0]) {\\r\\n\\t\\t\\tdepth[x] = depth[up[x][0] = v]+1;\\r\\n\\t\\t\\tdfs(x);\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\\r\\n\\r\\nint jump(int x, int d) {\\r\\n\\tF0R(i, 20) {\\r\\n\\t\\tif((d>>i)&1)\\r\\n\\t\\t\\tx = up[x][i];\\r\\n\\t}\\r\\n\\treturn x;\\r\\n}\\r\\n\\r\\nint LCA(int a, int b) {\\r\\n\\tif(depth[a] < depth[b]) swap(a, b);\\r\\n\\r\\n\\ta = jump(a, depth[a] - depth[b]);\\r\\n\\tif(a == b) return a;\\r\\n\\r\\n\\tR0F(i, 20) {\\r\\n\\t\\tint aT = up[a][i]; int bT = up[b][i];\\r\\n\\t\\tif(aT != bT) a = aT, b = bT;\\r\\n\\t}\\r\\n\\r\\n\\treturn up[a][0];\\r\\n}\\r\\n\\r\\nint main() {\\r\\n\\tre(N, Q);\\r\\n\\r\\n\\trep(N-1) {\\r\\n\\t\\tint a, b; re(a, b); --a,--b;\\r\\n\\t\\tadj[b].pb(a);\\r\\n\\t\\tadj[a].pb(b);\\r\\n\\t}\\r\\n\\r\\n\\tup[0][0] = 0, depth[0] = 0;\\r\\n\\tdfs(0);\\r\\n\\r\\n\\trep(Q) {\\r\\n\\t\\tint a, b; re(a, b); --a; --b;\\r\\n\\t\\tps(depth[a] + depth[b] - 2 * depth[lca(a, b)]);\\r\\n\\t}\\r\\n}\\n\"\n          })\n        })\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"problems-1\",\n      children: [_jsx(_components.a, {\n        href: \"#problems-1\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Problems\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"usaco\",\n      children: [_jsx(_components.a, {\n        href: \"#usaco\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"USACO\"]\n    }), \"\\n\", _jsx(Problems, {\n      problems: \"usaco\"\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"general\",\n      children: [_jsx(_components.a, {\n        href: \"#general\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"General\"]\n    }), \"\\n\", _jsx(Problems, {\n      problems: \"general\"\n    }), \"\\n\", _jsx(IncompleteSection, {\n      children: _jsx(_components.p, {\n        children: \"figure out a better way to order these, difficulties aren't really accurate\"\n      })\n    })]\n  });\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, _props, {\n    children: _content\n  })) : _content;\n}\nreturn {\n  id,\n  redirects,\n  title,\n  author,\n  description,\n  frequency,\n  prerequisites,\n  default: MDXContent\n};\n","frontmatter":{"title":"Binary Jumping","author":"Benjamin Qi, Neo Wang, Qi Wang","contributors":null,"id":"binary-jump","prerequisites":null,"description":"Introduces the problems of finding level ancestors in a tree and computing the lowest common ancestors.","frequency":3},"parent":{"name":"Binary_Jump","relativePath":"5_Plat/Binary_Jump.mdx"},"fields":{"division":"plat"},"toc":{"cpp":[{"depth":2,"value":"Binary Jumping","slug":"binary-jumping"},{"depth":3,"value":"Tutorial","slug":"tutorial"},{"depth":3,"value":"Solution","slug":"solution"},{"depth":3,"value":"Problems","slug":"problems"},{"depth":2,"value":"Lowest Common Ancestor","slug":"lowest-common-ancestor"},{"depth":3,"value":"Solution (Company Queries II)","slug":"solution-company-queries-ii"},{"depth":3,"value":"Alternative Solution (Company Queries II)","slug":"alternative-solution-company-queries-ii"},{"depth":3,"value":"Solution (Distance Queries)","slug":"solution-distance-queries"},{"depth":3,"value":"Problems","slug":"problems-1"},{"depth":4,"value":"USACO","slug":"usaco"},{"depth":4,"value":"General","slug":"general"}],"java":[{"depth":2,"value":"Binary Jumping","slug":"binary-jumping"},{"depth":3,"value":"Tutorial","slug":"tutorial"},{"depth":3,"value":"Solution","slug":"solution"},{"depth":3,"value":"Problems","slug":"problems"},{"depth":2,"value":"Lowest Common Ancestor","slug":"lowest-common-ancestor"},{"depth":3,"value":"Solution (Company Queries II)","slug":"solution-company-queries-ii"},{"depth":3,"value":"Alternative Solution (Company Queries II)","slug":"alternative-solution-company-queries-ii"},{"depth":3,"value":"Solution (Distance Queries)","slug":"solution-distance-queries"},{"depth":3,"value":"Problems","slug":"problems-1"},{"depth":4,"value":"USACO","slug":"usaco"},{"depth":4,"value":"General","slug":"general"}],"py":[{"depth":2,"value":"Binary Jumping","slug":"binary-jumping"},{"depth":3,"value":"Tutorial","slug":"tutorial"},{"depth":3,"value":"Solution","slug":"solution"},{"depth":3,"value":"Problems","slug":"problems"},{"depth":2,"value":"Lowest Common Ancestor","slug":"lowest-common-ancestor"},{"depth":3,"value":"Solution (Company Queries II)","slug":"solution-company-queries-ii"},{"depth":3,"value":"Alternative Solution (Company Queries II)","slug":"alternative-solution-company-queries-ii"},{"depth":3,"value":"Solution (Distance Queries)","slug":"solution-distance-queries"},{"depth":3,"value":"Problems","slug":"problems-1"},{"depth":4,"value":"USACO","slug":"usaco"},{"depth":4,"value":"General","slug":"general"}]}},"moduleProblemLists":{"problemLists":[{"listId":"sample","problems":[{"uniqueId":"cses-1687","name":"Company Queries I","url":"https://cses.fi/problemset/task/1687","source":"CSES","difficulty":"Easy","isStarred":false,"tags":["Binary Jumping"],"solution":{"kind":"link","label":"In Module","labelTooltip":null,"url":"https://usaco.guide/plat/binary-jump#problem-cses-1687","sketch":null}}]},{"listId":"lca","problems":[{"uniqueId":"cses-1688","name":"Company Queries II","url":"https://cses.fi/problemset/task/1688","source":"CSES","difficulty":"Easy","isStarred":false,"tags":["LCA"],"solution":{"kind":"link","label":"In Module","labelTooltip":null,"url":"https://usaco.guide/plat/binary-jump#problem-cses-1688","sketch":null}}]},{"listId":"lca2","problems":[{"uniqueId":"cses-1135","name":"Distance Queries","url":"https://cses.fi/problemset/task/1135","source":"CSES","difficulty":"Easy","isStarred":false,"tags":["LCA"],"solution":{"kind":"link","label":"In Module","labelTooltip":null,"url":"https://usaco.guide/plat/binary-jump#problem-cses-1135","sketch":null}}]},{"listId":"binJump","problems":[{"uniqueId":"cses-1750","name":"Planets Queries I","url":"https://cses.fi/problemset/task/1750","source":"CSES","difficulty":"Easy","isStarred":false,"tags":["Binary Jumping"],"solution":{"kind":"internal","label":null,"labelTooltip":null,"url":null,"sketch":null}},{"uniqueId":"cses-1160","name":"Planets Queries II","url":"https://cses.fi/problemset/task/1160","source":"CSES","difficulty":"Normal","isStarred":false,"tags":["Functional Graph"],"solution":{"kind":"internal","label":null,"labelTooltip":null,"url":null,"sketch":null}},{"uniqueId":"poi-10-frog","name":"2010 - Frog","url":"https://szkopul.edu.pl/problemset/problem/qDH9CkBHZKHY4vbKRBlXPrA7/site/?key=statement","source":"POI","difficulty":"Normal","isStarred":false,"tags":[],"solution":{"kind":"internal","label":null,"labelTooltip":null,"url":null,"sketch":null}},{"uniqueId":"cf-1142B","name":"Lynyrd Skynyrd","url":"https://codeforces.com/contest/1142/problem/B","source":"CF","difficulty":"Normal","isStarred":false,"tags":[],"solution":{"kind":"label","label":"Check CF","labelTooltip":"Check contest materials, located to the right of the problem statement.","url":null,"sketch":null}},{"uniqueId":"baltic-19-valley","name":"2019 - Valley","url":"https://oj.uz/problem/view/BOI19_valley","source":"Baltic OI","difficulty":"Normal","isStarred":false,"tags":[],"solution":{"kind":"link","label":"External Sol","labelTooltip":null,"url":"http://boi2019.eio.ee/wp-content/uploads/2019/05/valley.sol_.en-1.pdf","sketch":null}},{"uniqueId":"baltic-17-toll","name":"2017 - Toll","url":"https://oj.uz/problem/view/BOI17_toll","source":"Baltic OI","difficulty":"Normal","isStarred":false,"tags":[],"solution":{"kind":"internal","label":null,"labelTooltip":null,"url":null,"sketch":null}},{"uniqueId":"usaco-648","name":"262144","url":"http://www.usaco.org/index.php?page=viewproblem2&cpid=648","source":"Plat","difficulty":"Hard","isStarred":false,"tags":["Binary Jumping"],"solution":{"kind":"link","label":"External Sol","labelTooltip":null,"url":"http://www.usaco.org/current/data/sol_262144_platinum_open16.html","sketch":null}},{"uniqueId":"baltic-15-editor","name":"2015 - Editor","url":"https://oj.uz/problem/view/BOI15_edi","source":"Baltic OI","difficulty":"Very Hard","isStarred":false,"tags":[],"solution":{"kind":"internal","label":null,"labelTooltip":null,"url":null,"sketch":null}}]},{"listId":"usaco","problems":[{"uniqueId":"usaco-576","name":"Max Flow","url":"http://www.usaco.org/index.php?page=viewproblem2&cpid=576","source":"Plat","difficulty":"Easy","isStarred":false,"tags":["LCA"],"solution":{"kind":"internal","label":null,"labelTooltip":null,"url":null,"sketch":null}},{"uniqueId":"usaco-842","name":"Disruption","url":"http://www.usaco.org/index.php?page=viewproblem2&cpid=842","source":"Plat","difficulty":"Normal","isStarred":false,"tags":["LCA"],"solution":{"kind":"link","label":"External Sol","labelTooltip":null,"url":"http://www.usaco.org/current/data/sol_disrupt_platinum_open18.html","sketch":null}},{"uniqueId":"usaco-213","name":"Running Away From the Barn","url":"http://www.usaco.org/index.php?page=viewproblem2&cpid=213","source":"Old Gold","difficulty":"Normal","isStarred":false,"tags":["Small to Large","Binary Jumping","Euler Tour"],"solution":{"kind":"link","label":"External Sol","labelTooltip":null,"url":"http://www.usaco.org/current/data/sol_runaway.html","sketch":null}},{"uniqueId":"usaco-948","name":"Tree Boxes","url":"http://www.usaco.org/index.php?page=viewproblem2&cpid=948","source":"Plat","difficulty":"Hard","isStarred":false,"tags":["LCA"],"solution":{"kind":"link","label":"External Sol","labelTooltip":null,"url":"http://www.usaco.org/current/data/sol_boxes_platinum_open19.html","sketch":null}},{"uniqueId":"usaco-817","name":"New Barns","url":"http://www.usaco.org/index.php?page=viewproblem2&cpid=817","source":"Plat","difficulty":"Hard","isStarred":false,"tags":["Diameter"],"solution":{"kind":"link","label":"External Sol","labelTooltip":null,"url":"http://www.usaco.org/current/data/sol_newbarn_platinum_feb18.html","sketch":null}},{"uniqueId":"usaco-866","name":"Gathering","url":"http://www.usaco.org/index.php?page=viewproblem2&cpid=866","source":"Plat","difficulty":"Hard","isStarred":false,"tags":["LCA"],"solution":{"kind":"link","label":"External Sol","labelTooltip":null,"url":"http://www.usaco.org/current/data/sol_gathering_platinum_dec18.html","sketch":null}},{"uniqueId":"usaco-901","name":"Exercise","url":"http://www.usaco.org/index.php?page=viewproblem2&cpid=901","source":"Plat","difficulty":"Very Hard","isStarred":false,"tags":["LCA"],"solution":{"kind":"link","label":"External Sol","labelTooltip":null,"url":"http://www.usaco.org/current/data/sol_exercise_platinum_jan19.html","sketch":null}}]},{"listId":"general","problems":[{"uniqueId":"cfgym-102694C","name":"Sloth Naptime","url":"https://codeforces.com/gym/102694/problem/C","source":"CF","difficulty":"Easy","isStarred":false,"tags":["Binary Jumping"],"solution":{"kind":"internal","label":null,"labelTooltip":null,"url":null,"sketch":null}},{"uniqueId":"cf-588E","name":"Duff in the Army","url":"https://codeforces.com/contest/588/problem/E","source":"CF","difficulty":"Normal","isStarred":false,"tags":["LCA"],"solution":{"kind":"label","label":"Check CF","labelTooltip":"Check contest materials, located to the right of the problem statement.","url":null,"sketch":null}},{"uniqueId":"baltic-17-railway","name":"2017 - Railway","url":"https://oj.uz/problem/view/BOI17_railway","source":"Baltic OI","difficulty":"Normal","isStarred":false,"tags":[],"solution":{"kind":"internal","label":null,"labelTooltip":null,"url":null,"sketch":null}},{"uniqueId":"cf-609E","name":"MST for Each Edge","url":"https://codeforces.com/contest/609/problem/E","source":"CF","difficulty":"Normal","isStarred":false,"tags":["LCA"],"solution":{"kind":"label","label":"Check CF","labelTooltip":"Check contest materials, located to the right of the problem statement.","url":null,"sketch":null}},{"uniqueId":"csa-RootLCAQueries","name":"Root LCA Queries","url":"https://csacademy.com/contest/archive/task/root-lca-queries","source":"CSA","difficulty":"Normal","isStarred":false,"tags":["LCA"],"solution":{"kind":"label","label":"Check CSA","labelTooltip":"The editorial tab should be right next to the statement tab.","url":null,"sketch":null}},{"uniqueId":"cf-1000G","name":"Two Paths","url":"https://codeforces.com/contest/1000/problem/G","source":"CF","difficulty":"Normal","isStarred":false,"tags":["LCA"],"solution":{"kind":"label","label":"Check CF","labelTooltip":"Check contest materials, located to the right of the problem statement.","url":null,"sketch":null}},{"uniqueId":"dmoj-HotCold","name":"Hot & Cold","url":"https://dmoj.ca/problem/bts17p7","source":"DMOJ","difficulty":"Normal","isStarred":false,"tags":["LCA"],"solution":{"kind":"label","label":"Check DMOJ","labelTooltip":"There might be a \"Read Editorial\" button on the right side of the page.","url":null,"sketch":null}},{"uniqueId":"cf-1140G","name":"Double Tree","url":"https://codeforces.com/contest/1140/problem/G","source":"CF","difficulty":"Hard","isStarred":false,"tags":["LCA","Binary Jumping"],"solution":{"kind":"label","label":"Check CF","labelTooltip":"Check contest materials, located to the right of the problem statement.","url":null,"sketch":null}},{"uniqueId":"tlx-FunctionalConstraint","name":"Functional Constraint","url":"https://tlx.toki.id/contests/troc-12-div-1/problems/D","source":"TLX","difficulty":"Hard","isStarred":false,"tags":["LCA"],"solution":{"kind":"label","label":"Check TLX","labelTooltip":"The editorial should be available in the announcements tab.","url":null,"sketch":null}},{"uniqueId":"tlx-GraphDestination","name":"Graph & Destination","url":"https://tlx.toki.id/contests/troc-13-div-1/problems/E","source":"TLX","difficulty":"Hard","isStarred":false,"tags":["LCA"],"solution":{"kind":"label","label":"Check TLX","labelTooltip":"The editorial should be available in the announcements tab.","url":null,"sketch":null}}]}]}},"pageContext":{"id":"binary-jump"}},
    "staticQueryHashes": ["2753100047","3245546052","745520438"]}