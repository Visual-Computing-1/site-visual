{
    "componentChunkName": "component---src-templates-module-template-tsx",
    "path": "/silver/func-graphs",
    "result": {"data":{"xdm":{"body":"/*@jsxRuntime automatic @jsxImportSource react*/\n/*<Spoiler title=\"Tortoise and Hare Algrotihm\">\n\n```cpp\n//UNTESTED\npair<int, int> detect_cycle(int *next, int start_node) //return pair(length of cycle, distance from start node to in cycle)\n{\nint t=start_node, h=start_node; //tortoise and hare\ndo\n{\nt=next[t], h=next[h];\n} while(t != h)\n\nint dist=0;\nt = start_node;\nwhile(t != h)\n++dist, t=next[t], h=next[h];\n\nint len=1;\nh = next[t];\nwhile(h != t)\n++len, h=next[h];\nreturn make_pair(len, dist);\n}\n```\n\n</Spoiler>*/\n/*https://codeforces.com/contest/1137/submission/87195511*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nfunction _missingComponent(name) {\n  return function () {\n    throw new Error(\"Component `\" + name + \"` was not imported, exported, or given\");\n  };\n}\nconst id = \"func-graphs\", title = \"(Optional) Introduction to Functional Graphs\", author = \"Siyong Huang, Benjamin Qi, Andrew Wang\", contributors = \"Chuyang Wang\", prerequisites = [\"intro-tree\"], description = \"Directed graphs in which every vertex has exactly one outgoing edge.\", frequency = 1;\nfunction MDXContent(_props) {\n  const _components = Object.assign({\n    p: \"p\",\n    h2: \"h2\",\n    a: \"a\",\n    strong: \"strong\",\n    h3: \"h3\",\n    pre: \"pre\",\n    code: \"code\",\n    ul: \"ul\",\n    li: \"li\",\n    Warning: _missingComponent(\"Warning\"),\n    HeaderLink: _missingComponent(\"HeaderLink\"),\n    Resources: _missingComponent(\"Resources\"),\n    Resource: _missingComponent(\"Resource\"),\n    MATHSPAN: _missingComponent(\"MATHSPAN\"),\n    FocusProblem: _missingComponent(\"FocusProblem\"),\n    Spoiler: _missingComponent(\"Spoiler\"),\n    LanguageSection: _missingComponent(\"LanguageSection\"),\n    CPPSection: _missingComponent(\"CPPSection\"),\n    JavaSection: _missingComponent(\"JavaSection\"),\n    PySection: _missingComponent(\"PySection\"),\n    Problems: _missingComponent(\"Problems\")\n  }, _props.components), {Warning, HeaderLink, Resources, Resource, MATHSPAN, FocusProblem, Spoiler, LanguageSection, CPPSection, JavaSection, PySection, Problems, wrapper: MDXLayout} = _components;\n  const _content = _jsxs(_Fragment, {\n    children: [_jsx(Warning, {\n      children: _jsx(_components.p, {\n        children: \"No Silver problem has required knowledge of the content presented in this\\r\\nmodule.\"\n      })\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"introduction\",\n      children: [_jsx(_components.a, {\n        href: \"#introduction\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Introduction\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In a \", _jsx(_components.strong, {\n        children: \"functional graph\"\n      }), \", each node has exactly one out-edge. This is also\\r\\ncommonly referred to as a \", _jsx(_components.strong, {\n        children: \"successor graph\"\n      }), \".\"]\n    }), \"\\n\", _jsx(Resources, {\n      children: _jsx(Resource, {\n        source: \"CPH\",\n        title: \"16.3 - Successor Graphs\",\n        starred: true,\n        children: _jsx(_components.p, {\n          children: \"diagrams\"\n        })\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You can think of every connected component of a functional graph as a rooted\\r\\ntree plus an additional edge going out of the root.\"\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"floyds-algorithm\",\n      children: [_jsx(_components.a, {\n        href: \"#floyds-algorithm\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Floyd's Algorithm\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Floyd's Algorithm\"\n      }), \", also commonly referred to as the \", _jsx(_components.strong, {\n        children: \"Tortoise and Hare\\r\\nAlgorithm\"\n      }), \", is capable of detecting cycles in a functional graph in\\r\\n\", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\mathcal{O}(N)\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi mathvariant=\\\"script\\\">O</mi><mo stretchy=\\\"false\\\">(</mo><mi>N</mi><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\mathcal{O}(N)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord mathcal\\\" style=\\\"margin-right:0.02778em;\\\">O</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.10903em;\\\">N</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n      }), \" time and \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\mathcal{O}(1)\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi mathvariant=\\\"script\\\">O</mi><mo stretchy=\\\"false\\\">(</mo><mn>1</mn><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\mathcal{O}(1)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord mathcal\\\" style=\\\"margin-right:0.02778em;\\\">O</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\">1</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n      }), \" memory (not counting the graph\\r\\nitself).\"]\n    }), \"\\n\", _jsxs(Resources, {\n      children: [_jsx(Resource, {\n        source: \"CPH\",\n        title: \"16.4 - Cycle Detection\",\n        starred: true\n      }), _jsx(Resource, {\n        source: \"Medium\",\n        title: \"The Tortoise and the Hare (Floyd's Algorithm)\",\n        url: \"https://medium.com/@tuvo1106/the-tortoise-and-the-hare-floyds-algorithm-87badf5f7d41\"\n      }), _jsx(Resource, {\n        source: \"CP2\",\n        title: \"5.7 - Cycle-Finding\"\n      }), _jsx(Resource, {\n        source: \"VisuAlgo\",\n        title: \"Floyd's Algorithm Visualization\",\n        url: \"https://visualgo.net/en/cyclefinding\"\n      })]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"example---cooperative-game\",\n      children: [_jsx(_components.a, {\n        href: \"#example---cooperative-game\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Example - Cooperative Game\"]\n    }), \"\\n\", _jsx(FocusProblem, {\n      problem: \"sample_floyd\"\n    }), \"\\n\", \"\\n\", _jsx(Spoiler, {\n      title: \"Hint 1\",\n      children: _jsx(_components.p, {\n        children: \"Solve the problem when there are exactly three friends.\"\n      })\n    }), \"\\n\", _jsx(Spoiler, {\n      title: \"Hint 2\",\n      children: _jsxs(_components.p, {\n        children: [\"Reread \", _jsx(_components.a, {\n          href: \"/CPH.pdf#page=166\",\n          children: \"CPH pg. 166\"\n        }), \" a few more times.\"]\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"solution\",\n      children: [_jsx(_components.a, {\n        href: \"#solution\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Solution\"]\n    }), \"\\n\", _jsxs(Spoiler, {\n      title: \"Solution\",\n      children: [_jsx(_components.p, {\n        children: _jsx(_components.a, {\n          href: \"https://codeforces.com/blog/entry/65825\",\n          target: \"_blank\",\n          rel: \"nofollow noopener noreferrer\",\n          children: \"Official Tutorial\"\n        })\n      }), _jsxs(_components.p, {\n        children: [\"Using \", _jsx(_components.strong, {\n          children: \"Floyd's Algorithm\"\n        }), \", we can find some node on the cycle after\\r\\n\", _jsx(MATHSPAN, {\n          className: \"math math-inline\",\n          latex: \"2c\\\\left\\\\lceil \\\\frac{t}{c}\\\\right\\\\rceil\",\n          children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mn>2</mn><mi>c</mi><mrow><mo fence=\\\"true\\\">⌈</mo><mfrac><mi>t</mi><mi>c</mi></mfrac><mo fence=\\\"true\\\">⌉</mo></mrow></mrow><annotation encoding=\\\"application/x-tex\\\">2c\\\\left\\\\lceil \\\\frac{t}{c}\\\\right\\\\rceil</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1.2em;vertical-align:-0.35em;\\\"></span><span class=\\\"mord\\\">2</span><span class=\\\"mord mathnormal\\\">c</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"minner\\\"><span class=\\\"mopen delimcenter\\\" style=\\\"top:0em;\\\"><span class=\\\"delimsizing size1\\\">⌈</span></span><span class=\\\"mord\\\"><span class=\\\"mopen nulldelimiter\\\"></span><span class=\\\"mfrac\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.8246em;\\\"><span style=\\\"top:-2.655em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:3em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">c</span></span></span></span><span style=\\\"top:-3.23em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:3em;\\\"></span><span class=\\\"frac-line\\\" style=\\\"border-bottom-width:0.04em;\\\"></span></span><span style=\\\"top:-3.394em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:3em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">t</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.345em;\\\"><span></span></span></span></span></span><span class=\\\"mclose nulldelimiter\\\"></span></span><span class=\\\"mclose delimcenter\\\" style=\\\"top:0em;\\\"><span class=\\\"delimsizing size1\\\">⌉</span></span></span></span></span></span>\"\n        }), \" queries. Then we can find the first node\\r\\nin the cycle after another \", _jsx(MATHSPAN, {\n          className: \"math math-inline\",\n          latex: \"t\",\n          children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\\\"application/x-tex\\\">t</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6151em;\\\"></span><span class=\\\"mord mathnormal\\\">t</span></span></span></span>\"\n        }), \" queries.\"]\n      }), _jsxs(LanguageSection, {\n        children: [_jsx(CPPSection, {\n          children: _jsx(_components.pre, {\n            children: _jsx(_components.code, {\n              className: \"language-cpp\",\n              children: \"#include <cstdio>\\r\\n#include <vector>\\r\\n\\r\\nvoid out(const std::vector<int>& x)\\r\\n{\\r\\n\\tprintf(\\\"next\\\");\\r\\n\\tfor(auto a:x) printf(\\\" %d\\\", a);\\r\\n\\tprintf(\\\"\\\\n\\\");\\r\\n\\tfflush(stdout);\\r\\n}\\r\\nint N, g[20];\\r\\nchar s[20];\\r\\nvoid read()\\r\\n{\\r\\n\\tscanf(\\\"%d\\\", &N);\\r\\n\\tfor (int i = 0; i < N; ++i)\\r\\n\\t{\\r\\n\\t\\tscanf(\\\" %s\\\", s);\\r\\n\\t\\tfor (int j = 0; s[j]; ++j)\\r\\n\\t\\t\\tg[s[j]-'0'] = i;\\r\\n\\t}\\r\\n}\\r\\nint main()\\r\\n{\\r\\n\\tfor (;;) // c*ceil(t/c) times\\r\\n\\t{\\r\\n\\t\\tout({0,1});\\r\\n\\t\\tread();\\r\\n\\t\\tout({0});\\r\\n\\t\\tread();\\r\\n\\t\\tif(g[0] == g[1]) break;\\r\\n\\t}\\r\\n\\tfor (;;) // t times\\r\\n\\t{\\r\\n\\t\\tout({0,1,2,3,4,5,6,7,8,9});\\r\\n\\t\\tread();\\r\\n\\t\\tif(g[0] == g[2]) break;\\r\\n\\t}\\r\\n\\tprintf(\\\"done\\\\n\\\");\\r\\n\\treturn 0;\\r\\n}\\n\"\n            })\n          })\n        }), _jsx(JavaSection, {\n          children: _jsx(_components.pre, {\n            children: _jsx(_components.code, {\n              className: \"language-java\",\n              children: \"import java.util.*;\\r\\nimport java.io.*;\\r\\n\\r\\npublic class Cooperative {\\r\\n\\tpublic static int g[];\\r\\n\\tpublic static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\\r\\n\\tpublic static void out(int arr[]) {\\r\\n\\t\\tSystem.out.print(\\\"next\\\");\\r\\n\\t\\tfor (int a: arr) {\\r\\n\\t\\t\\tSystem.out.print(\\\" \\\" + a);\\r\\n\\t\\t}\\r\\n\\t\\tSystem.out.println();\\r\\n\\t\\tSystem.out.flush();\\r\\n\\t}\\r\\n\\tpublic static void read() throws Exception {\\r\\n\\t\\tStringTokenizer st = new StringTokenizer(br.readLine());\\r\\n\\t\\tint N = Integer.parseInt(st.nextToken());\\r\\n\\t\\tfor (int i = 0; i < N; i++) {\\r\\n\\t\\t\\tString s = st.nextToken();\\r\\n\\t\\t\\tfor (int j = 0; j < s.length(); j++)\\r\\n\\t\\t\\t\\tg[s.charAt(j) - '0'] = i;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\tpublic static void main(String[] args) throws Exception {\\r\\n\\t\\tg = new int[20];\\r\\n\\t\\tfor (;;) { // c*ceil(t/c) times\\r\\n\\t\\t\\tout(new int[]{0,1});\\r\\n\\t\\t\\tread();\\r\\n\\t\\t\\tout(new int[]{0});\\r\\n\\t\\t\\tread();\\r\\n\\t\\t\\tif (g[0] == g[1])\\r\\n\\t\\t\\t\\tbreak;\\r\\n\\t\\t}\\r\\n\\t\\tfor (;;) { // t times\\r\\n\\t\\t\\tout(new int[]{0,1,2,3,4,5,6,7,8,9});\\r\\n\\t\\t\\tread();\\r\\n\\t\\t\\tif (g[0] == g[2])\\r\\n\\t\\t\\t\\tbreak;\\r\\n\\t\\t}\\r\\n\\t\\tSystem.out.println(\\\"done\\\");\\r\\n\\t}\\r\\n}\\n\"\n            })\n          })\n        })]\n      }), _jsx(\"br\", {}), _jsx(_components.p, {\n        children: \"Do you see why this is equivalent to the code mentioned in CPH?\"\n      }), _jsxs(LanguageSection, {\n        children: [_jsx(CPPSection, {\n          children: _jsx(_components.pre, {\n            children: _jsx(_components.code, {\n              className: \"language-cpp\",\n              children: \"a = succ(x);\\r\\nb = succ(succ(x));\\r\\nwhile(a != b) {\\r\\n\\ta = succ(a);\\r\\n\\tb = succ(succ(b));\\r\\n}\\n\"\n            })\n          })\n        }), _jsx(JavaSection, {\n          children: _jsx(_components.pre, {\n            children: _jsx(_components.code, {\n              className: \"language-java\",\n              children: \"a = succ(x);\\r\\nb = succ(succ(x));\\r\\nwhile(a != b) {\\r\\n\\ta = succ(a);\\r\\n\\tb = succ(succ(b));\\r\\n}\\n\"\n            })\n          })\n        })]\n      }), _jsx(\"br\", {}), _jsxs(_components.p, {\n        children: [_jsx(MATHSPAN, {\n          className: \"math math-inline\",\n          latex: \"b\",\n          children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\\\"application/x-tex\\\">b</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord mathnormal\\\">b</span></span></span></span>\"\n        }), \" corresponds to friend \", _jsx(MATHSPAN, {\n          className: \"math math-inline\",\n          latex: \"1\",\n          children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\\\"application/x-tex\\\">1</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6444em;\\\"></span><span class=\\\"mord\\\">1</span></span></span></span>\"\n        }), \" and \", _jsx(MATHSPAN, {\n          className: \"math math-inline\",\n          latex: \"a\",\n          children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\\\"application/x-tex\\\">a</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">a</span></span></span></span>\"\n        }), \" corresponds to friend \", _jsx(MATHSPAN, {\n          className: \"math math-inline\",\n          latex: \"0\",\n          children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">0</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6444em;\\\"></span><span class=\\\"mord\\\">0</span></span></span></span>\"\n        }), \".\"]\n      }), _jsxs(LanguageSection, {\n        children: [_jsx(CPPSection, {\n          children: _jsx(_components.pre, {\n            children: _jsx(_components.code, {\n              className: \"language-cpp\",\n              children: \"a = x;\\r\\nwhile(a != b) {\\r\\n\\ta = succ(a);\\r\\n\\tb = succ(b);\\r\\n}\\r\\nfirst = a;\\n\"\n            })\n          })\n        }), _jsx(JavaSection, {\n          children: _jsx(_components.pre, {\n            children: _jsx(_components.code, {\n              className: \"language-java\",\n              children: \"a = x;\\r\\nwhile(a != b) {\\r\\n\\ta = succ(a);\\r\\n\\tb = succ(b);\\r\\n}\\r\\nfirst = a;\\n\"\n            })\n          })\n        })]\n      }), _jsx(\"br\", {}), _jsxs(_components.p, {\n        children: [_jsx(MATHSPAN, {\n          className: \"math math-inline\",\n          latex: \"a\",\n          children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\\\"application/x-tex\\\">a</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">a</span></span></span></span>\"\n        }), \" corresponds to friends \", _jsx(MATHSPAN, {\n          className: \"math math-inline\",\n          latex: \"2\\\\ldots 9\",\n          children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mn>2</mn><mo>…</mo><mn>9</mn></mrow><annotation encoding=\\\"application/x-tex\\\">2\\\\ldots 9</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6444em;\\\"></span><span class=\\\"mord\\\">2</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"minner\\\">…</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord\\\">9</span></span></span></span>\"\n        }), \" and \", _jsx(MATHSPAN, {\n          className: \"math math-inline\",\n          latex: \"b\",\n          children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\\\"application/x-tex\\\">b</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord mathnormal\\\">b</span></span></span></span>\"\n        }), \" corresponds to friends \", _jsx(MATHSPAN, {\n          className: \"math math-inline\",\n          latex: \"0\",\n          children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mn>0</mn></mrow><annotation encoding=\\\"application/x-tex\\\">0</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6444em;\\\"></span><span class=\\\"mord\\\">0</span></span></span></span>\"\n        }), \" and\\r\\n\", _jsx(MATHSPAN, {\n          className: \"math math-inline\",\n          latex: \"1\",\n          children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\\\"application/x-tex\\\">1</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6444em;\\\"></span><span class=\\\"mord\\\">1</span></span></span></span>\"\n        }), \".\"]\n      })]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"example---badge\",\n      children: [_jsx(_components.a, {\n        href: \"#example---badge\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Example - Badge\"]\n    }), \"\\n\", _jsx(FocusProblem, {\n      problem: \"sample\"\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsxs(_components.p, {\n      children: [\"It's easy to solve the above problem in \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\mathcal{O}(N^2)\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi mathvariant=\\\"script\\\">O</mi><mo stretchy=\\\"false\\\">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\mathcal{O}(N^2)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1.0641em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord mathcal\\\" style=\\\"margin-right:0.02778em;\\\">O</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.10903em;\\\">N</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.8141em;\\\"><span style=\\\"top:-3.063em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\">2</span></span></span></span></span></span></span></span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n      }), \" time. We'll solve it\\r\\nin \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\mathcal{O}(N)\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi mathvariant=\\\"script\\\">O</mi><mo stretchy=\\\"false\\\">(</mo><mi>N</mi><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\mathcal{O}(N)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord mathcal\\\" style=\\\"margin-right:0.02778em;\\\">O</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.10903em;\\\">N</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"solution-1\",\n      children: [_jsx(_components.a, {\n        href: \"#solution-1\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Solution 1\"]\n    }), \"\\n\", _jsxs(LanguageSection, {\n      children: [_jsx(CPPSection, {\n        children: _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-cpp\",\n            children: \"#include <bits/stdc++.h>\\r\\n\\r\\nusing namespace std;\\r\\n\\r\\nint N;\\r\\nvector<int> P,ans;\\r\\nbool in_cycle;\\r\\n\\r\\nvoid gen(int x) {\\r\\n\\tif (ans[x] != -2) {\\r\\n\\t\\tif (ans[x] == -1) ans[x] = x, in_cycle = 1; // found a cycle!\\r\\n\\t\\treturn;\\r\\n\\t}\\r\\n\\tans[x] = -1; gen(P[x]);\\r\\n\\tif (ans[x] != -1) { in_cycle = 0; return; }\\r\\n\\tans[x] = in_cycle ? x : ans[P[x]];\\r\\n}\\r\\n\\r\\nint main() {\\r\\n\\tcin >> N;\\r\\n\\tP.assign(N, 0);\\r\\n\\tfor(int& x:P) cin >> x, --x;\\r\\n\\tans.assign(N, -2);\\r\\n\\tfor(int i=0;i<N;++i) gen(i); // in_cycle is always reset to 0\\r\\n\\tfor(int t:ans) cout << t+1 << \\\" \\\";\\r\\n}\\n\"\n          })\n        })\n      }), _jsx(JavaSection, {\n        children: _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-java\",\n            children: \"import java.io.*;\\r\\nimport java.util.*;\\r\\n\\r\\npublic class badge\\r\\n{\\r\\n\\tstatic BufferedReader reader;\\r\\n\\tstatic PrintWriter writer;\\r\\n\\tpublic static final int MN = 1010;\\r\\n\\tpublic static int[] p, ans;\\r\\n\\tpublic static boolean in_cycle;\\r\\n\\tpublic static void dfs(int n)\\r\\n\\t{\\r\\n\\t\\tif(ans[n] != 0)\\r\\n\\t\\t{\\r\\n\\t\\t\\tif(ans[n] == -1) {in_cycle = true; ans[n] = n;} // found a cycle!\\r\\n\\t\\t\\treturn;\\r\\n\\t\\t}\\r\\n\\t\\tans[n]=-1; dfs(p[n]);\\r\\n\\t\\tif(ans[n] != -1) in_cycle = false;\\r\\n\\t\\telse ans[n] = in_cycle ? n : ans[p[n]];\\r\\n\\t}\\r\\n\\tpublic static void main(String[] args) throws IOException\\r\\n\\t{\\r\\n\\t\\treader = new BufferedReader(new InputStreamReader(System.in));\\r\\n\\t\\twriter = new PrintWriter(System.out);\\r\\n\\t\\tp = new int[MN]; ans = new int[MN];\\r\\n\\r\\n\\t\\tint N = Integer.parseInt(reader.readLine());\\r\\n\\t\\tStringTokenizer st = new StringTokenizer(reader.readLine());\\r\\n\\t\\tfor (int i=1;i<=N;++i)\\r\\n\\t\\t\\tp[i]=Integer.parseInt(st.nextToken());\\r\\n\\t\\treader.close();\\r\\n\\r\\n\\t\\tfor (int i=1;i<=N;++i)\\r\\n\\t\\t\\tdfs(i); // in_cycle is always reset to false\\r\\n\\r\\n\\t\\tfor (int i=1;i<=N;++i)\\r\\n\\t\\t\\twriter.print(ans[i]+\\\" \\\");\\r\\n\\t\\twriter.close();\\r\\n\\t}\\r\\n}\\n\"\n          })\n        })\n      }), _jsx(PySection, {\n        children: _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-py\",\n            children: \"N=int(input())\\r\\np=list(map(int, input().split()))\\r\\nans=[-1]*N\\r\\nin_cycle=False\\r\\n\\r\\ndef dfs(x):\\r\\n\\tglobal in_cycle\\r\\n\\tif ans[x] != -1:\\r\\n\\t\\tif ans[x] == -2: # found a cycle!\\r\\n\\t\\t\\tin_cycle = True\\r\\n\\t\\t\\tans[x] = x\\r\\n\\t\\treturn\\r\\n\\tans[x] = -2\\r\\n\\tdfs(p[x])\\r\\n\\tif ans[x] != -2:\\r\\n\\t\\tin_cycle = False\\r\\n\\telse:\\r\\n\\t\\tans[x] = x if in_cycle else ans[p[x]]\\r\\n\\r\\nfor i in range(N):\\r\\n\\tp[i] -= 1\\r\\nfor i in range(N):\\r\\n\\tdfs(i) # in_cycle is always reset to False\\r\\nfor i in range(N):\\r\\n\\tans[i] += 1\\r\\n\\r\\nprint(*ans)\\n\"\n          })\n        })\n      })]\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsx(_components.p, {\n      children: \"This code generates the answer independently for each connected component. Note\\r\\nthat it uses 0-indexing, not 1-indexing.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Try simulating the algorithm on the following directed graph in CSAcademy's\\r\\n\", _jsx(_components.a, {\n        href: \"https://csacademy.com/app/graph_editor/\",\n        target: \"_blank\",\n        rel: \"nofollow noopener noreferrer\",\n        children: \"Graph Editor\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"0 1\\r\\n1 2\\r\\n2 3\\r\\n3 4\\r\\n4 2\\r\\n5 6\\r\\n6 1\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [\"On the first step, we make the following recursive calls: \", _jsx(_components.code, {\n            children: \"gen(0)\"\n          }), \" -> \", _jsx(_components.code, {\n            children: \"gen(1)\"\n          }), \"\\r\\n-> \", _jsx(_components.code, {\n            children: \"gen(2)\"\n          }), \" -> \", _jsx(_components.code, {\n            children: \"gen(3)\"\n          }), \" -> \", _jsx(_components.code, {\n            children: \"gen(4)\"\n          }), \" -> \", _jsx(_components.code, {\n            children: \"gen(2)\"\n          }), \", at which point we stop since\\r\\n\", _jsx(_components.code, {\n            children: \"ans[2] = -1\"\n          }), \". Since we have reached \", _jsx(_components.code, {\n            children: \"2\"\n          }), \" for the second time, we know that \", _jsx(_components.code, {\n            children: \"2\"\n          }), \"\\r\\nis part of a cycle and \", _jsx(_components.code, {\n            children: \"ans[2] = 2\"\n          }), \". Similarly, \", _jsx(_components.code, {\n            children: \"ans[3] = 3\"\n          }), \" and \", _jsx(_components.code, {\n            children: \"ans[4] = 4\"\n          }), \"\\r\\nsince they are part of the cycle. On the other hand, \", _jsx(_components.code, {\n            children: \"ans[0] = ans[1] = 2\"\n          }), \"\\r\\nsince neither of them are part of the cycle.\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [\"Later, we make the following recursive calls when we start at vertex \", _jsx(_components.code, {\n            children: \"5\"\n          }), \":\\r\\n\", _jsx(_components.code, {\n            children: \"gen(5)\"\n          }), \" -> \", _jsx(_components.code, {\n            children: \"gen(6)\"\n          }), \" -> \", _jsx(_components.code, {\n            children: \"gen(1)\"\n          }), \". We already know that \", _jsx(_components.code, {\n            children: \"ans[1] = 2\"\n          }), \", so\\r\\n\", _jsx(_components.code, {\n            children: \"ans[5] = ans[6] = 2\"\n          }), \" as well.\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"solution-2\",\n      children: [_jsx(_components.a, {\n        href: \"#solution-2\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Solution 2\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"floyd(x)\"\n      }), \" generates answers for all vertices in the connected component containing\\r\\n\", _jsx(_components.code, {\n        children: \"x\"\n      }), \". Requires reverse adjacency lists (\", _jsx(_components.code, {\n        children: \"radj\"\n      }), \").\"]\n    }), \"\\n\", _jsxs(LanguageSection, {\n      children: [_jsx(CPPSection, {\n        children: _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-cpp\",\n            children: \"#include <bits/stdc++.h>\\r\\nusing namespace std;\\r\\n\\r\\nint N;\\r\\nvector<int> adj, ans;\\r\\nvector<vector<int>> radj;\\r\\n\\r\\nvoid fill_radj(int x)\\r\\n{\\r\\n\\tfor (auto &child : radj[x])\\r\\n\\t{\\r\\n\\t\\t/* \\r\\n\\t\\t * As all nodes in the cycle are processed in function floyd,\\r\\n\\t\\t * the recursive call will only start at the nodes which\\r\\n\\t\\t * combine the cycle with the acyclic part of the connected component\\r\\n\\t\\t * where one of its outgoing arrows points to the node that is not processed yet. \\r\\n\\t\\t */\\r\\n\\t\\tif (ans[child] == -1)\\r\\n\\t\\t{\\r\\n\\t\\t\\tans[child] = ans[x];\\r\\n\\t\\t\\tfill_radj(child);\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\\r\\n\\r\\nvoid floyd(int x)\\r\\n{\\r\\n\\tint y = x;\\r\\n\\tdo\\r\\n\\t{  // find a cycle using Floyd's algorithm\\r\\n\\t\\tx = adj[x];\\r\\n\\t\\ty = adj[adj[y]];\\r\\n\\t} while (y != x);\\r\\n\\tdo\\r\\n\\t{  // set ans[x] = x for all x along cycle\\r\\n\\t\\tans[x] = x;\\r\\n\\t\\tx = adj[x];\\r\\n\\t} while (y != x);\\r\\n\\tdo\\r\\n\\t{  // set ans'es for all x not along cycle\\r\\n\\t\\tfill_radj(x);\\r\\n\\t\\tx = adj[x];\\r\\n\\t} while (y != x);\\r\\n}\\r\\n\\r\\nint main()\\r\\n{\\r\\n\\tcin.tie(0)->sync_with_stdio(false);\\r\\n\\tcin >> N;\\r\\n\\r\\n\\tadj.assign(N, -1);\\r\\n\\tfor (auto &e : adj)\\r\\n\\t{\\r\\n\\t\\tcin >> e;\\r\\n\\t\\te--;\\r\\n\\t}\\r\\n\\r\\n\\t/* \\r\\n\\t * For each node, we have to use a vector to store its children;  \\r\\n\\t * at nodes combining the cycle with other parts of the connected component,\\r\\n\\t * there would be more than one outgoing arrow in the reversed adjacency list\\r\\n\\t */\\r\\n\\tradj.assign(N, {});\\r\\n\\tfor (int i = 0; i < N; i++)\\r\\n\\t\\tradj[adj[i]].push_back(i);\\r\\n\\r\\n\\tans.assign(N, -1);\\r\\n\\t// we run Floyd's algorithm for each connected component\\r\\n\\tfor (int i = 0; i < N; i++)\\r\\n\\t\\tif (ans[i] == -1)\\r\\n\\t\\t\\tfloyd(i);\\r\\n\\r\\n\\tfor (auto &a : ans)\\r\\n\\t\\tcout << a + 1 << \\\" \\\";\\r\\n}\\n\"\n          })\n        })\n      }), _jsx(JavaSection, {\n        children: _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-java\",\n            children: \"import java.util.*;\\r\\nimport java.io.*;\\r\\n\\r\\npublic class Badge {\\r\\n\\tstatic Integer[] adj, ans;\\r\\n\\t/*\\r\\n\\t * For each node, we need a list to store its children; at nodes\\r\\n\\t * combining the cycle with other part of the connected component, there would\\r\\n\\t * be more than one outgoing arrow in the reversed adjacency list\\r\\n\\t */\\r\\n\\tstatic List<List<Integer>> radj;\\r\\n\\r\\n\\tpublic static void main(String[] args) throws IOException {\\r\\n\\t\\tBufferedReader in = new BufferedReader(new InputStreamReader(System.in));\\r\\n\\r\\n\\t\\tint N = Integer.parseInt(in.readLine());\\r\\n\\t\\tadj = new Integer[N];\\r\\n\\t\\tans = new Integer[N];\\r\\n\\t\\tradj = new ArrayList<>();\\r\\n\\r\\n\\t\\tStringTokenizer st = new StringTokenizer(in.readLine());\\r\\n\\t\\tfor (int i = 0; i < N; i++) {\\r\\n\\t\\t\\tadj[i] = Integer.valueOf(st.nextToken()) - 1;\\r\\n\\t\\t\\tans[i] = -1;\\r\\n\\t\\t\\tradj.add(new ArrayList<>());\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\tfor (int i = 0; i < N; i++)\\r\\n\\t\\t\\tradj.get(adj[i]).add(Integer.valueOf(i));\\r\\n\\r\\n\\t\\tfor (int i = 0; i < N; i++) {\\r\\n\\t\\t\\t// run Floyd's algorithm on every connected component\\r\\n\\t\\t\\tif (ans[i] == -1)\\r\\n\\t\\t\\t\\tfloyd(i);\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\tfor (Integer i : ans) {\\r\\n\\t\\t\\tSystem.out.print(i + 1);\\r\\n\\t\\t\\tSystem.out.print(\\\" \\\");\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\r\\n\\tprivate static void floyd(int x) {\\r\\n\\t\\tint a = adj[x];\\r\\n\\t\\tint b = adj[adj[x]];\\r\\n\\r\\n\\t\\t// find a cycle using Floyd's algorithm\\r\\n\\t\\twhile (a != b) {\\r\\n\\t\\t\\ta = adj[a];\\r\\n\\t\\t\\tb = adj[adj[b]];\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t// for each node a in the cycle, the answer ans[a] will be a as well\\r\\n\\t\\tdo {\\r\\n\\t\\t\\tans[a] = a;\\r\\n\\t\\t\\ta = adj[a];\\r\\n\\t\\t} while (a != b);\\r\\n\\r\\n\\t\\t// for each node a that has outgoing arrow(s) pointing to the acyclic part\\r\\n\\t\\t// we set their answers with fillRadj\\r\\n\\t\\tdo {\\r\\n\\t\\t\\tfillRadj(a);\\r\\n\\t\\t\\ta = adj[a];\\r\\n\\t\\t} while (a != b);\\r\\n\\t}\\r\\n\\r\\n\\tprivate static void fillRadj(int x) {\\r\\n\\t\\tfor (Integer child : radj.get(x)) {\\r\\n\\t\\t\\t/*\\r\\n\\t\\t\\t * As all nodes in the cycle are processed in method floyd, the recursive call\\r\\n\\t\\t\\t * will only start at the nodes which combine the cycle with the acyclic part of\\r\\n\\t\\t\\t * the connected component, where one of its outgoing arrows points to the node\\r\\n\\t\\t\\t * that is not processed yet\\r\\n\\t\\t\\t */\\r\\n\\t\\t\\tif (ans[child] == -1) {\\r\\n\\t\\t\\t\\tans[child] = ans[x];\\r\\n\\t\\t\\t\\tfillRadj(child);\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\\n\"\n          })\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"count-cycles\",\n      children: [_jsx(_components.a, {\n        href: \"#count-cycles\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Count Cycles\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The following sample code counts the number of cycles in such a graph. The\\r\\n\\\"stack\\\" contains nodes that can reach the current node. If the current node\\r\\npoints to a node \", _jsx(_components.code, {\n        children: \"v\"\n      }), \" on the stack (\", _jsx(_components.code, {\n        children: \"on_stack[v]\"\n      }), \" is true), then we know that a\\r\\ncycle has been created. However, if the current node points to a node \", _jsx(_components.code, {\n        children: \"v\"\n      }), \" that\\r\\nhas been previously visited but is not on the stack, then we know that the\\r\\ncurrent chain of nodes points into a cycle that has already been considered.\"]\n    }), \"\\n\", _jsxs(LanguageSection, {\n      children: [_jsx(CPPSection, {\n        children: _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-cpp\",\n            children: \"//UNTESTED\\r\\n//Each node points to next_node[node]\\r\\n\\r\\nbool visited[MAXN], on_stack[MAXN];\\r\\nint number_of_cycles = 0, next_node[MAXN];\\r\\nvoid dfs(int n)\\r\\n{\\r\\n\\tvisited[n] = on_stack[n] = true;\\r\\n\\tint u = next_node[n];\\r\\n\\tif(on_stack[u])\\r\\n\\t\\tnumber_of_cycles++;\\r\\n\\telse if(!visited[u])\\r\\n\\t\\tdfs(u);\\r\\n\\ton_stack[n] = false;\\r\\n}\\r\\nint main()\\r\\n{\\r\\n\\t//read input, etc\\r\\n\\tfor (int i = 1;i <= N;i++)\\r\\n\\t\\tif(!visited[i])\\r\\n\\t\\t\\tdfs(i);\\r\\n}\\n\"\n          })\n        })\n      }), _jsx(JavaSection, {\n        children: _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-java\",\n            children: \"//source: Mayank Kumar\\r\\nimport java.io.*;\\r\\nimport java.util.*;\\r\\npublic class badge2{\\r\\n\\tstatic boolean[] visited=new boolean[MAXN],onStack=new boolean[MAXN];\\r\\n\\tstatic int numberOfCycles=0;\\r\\n\\tstatic int[] nextNode=new int[MAXN];\\r\\n\\tpublic static void main(String[] args) throws IOException{\\r\\n\\t\\t//Take in input\\r\\n\\t\\tfor(int i=1;i!=N;++i)\\r\\n\\t\\t\\tif(!visited[i])\\r\\n\\t\\t\\t\\tdfs(i);\\r\\n\\t\\tSystem.out.println();\\r\\n\\t\\tSystem.out.close();\\r\\n\\t}\\r\\n\\tpublic static void dfs(int n){\\r\\n\\t\\tvisited[n]=onStack[n]=true;\\r\\n\\t\\tint u=nextNode[n];\\r\\n\\t\\tif(onStack[u])\\r\\n\\t\\t\\t++numberOfCycles;\\r\\n\\t\\telse if(!visited[u])\\r\\n\\t\\t\\tdfs(u);\\r\\n\\t\\tonStack[n]=false;\\r\\n\\t}\\r\\n}\\n\"\n          })\n        })\n      })]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"k-th-successor\",\n      children: [_jsx(_components.a, {\n        href: \"#k-th-successor\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"K\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\\\"application/x-tex\\\">K</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6833em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.07153em;\\\">K</span></span></span></span>\"\n      }), \"-th Successor\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"As described briefly in CPH 16.3, the \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"k\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\\\"application/x-tex\\\">k</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6944em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.03148em;\\\">k</span></span></span></span>\"\n      }), \"-th successor of a certain node in a functional graph can be found in \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\mathcal{O}(\\\\log K)\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi mathvariant=\\\"script\\\">O</mi><mo stretchy=\\\"false\\\">(</mo><mi>log</mi><mo>⁡</mo><mi>K</mi><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\mathcal{O}(\\\\log K)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord mathcal\\\" style=\\\"margin-right:0.02778em;\\\">O</span><span class=\\\"mopen\\\">(</span><span class=\\\"mop\\\">lo<span style=\\\"margin-right:0.01389em;\\\">g</span></span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.07153em;\\\">K</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n      }), \" time\\r\\nusing \", _jsx(_components.strong, {\n        children: \"binary jumping\"\n      }), \", given \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"\\\\mathcal{O}(n \\\\log u)\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi mathvariant=\\\"script\\\">O</mi><mo stretchy=\\\"false\\\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>u</mi><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">\\\\mathcal{O}(n \\\\log u)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mord mathcal\\\" style=\\\"margin-right:0.02778em;\\\">O</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\">n</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mop\\\">lo<span style=\\\"margin-right:0.01389em;\\\">g</span></span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord mathnormal\\\">u</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n      }), \" time of preprocessing where \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"u\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\\\"application/x-tex\\\">u</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.4306em;\\\"></span><span class=\\\"mord mathnormal\\\">u</span></span></span></span>\"\n      }), \" is the maximum length of each jump. See the Platinum \", _jsx(_components.a, {\n        href: \"/plat/bin-jump\",\n        children: \"module\"\n      }), \" for details.\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"problems\",\n      children: [_jsx(_components.a, {\n        href: \"#problems\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Problems\"]\n    }), \"\\n\", _jsx(Problems, {\n      problems: \"probs\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Additional problems involving functional graphs can be found in the\\r\\n\", _jsx(_components.a, {\n        href: \"/gold/dp-trees\",\n        children: \"Tree DP\"\n      }), \" and \", _jsx(_components.a, {\n        href: \"/plat/bin-jump\",\n        children: \"Binary Jumping\"\n      }), \" modules.\"]\n    })]\n  });\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, _props, {\n    children: _content\n  })) : _content;\n}\nreturn {\n  id,\n  title,\n  author,\n  contributors,\n  prerequisites,\n  description,\n  frequency,\n  default: MDXContent\n};\n","frontmatter":{"title":"(Optional) Introduction to Functional Graphs","author":"Siyong Huang, Benjamin Qi, Andrew Wang","contributors":"Chuyang Wang","id":"func-graphs","prerequisites":["intro-tree"],"description":"Directed graphs in which every vertex has exactly one outgoing edge.","frequency":1},"parent":{"name":"Func_Graphs","relativePath":"3_Silver/Func_Graphs.mdx"},"fields":{"division":"silver"},"toc":{"cpp":[{"depth":2,"value":"Introduction","slug":"introduction"},{"depth":2,"value":"Floyd&#39;s Algorithm","slug":"floyds-algorithm"},{"depth":3,"value":"Example - Cooperative Game","slug":"example---cooperative-game"},{"depth":3,"value":"Solution","slug":"solution"},{"depth":2,"value":"Example - Badge","slug":"example---badge"},{"depth":3,"value":"Solution 1","slug":"solution-1"},{"depth":3,"value":"Solution 2","slug":"solution-2"},{"depth":2,"value":"Count Cycles","slug":"count-cycles"},{"depth":2,"value":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>-th Successor","slug":"k-th-successor"},{"depth":2,"value":"Problems","slug":"problems"}],"java":[{"depth":2,"value":"Introduction","slug":"introduction"},{"depth":2,"value":"Floyd&#39;s Algorithm","slug":"floyds-algorithm"},{"depth":3,"value":"Example - Cooperative Game","slug":"example---cooperative-game"},{"depth":3,"value":"Solution","slug":"solution"},{"depth":2,"value":"Example - Badge","slug":"example---badge"},{"depth":3,"value":"Solution 1","slug":"solution-1"},{"depth":3,"value":"Solution 2","slug":"solution-2"},{"depth":2,"value":"Count Cycles","slug":"count-cycles"},{"depth":2,"value":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>-th Successor","slug":"k-th-successor"},{"depth":2,"value":"Problems","slug":"problems"}],"py":[{"depth":2,"value":"Introduction","slug":"introduction"},{"depth":2,"value":"Floyd&#39;s Algorithm","slug":"floyds-algorithm"},{"depth":3,"value":"Example - Cooperative Game","slug":"example---cooperative-game"},{"depth":3,"value":"Solution","slug":"solution"},{"depth":2,"value":"Example - Badge","slug":"example---badge"},{"depth":3,"value":"Solution 1","slug":"solution-1"},{"depth":3,"value":"Solution 2","slug":"solution-2"},{"depth":2,"value":"Count Cycles","slug":"count-cycles"},{"depth":2,"value":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>-th Successor","slug":"k-th-successor"},{"depth":2,"value":"Problems","slug":"problems"}]}},"moduleProblemLists":{"problemLists":[{"listId":"sample","problems":[{"uniqueId":"cf-1020B","name":"Div 2 B - Badge","url":"https://codeforces.com/contest/1020/problem/B","source":"CF","difficulty":"Very Easy","isStarred":false,"tags":["Functional Graph"],"solution":{"kind":"label","label":"Check CF","labelTooltip":"Check contest materials, located to the right of the problem statement.","url":null,"sketch":null}}]},{"listId":"sample_floyd","problems":[{"uniqueId":"cf-1137D","name":"Cooperative Game","url":"https://codeforces.com/contest/1137/problem/D","source":"CF","difficulty":"Hard","isStarred":false,"tags":["Functional Graph"],"solution":{"kind":"label","label":"Check CF","labelTooltip":"Check contest materials, located to the right of the problem statement.","url":null,"sketch":null}}]},{"listId":"probs","problems":[{"uniqueId":"usaco-764","name":"The Bovine Shuffle","url":"http://www.usaco.org/index.php?page=viewproblem2&cpid=764","source":"Silver","difficulty":"Easy","isStarred":false,"tags":["Functional Graph"],"solution":{"kind":"internal","label":null,"labelTooltip":null,"url":null,"sketch":null}},{"uniqueId":"cses-1751","name":"Planets Cycles","url":"https://cses.fi/problemset/task/1751","source":"CSES","difficulty":"Easy","isStarred":true,"tags":["Functional Graph"],"solution":{"kind":"internal","label":null,"labelTooltip":null,"url":null,"sketch":null}}]}]}},"pageContext":{"id":"func-graphs"}},
    "staticQueryHashes": ["2753100047","3245546052","745520438"]}