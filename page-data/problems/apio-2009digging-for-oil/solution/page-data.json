{
    "componentChunkName": "component---src-templates-solution-template-tsx",
    "path": "/problems/apio-2009digging-for-oil/solution",
    "result": {"data":{"xdm":{"body":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nfunction _missingComponent(name) {\n  return function () {\n    throw new Error(\"Component `\" + name + \"` was not imported, exported, or given\");\n  };\n}\nconst id = \"apio-09-DiggingForOil\", source = \"APIO 2009\", title = \"Digging for Oil\", author = \"Albert Ye\";\nfunction MDXContent(_props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    h2: \"h2\",\n    span: \"span\",\n    img: \"img\",\n    h3: \"h3\",\n    pre: \"pre\",\n    code: \"code\",\n    HeaderLink: _missingComponent(\"HeaderLink\"),\n    MATHSPAN: _missingComponent(\"MATHSPAN\"),\n    LanguageSection: _missingComponent(\"LanguageSection\"),\n    CPPSection: _missingComponent(\"CPPSection\")\n  }, _props.components), {HeaderLink, MATHSPAN, LanguageSection, CPPSection, wrapper: MDXLayout} = _components;\n  const _content = _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: _jsx(_components.a, {\n        href: \"http://apio-olympiad.org/2009/apio2009-solutions.pdf\",\n        target: \"_blank\",\n        rel: \"nofollow noopener noreferrer\",\n        children: \"APIO 2009 Official Solutions\"\n      })\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"explanation\",\n      children: [_jsx(_components.a, {\n        href: \"#explanation\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Explanation\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"We want the three largest disjoint \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"K \\\\times K\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>K</mi><mo>×</mo><mi>K</mi></mrow><annotation encoding=\\\"application/x-tex\\\">K \\\\times K</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.7667em;vertical-align:-0.0833em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.07153em;\\\">K</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span><span class=\\\"mbin\\\">×</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6833em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.07153em;\\\">K</span></span></span></span>\"\n      }), \" squares with the largest total\\r\\nsums. Note that every pair of rectangles must be on opposite sides of some line.\\r\\nThis leaves us with two basic configurations; either there are two parallel\\r\\nlines dividing the squares or there are two perpendicular lines. The\\r\\nconfigurations are illustrated below:\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.span, {\n        className: \"gatsby-resp-image-wrapper\",\n        style: {\n          position: \"relative\",\n          display: \"block\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n          maxWidth: \"832px\"\n        },\n        children: [\"\\n      \", _jsxs(_components.a, {\n          className: \"gatsby-resp-image-link\",\n          href: \"/static/34a6e0b5ec7cc640ca623094add9cd89/d2d74/apio09oil-fig1.png\",\n          style: {\n            display: \"block\"\n          },\n          target: \"_blank\",\n          rel: \"noopener\",\n          children: [\"\\n    \", _jsx(_components.span, {\n            className: \"gatsby-resp-image-background-image\",\n            style: {\n              paddingBottom: \"56.25%\",\n              position: \"relative\",\n              bottom: \"0\",\n              left: \"0\",\n              backgroundImage: \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABGUlEQVQoz52S61LDIBCF+/5vpW9Qa8fa1jQBEhNIuCxJFyUUB+M4MXXqjOfXwtkP2GVX8aYul8s8ni9jjKsvIwTEMyJ67+d2SPtJ4xiuj06wc45Q+rTbPazXz/s9e60QcbL7vieUMkpbIQDAObeEwVrDhbO9VEpLyU+5UmqyWVmCMba3MAxCCErpvJYE2/MZji9Y11Jr0/Bu86i1npLquk5Z2sSqHmPkTXMFf+rN+y4v1OEoASY4xngipDoc6N19tt2yssyybAkDABiDiK0QSkohxPTsdDNv4rv3ANKYEELD+RJGRMZYVVVFURBCKKXfDSOEKGParsvyXBHSbh6X8A0551JJYMHawZixH3755/9p9eeEzRV/TtgHyKR98BBGr+IAAAAASUVORK5CYII=')\",\n              backgroundSize: \"cover\",\n              display: \"block\"\n            }\n          }), \"\\n  \", _jsx(_components.img, {\n            className: \"gatsby-resp-image-image\",\n            alt: \"apio09oil fig1\",\n            title: \"apio09oil fig1\",\n            src: \"/static/34a6e0b5ec7cc640ca623094add9cd89/6a350/apio09oil-fig1.png\",\n            srcSet: \"/static/34a6e0b5ec7cc640ca623094add9cd89/f29da/apio09oil-fig1.png 208w, /static/34a6e0b5ec7cc640ca623094add9cd89/5d0f3/apio09oil-fig1.png 416w, /static/34a6e0b5ec7cc640ca623094add9cd89/6a350/apio09oil-fig1.png 832w, /static/34a6e0b5ec7cc640ca623094add9cd89/d2d74/apio09oil-fig1.png 1152w\",\n            sizes: \"(max-width: 832px) 100vw, 832px\",\n            style: {\n              width: \"100%\",\n              height: \"100%\",\n              margin: \"0\",\n              verticalAlign: \"middle\",\n              position: \"absolute\",\n              top: \"0\",\n              left: \"0\"\n            },\n            loading: \"lazy\"\n          }), \"\\n  \"]\n        }), \"\\n    \"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Note that solutions need to account for all possible rotations of these\\r\\nconfigurations.\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"configuration-1\",\n      children: [_jsx(_components.a, {\n        href: \"#configuration-1\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Configuration 1\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In this configuration, we can find the answer for each non-middle subrectangle\\r\\nusing the method in Configuration 2. However, we need to use another recurrence\\r\\nto find the middle rectangle. WLOG let the subrectangles be arranged in top-down\\r\\norder, as the left-right order can be found similarly. Let \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"dp_{i, j}\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding=\\\"application/x-tex\\\">dp_{i, j}</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.9805em;vertical-align:-0.2861em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3117em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.05724em;\\\">j</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span></span></span></span>\"\n      }), \" be the\\r\\nanswer for the rows in interval \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"[i,j]\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mo stretchy=\\\"false\\\">[</mo><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>j</mi><mo stretchy=\\\"false\\\">]</mo></mrow><annotation encoding=\\\"application/x-tex\\\">[i,j]</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mopen\\\">[</span><span class=\\\"mord mathnormal\\\">i</span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.05724em;\\\">j</span><span class=\\\"mclose\\\">]</span></span></span></span>\"\n      }), \". Obviously \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"dp_{i,i+l}\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>i</mi><mo>+</mo><mi>l</mi></mrow></msub></mrow><annotation encoding=\\\"application/x-tex\\\">dp_{i,i+l}</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.9805em;vertical-align:-0.2861em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3361em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mbin mtight\\\">+</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.01968em;\\\">l</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span></span></span></span>\"\n      }), \" has no answers\\r\\nif \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"l < k-1\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>l</mi><mo>&lt;</mo><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding=\\\"application/x-tex\\\">l &lt; k-1</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.7335em;vertical-align:-0.0391em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.01968em;\\\">l</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2778em;\\\"></span><span class=\\\"mrel\\\">&lt;</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2778em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.7778em;vertical-align:-0.0833em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.03148em;\\\">k</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span><span class=\\\"mbin\\\">−</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6444em;\\\"></span><span class=\\\"mord\\\">1</span></span></span></span>\"\n      }), \". We can also manually find \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"dp_{i, i+k}\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>i</mi><mo>+</mo><mi>k</mi></mrow></msub></mrow><annotation encoding=\\\"application/x-tex\\\">dp_{i, i+k}</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.9805em;vertical-align:-0.2861em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3361em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mbin mtight\\\">+</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.03148em;\\\">k</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span></span></span></span>\"\n      }), \" manually as a base case.\\r\\nNext, note that \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"dp_{i,j}\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding=\\\"application/x-tex\\\">dp_{i,j}</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.9805em;vertical-align:-0.2861em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3117em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.05724em;\\\">j</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span></span></span></span>\"\n      }), \" consists of all \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"K \\\\times K\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>K</mi><mo>×</mo><mi>K</mi></mrow><annotation encoding=\\\"application/x-tex\\\">K \\\\times K</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.7667em;vertical-align:-0.0833em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.07153em;\\\">K</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span><span class=\\\"mbin\\\">×</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6833em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.07153em;\\\">K</span></span></span></span>\"\n      }), \" squares counted in\\r\\n\", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"dp_{i+1, j}\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn><mo separator=\\\"true\\\">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding=\\\"application/x-tex\\\">dp_{i+1, j}</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.9805em;vertical-align:-0.2861em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3117em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mbin mtight\\\">+</span><span class=\\\"mord mtight\\\">1</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.05724em;\\\">j</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span></span></span></span>\"\n      }), \" and \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"dp_{i, j-1}\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>j</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding=\\\"application/x-tex\\\">dp_{i, j-1}</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.9805em;vertical-align:-0.2861em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3117em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.05724em;\\\">j</span><span class=\\\"mbin mtight\\\">−</span><span class=\\\"mord mtight\\\">1</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span></span></span></span>\"\n      }), \". Then, there are just the squares counted in row\\r\\n\", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"i\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\\\"application/x-tex\\\">i</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6595em;\\\"></span><span class=\\\"mord mathnormal\\\">i</span></span></span></span>\"\n      }), \" and row \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"j\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>j</mi></mrow><annotation encoding=\\\"application/x-tex\\\">j</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.854em;vertical-align:-0.1944em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.05724em;\\\">j</span></span></span></span>\"\n      }), \", which is just \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"dp_{i, i+k-1}\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>i</mi><mo>+</mo><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding=\\\"application/x-tex\\\">dp_{i, i+k-1}</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.9805em;vertical-align:-0.2861em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3361em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mbin mtight\\\">+</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.03148em;\\\">k</span><span class=\\\"mbin mtight\\\">−</span><span class=\\\"mord mtight\\\">1</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span></span></span></span>\"\n      }), \" and \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"dp_{j-k+1, j}\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>d</mi><msub><mi>p</mi><mrow><mi>j</mi><mo>−</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo separator=\\\"true\\\">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding=\\\"application/x-tex\\\">dp_{j-k+1, j}</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.9805em;vertical-align:-0.2861em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3361em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.05724em;\\\">j</span><span class=\\\"mbin mtight\\\">−</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.03148em;\\\">k</span><span class=\\\"mbin mtight\\\">+</span><span class=\\\"mord mtight\\\">1</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.05724em;\\\">j</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span></span></span></span>\"\n      }), \" respectively.\\r\\nThus, the recurrence is\\r\\n\", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"dp_{i,j} = \\\\max(\\\\max(dp_{i+1, j},dp_{i,i+k-1}), \\\\max(dp_{i, j-1}, dp_{j-k+1, j})).\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>j</mi></mrow></msub><mo>=</mo><mi>max</mi><mo>⁡</mo><mo stretchy=\\\"false\\\">(</mo><mi>max</mi><mo>⁡</mo><mo stretchy=\\\"false\\\">(</mo><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn><mo separator=\\\"true\\\">,</mo><mi>j</mi></mrow></msub><mo separator=\\\"true\\\">,</mo><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>i</mi><mo>+</mo><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy=\\\"false\\\">)</mo><mo separator=\\\"true\\\">,</mo><mi>max</mi><mo>⁡</mo><mo stretchy=\\\"false\\\">(</mo><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>j</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator=\\\"true\\\">,</mo><mi>d</mi><msub><mi>p</mi><mrow><mi>j</mi><mo>−</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo separator=\\\"true\\\">,</mo><mi>j</mi></mrow></msub><mo stretchy=\\\"false\\\">)</mo><mo stretchy=\\\"false\\\">)</mo><mi mathvariant=\\\"normal\\\">.</mi></mrow><annotation encoding=\\\"application/x-tex\\\">dp_{i,j} = \\\\max(\\\\max(dp_{i+1, j},dp_{i,i+k-1}), \\\\max(dp_{i, j-1}, dp_{j-k+1, j})).</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.9805em;vertical-align:-0.2861em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3117em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.05724em;\\\">j</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2778em;\\\"></span><span class=\\\"mrel\\\">=</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2778em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1.0361em;vertical-align:-0.2861em;\\\"></span><span class=\\\"mop\\\">max</span><span class=\\\"mopen\\\">(</span><span class=\\\"mop\\\">max</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3117em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mbin mtight\\\">+</span><span class=\\\"mord mtight\\\">1</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.05724em;\\\">j</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3361em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mbin mtight\\\">+</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.03148em;\\\">k</span><span class=\\\"mbin mtight\\\">−</span><span class=\\\"mord mtight\\\">1</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span><span class=\\\"mclose\\\">)</span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mop\\\">max</span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3117em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.05724em;\\\">j</span><span class=\\\"mbin mtight\\\">−</span><span class=\\\"mord mtight\\\">1</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3361em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.05724em;\\\">j</span><span class=\\\"mbin mtight\\\">−</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.03148em;\\\">k</span><span class=\\\"mbin mtight\\\">+</span><span class=\\\"mord mtight\\\">1</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.05724em;\\\">j</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span><span class=\\\"mclose\\\">))</span><span class=\\\"mord\\\">.</span></span></span></span>\"\n      }), \"\\r\\nNote that intervals must be traversed from smallest to largest.\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"configuration-2\",\n      children: [_jsx(_components.a, {\n        href: \"#configuration-2\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Configuration 2\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"It suffices to use prefix sums. From each corner, find the sum of the values of\\r\\nall points that can be reached solely by travelling towards that corner from a\\r\\npoint \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"(i, j)\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mo stretchy=\\\"false\\\">(</mo><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>j</mi><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">(i, j)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\">i</span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.05724em;\\\">j</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n      }), \", and store the value with \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"(i, j)\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mo stretchy=\\\"false\\\">(</mo><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>j</mi><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">(i, j)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\">i</span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.05724em;\\\">j</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n      }), \". We can use this to find the\\r\\ntotal amount of oil for the \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"K \\\\times K\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>K</mi><mo>×</mo><mi>K</mi></mrow><annotation encoding=\\\"application/x-tex\\\">K \\\\times K</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.7667em;vertical-align:-0.0833em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.07153em;\\\">K</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span><span class=\\\"mbin\\\">×</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6833em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.07153em;\\\">K</span></span></span></span>\"\n      }), \" squares on each corner of \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"(i, j)\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mo stretchy=\\\"false\\\">(</mo><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>j</mi><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">(i, j)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\">i</span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.05724em;\\\">j</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n      }), \".\\r\\nThese values help us find the maximum amount of oil in a \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"K \\\\times K\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>K</mi><mo>×</mo><mi>K</mi></mrow><annotation encoding=\\\"application/x-tex\\\">K \\\\times K</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.7667em;vertical-align:-0.0833em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.07153em;\\\">K</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span><span class=\\\"mbin\\\">×</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.2222em;\\\"></span></span><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.6833em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.07153em;\\\">K</span></span></span></span>\"\n      }), \" square on\\r\\neach corner of \", _jsx(MATHSPAN, {\n        className: \"math math-inline\",\n        latex: \"(i, j)\",\n        children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mo stretchy=\\\"false\\\">(</mo><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>j</mi><mo stretchy=\\\"false\\\">)</mo></mrow><annotation encoding=\\\"application/x-tex\\\">(i, j)</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:1em;vertical-align:-0.25em;\\\"></span><span class=\\\"mopen\\\">(</span><span class=\\\"mord mathnormal\\\">i</span><span class=\\\"mpunct\\\">,</span><span class=\\\"mspace\\\" style=\\\"margin-right:0.1667em;\\\"></span><span class=\\\"mord mathnormal\\\" style=\\\"margin-right:0.05724em;\\\">j</span><span class=\\\"mclose\\\">)</span></span></span></span>\"\n      }), \". We then perform some casework for each reflection to\\r\\nget the answer.\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"implementation\",\n      children: [_jsx(_components.a, {\n        href: \"#implementation\",\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        className: \"anchor before\",\n        children: _jsx(HeaderLink, {})\n      }), \"Implementation\"]\n    }), \"\\n\", _jsx(LanguageSection, {\n      children: _jsxs(CPPSection, {\n        children: [_jsxs(_components.p, {\n          children: [_jsx(MATHSPAN, {\n            className: \"math math-inline\",\n            latex: \"pp_i\",\n            children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>p</mi><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\\\"application/x-tex\\\">pp_i</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.625em;vertical-align:-0.1944em;\\\"></span><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3117em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.15em;\\\"><span></span></span></span></span></span></span></span></span></span>\"\n          }), \" implements the prefix sum function for each corner, and \", _jsx(MATHSPAN, {\n            className: \"math math-inline\",\n            latex: \"dp_{i,j}\",\n            children: \"<span class=\\\"katex\\\"><span class=\\\"katex-mathml\\\"><math xmlns=\\\"http://www.w3.org/1998/Math/MathML\\\"><semantics><mrow><mi>d</mi><msub><mi>p</mi><mrow><mi>i</mi><mo separator=\\\"true\\\">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding=\\\"application/x-tex\\\">dp_{i,j}</annotation></semantics></math></span><span class=\\\"katex-html\\\" aria-hidden=\\\"true\\\"><span class=\\\"base\\\"><span class=\\\"strut\\\" style=\\\"height:0.9805em;vertical-align:-0.2861em;\\\"></span><span class=\\\"mord mathnormal\\\">d</span><span class=\\\"mord\\\"><span class=\\\"mord mathnormal\\\">p</span><span class=\\\"msupsub\\\"><span class=\\\"vlist-t vlist-t2\\\"><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.3117em;\\\"><span style=\\\"top:-2.55em;margin-left:0em;margin-right:0.05em;\\\"><span class=\\\"pstrut\\\" style=\\\"height:2.7em;\\\"></span><span class=\\\"sizing reset-size6 size3 mtight\\\"><span class=\\\"mord mtight\\\"><span class=\\\"mord mathnormal mtight\\\">i</span><span class=\\\"mpunct mtight\\\">,</span><span class=\\\"mord mathnormal mtight\\\" style=\\\"margin-right:0.05724em;\\\">j</span></span></span></span></span><span class=\\\"vlist-s\\\">​</span></span><span class=\\\"vlist-r\\\"><span class=\\\"vlist\\\" style=\\\"height:0.2861em;\\\"><span></span></span></span></span></span></span></span></span></span>\"\n          }), \" is as\\r\\ndescribed.\"]\n        }), _jsx(_components.pre, {\n          children: _jsx(_components.code, {\n            className: \"language-cpp\",\n            children: \"#include <bits/stdc++.h>\\r\\n\\r\\nusing namespace std;\\r\\n\\r\\n#define MAXN 1505\\r\\n\\r\\nint m,n,k,dp[MAXN][MAXN][2],pp[MAXN][MAXN][4],pq[MAXN][MAXN],ar[MAXN][MAXN];\\r\\nint main()\\r\\n{\\r\\n\\tios_base::sync_with_stdio(0);\\r\\n\\tcin >> m >> n >> k;\\r\\n\\tfor(int i = 0; i < m; i++) for(int j = 0; j < n; j++) cin >> ar[i][j];\\r\\n\\tfor(int i = 0; i < m; i++)\\r\\n\\t{\\r\\n\\t\\tfor(int j = 0; j < n; j++)\\r\\n\\t\\t{\\r\\n\\t\\t\\tpq[i][j] = ar[i][j];\\r\\n\\t\\t\\tif(i) pq[i][j] += pq[i-1][j];\\r\\n\\t\\t\\tif(j) pq[i][j] += pq[i][j-1];\\r\\n\\t\\t\\tif(i && j) pq[i][j] -= pq[i-1][j-1];\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\tfor(int i = k-1; i < m; i++) for(int j = k-1; j < n; j++)\\r\\n\\t{\\r\\n\\t\\tpp[i][j][0] = pq[i][j];\\r\\n\\t\\tif(i > k-1) pp[i][j][0] -= pq[i-k][j];\\r\\n\\t\\tif(j > k-1) pp[i][j][0] -= pq[i][j-k];\\r\\n\\t\\tif(i > k-1 && j > k-1) pp[i][j][0] += pq[i-k][j-k];\\r\\n\\t}\\r\\n\\tfor(int i = m-1; i >= 0; i--)\\r\\n\\t{\\r\\n\\t\\tfor(int j = 0; j < n; j++)\\r\\n\\t\\t{\\r\\n\\t\\t\\tpq[i][j] = ar[i][j];\\r\\n\\t\\t\\tif(i<m-1) pq[i][j] += pq[i+1][j];\\r\\n\\t\\t\\tif(j) pq[i][j] += pq[i][j-1];\\r\\n\\t\\t\\tif(i<m-1 && j) pq[i][j] -= pq[i+1][j-1];\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\tfor(int i = m-k; i >= 0; i--) for(int j = k-1; j < n; j++)\\r\\n\\t{\\r\\n\\t\\tpp[i][j][1] = pq[i][j];\\r\\n\\t\\tif(i < m-k) pp[i][j][1] -= pq[i+k][j];\\r\\n\\t\\tif(j > k-1) pp[i][j][1] -= pq[i][j-k];\\r\\n\\t\\tif(i < m-k && j > k-1) pp[i][j][1] += pq[i+k][j-k];\\r\\n\\t}\\r\\n\\tfor(int i = 0; i < m; i++)\\r\\n\\t{\\r\\n\\t\\tfor(int j = n-1; j >= 0; j--)\\r\\n\\t\\t{\\r\\n\\t\\t\\tpq[i][j] = ar[i][j];\\r\\n\\t\\t\\tif(i) pq[i][j] += pq[i-1][j];\\r\\n\\t\\t\\tif(j<n-1) pq[i][j] += pq[i][j+1];\\r\\n\\t\\t\\tif(i && j<n-1) pq[i][j] -= pq[i-1][j+1];\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\tfor(int i = k-1; i < m; i++) for(int j = n-k; j >= 0; j--)\\r\\n\\t{\\r\\n\\t\\tpp[i][j][2] = pq[i][j];\\r\\n\\t\\tif(i > k-1) pp[i][j][2] -= pq[i-k][j];\\r\\n\\t\\tif(j < n-k) pp[i][j][2] -= pq[i][j+k];\\r\\n\\t\\tif(i > k-1 && j < n-k) pp[i][j][2] += pq[i-k][j+k];\\r\\n\\t}\\r\\n\\tfor(int i = m-1; i >= 0; i--)\\r\\n\\t{\\r\\n\\t\\tfor(int j = n-1; j >= 0; j--)\\r\\n\\t\\t{\\r\\n\\t\\t\\tpq[i][j] = ar[i][j];\\r\\n\\t\\t\\tif(i<m-1) pq[i][j] += pq[i+1][j];\\r\\n\\t\\t\\tif(j<n-1) pq[i][j] += pq[i][j+1];\\r\\n\\t\\t\\tif(i<m-1 && j<n-1) pq[i][j] -= pq[i+1][j+1];\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\tfor(int i = m-k; i >= 0; i--) for(int j = n-k; j >= 0; j--)\\r\\n\\t{\\r\\n\\t\\tpp[i][j][3] = pq[i][j];\\r\\n\\t\\tif(i < m-k) pp[i][j][3] -= pq[i+k][j];\\r\\n\\t\\tif(j < n-k) pp[i][j][3] -= pq[i][j+k];\\r\\n\\t\\tif(i < m-k && j < n-k) pp[i][j][3] += pq[i+k][j+k];\\r\\n\\t}\\r\\n\\tfor(int i = k-1; i < m; i++)\\r\\n\\t{\\r\\n\\t\\tint mx = 0;\\r\\n\\t\\tfor(int j = 0; j < n; j++)\\r\\n\\t\\t{\\r\\n\\t\\t\\tmx = max(mx, pp[i][j][0]);\\r\\n\\t\\t}\\r\\n\\t\\tdp[i-k+1][i][0] = mx;\\r\\n\\t}\\r\\n\\tfor(int l = k; l < m; l++)\\r\\n\\t{\\r\\n\\t\\tfor(int i = 0; i < m-l; i++)\\r\\n\\t\\t{\\r\\n\\t\\t\\tdp[i][i+l][0] = max(max(dp[i+1][i+l][0],dp[i][i+k-1][0]), max(dp[i][i+l-1][0],dp[i+l-k+1][i+l][0]));\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\tfor(int i = k-1; i < n; i++)\\r\\n\\t{\\r\\n\\t\\tint mx = 0;\\r\\n\\t\\tfor(int j = 0; j < m; j++)\\r\\n\\t\\t{\\r\\n\\t\\t\\tmx = max(mx, pp[j][i][0]);\\r\\n\\t\\t}\\r\\n\\t\\tdp[i-k+1][i][1] = mx;\\r\\n\\t}\\r\\n\\tfor(int l = k; l < n; l++)\\r\\n\\t{\\r\\n\\t\\tfor(int i = 0; i < n-l; i++)\\r\\n\\t\\t{\\r\\n\\t\\t\\tdp[i][i+l][1] = max(max(dp[i+1][i+l][1],dp[i][i+k-1][1]), max(dp[i][i+l-1][1],dp[i+l-k+1][i+l][1]));\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\tfor(int i = 0; i < m; i++) for(int j = 0; j < n; j++)\\r\\n\\t{\\r\\n\\t\\tif(i) pp[i][j][0] = max(pp[i][j][0], pp[i-1][j][0]);\\r\\n\\t\\tif(j) pp[i][j][0] = max(pp[i][j][0], pp[i][j-1][0]);\\r\\n\\t}\\r\\n\\tfor(int i = m-1; i >= 0; i--) for(int j = 0; j < n; j++)\\r\\n\\t{\\r\\n\\t\\tif(i < m-1) pp[i][j][1] = max(pp[i][j][1], pp[i+1][j][1]);\\r\\n\\t\\tif(j) pp[i][j][1] = max(pp[i][j][1], pp[i][j-1][1]);\\r\\n\\t}\\r\\n\\tfor(int i = 0; i < m; i++) for(int j = n-1; j >= 0; j--)\\r\\n\\t{\\r\\n\\t\\tif(i) pp[i][j][2] = max(pp[i][j][2], pp[i-1][j][2]);\\r\\n\\t\\tif(j < n-1) pp[i][j][2] = max(pp[i][j][2], pp[i][j+1][2]);\\r\\n\\t}\\r\\n\\tfor(int i = m-1; i >= 0; i--) for(int j = n-1; j >= 0; j--)\\r\\n\\t{\\r\\n\\t\\tif(i < m-1) pp[i][j][3] = max(pp[i][j][3], pp[i+1][j][3]);\\r\\n\\t\\tif(j < n-1) pp[i][j][3] = max(pp[i][j][3], pp[i][j+1][3]);\\r\\n\\t}\\r\\n\\t// do three rectangles not all aligned.\\r\\n\\tint ans = 0;\\r\\n\\tfor(int i = k; i < m-k; i++)\\r\\n\\t{\\r\\n\\t\\tfor(int j = k; j < n-k; j++)\\r\\n\\t\\t{\\r\\n\\t\\t\\tans = max(ans, pp[i-1][n-1][0]+pp[i][j-1][1]+pp[i][j][3]);\\r\\n\\t\\t\\tans = max(ans, pp[i-1][j-1][0]+pp[i-1][j][2]+pp[i][n-1][1]);\\r\\n\\t\\t\\tans = max(ans, pp[i-1][j-1][0]+pp[i][j-1][1]+pp[m-1][j][2]);\\r\\n\\t\\t\\tans = max(ans, pp[m-1][j-1][0]+pp[i-1][j][2]+pp[i][j][3]);\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\t// do three rectangles all aligned.\\r\\n\\tfor(int i = 1; i < m; i++) for(int j = i+k; j < m; j++)\\r\\n\\t{\\r\\n\\t\\tans = max(ans, pp[i-1][n-1][0]+dp[i][j-1][0]+pp[j][n-1][1]);\\r\\n\\t}\\r\\n\\tfor(int i = 1; i < n; i++) for(int j = i+k; j < n; j++)\\r\\n\\t{\\r\\n\\t\\tans = max(ans, pp[m-1][i-1][0]+dp[i][j-1][1]+pp[m-1][j][2]);\\r\\n\\t}\\r\\n\\tcout << ans << endl;\\r\\n}\\n\"\n          })\n        })]\n      })\n    })]\n  });\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, _props, {\n    children: _content\n  })) : _content;\n}\nreturn {\n  id,\n  source,\n  title,\n  author,\n  default: MDXContent\n};\n","frontmatter":{"id":"apio-09-DiggingForOil","source":"APIO 2009","title":"Digging for Oil","author":"Albert Ye"},"parent":{"name":"apio-09-DiggingForOil","relativePath":"apio-09-DiggingForOil.mdx"},"toc":{"cpp":[{"depth":2,"value":"Explanation","slug":"explanation"},{"depth":3,"value":"Configuration 1","slug":"configuration-1"},{"depth":3,"value":"Configuration 2","slug":"configuration-2"},{"depth":2,"value":"Implementation","slug":"implementation"}],"java":[{"depth":2,"value":"Explanation","slug":"explanation"},{"depth":3,"value":"Configuration 1","slug":"configuration-1"},{"depth":3,"value":"Configuration 2","slug":"configuration-2"},{"depth":2,"value":"Implementation","slug":"implementation"}],"py":[{"depth":2,"value":"Explanation","slug":"explanation"},{"depth":3,"value":"Configuration 1","slug":"configuration-1"},{"depth":3,"value":"Configuration 2","slug":"configuration-2"},{"depth":2,"value":"Implementation","slug":"implementation"}]}},"allProblemInfo":{"edges":[{"node":{"module":{"frontmatter":{"id":"sliding-window","title":"Sliding Window"}}}}]},"problemInfo":{"uniqueId":"apio-09-DiggingForOil","url":"https://dmoj.ca/problem/apio09p1"}},"pageContext":{"id":"apio-09-DiggingForOil"}},
    "staticQueryHashes": ["2753100047","3245546052","745520438"]}