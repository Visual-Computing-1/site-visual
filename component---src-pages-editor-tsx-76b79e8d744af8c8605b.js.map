{"version":3,"file":"component---src-pages-editor-tsx-76b79e8d744af8c8605b.js","mappings":"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","sources":["webpack://usaco-guide/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/construct.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/createClass.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/get.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/inherits.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/toArray.js","webpack://usaco-guide/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://usaco-guide/./node_modules/react-instantsearch-core/dist/es/connectors/connectAutoComplete.js","webpack://usaco-guide/./node_modules/core-js/modules/es.string.trim-start.js","webpack://usaco-guide/./node_modules/split.js/dist/split.es.js","webpack://usaco-guide/./node_modules/react-split/dist/react-split.es.js","webpack://usaco-guide/./src/components/Editor/editorUtils.ts","webpack://usaco-guide/./src/atoms/atomWithStorage.ts","webpack://usaco-guide/./src/atoms/editor.ts","webpack://usaco-guide/./src/utils/prettierFormatter.ts","webpack://usaco-guide/./src/context/QuizGeneratorContext.tsx","webpack://usaco-guide/./src/components/QuizGeneratorModal.tsx","webpack://usaco-guide/./src/components/Editor/EditorOutput.tsx","webpack://usaco-guide/./src/components/Editor/EditorFileModalInterface.tsx","webpack://usaco-guide/./src/components/Editor/EditorFileModal.tsx","webpack://usaco-guide/./src/components/Editor/EditorSidebar/FileListSidebar.tsx","webpack://usaco-guide/./src/components/Editor/EditorSidebar/EditorSidebar.tsx","webpack://usaco-guide/./src/components/Editor/EditorTopNav.tsx","webpack://usaco-guide/./src/components/Editor/EditorTabBar.tsx","webpack://usaco-guide/./src/components/Editor/mdx-lang.ts","webpack://usaco-guide/./src/components/Editor/MainEditorInterface.tsx","webpack://usaco-guide/./src/components/Editor/EditorPage.tsx","webpack://usaco-guide/./src/pages/editor.tsx"],"sourcesContent":["function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _get.apply(this, arguments);\n}\n\nmodule.exports = _get;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeFunction = require(\"./isNativeFunction.js\");\n\nvar construct = require(\"./construct.js\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport createConnector from '../core/createConnector';\nimport { cleanUpValue, refineValue, getCurrentRefinementValue } from '../core/indexUtils';\nimport { addQueryID, addAbsolutePositions } from '../core/utils';\n\nvar getId = function getId() {\n  return 'query';\n};\n\nfunction getCurrentRefinement(props, searchState, context) {\n  var id = getId();\n  var currentRefinement = getCurrentRefinementValue(props, searchState, context, id, '');\n\n  if (currentRefinement) {\n    return currentRefinement;\n  }\n\n  return '';\n}\n\nfunction getHits(searchResults) {\n  if (searchResults.results) {\n    if (searchResults.results.hits && Array.isArray(searchResults.results.hits)) {\n      return addAbsolutePositions(addQueryID(searchResults.results.hits, searchResults.results.queryID), searchResults.results.hitsPerPage, searchResults.results.page);\n    } else {\n      return Object.keys(searchResults.results).reduce(function (hits, index) {\n        return [].concat(_toConsumableArray(hits), [{\n          index: index,\n          hits: addAbsolutePositions(addQueryID(searchResults.results[index].hits, searchResults.results[index].queryID), searchResults.results[index].hitsPerPage, searchResults.results[index].page)\n        }]);\n      }, []);\n    }\n  } else {\n    return [];\n  }\n}\n\nfunction _refine(props, searchState, nextRefinement, context) {\n  var id = getId();\n\n  var nextValue = _defineProperty({}, id, nextRefinement);\n\n  var resetPage = true;\n  return refineValue(searchState, nextValue, context, resetPage);\n}\n\nfunction _cleanUp(props, searchState, context) {\n  return cleanUpValue(searchState, context, getId());\n}\n/**\n * connectAutoComplete connector provides the logic to create connected\n * components that will render the results retrieved from\n * Algolia.\n *\n * To configure the number of hits retrieved, use [HitsPerPage widget](widgets/HitsPerPage.html),\n * [connectHitsPerPage connector](connectors/connectHitsPerPage.html) or pass the hitsPerPage\n * prop to a [Configure](guide/Search_parameters.html) widget.\n * @name connectAutoComplete\n * @kind connector\n * @propType {string} [defaultRefinement] - Provide a default value for the query\n * @providedPropType {array.<object>} hits - the records that matched the search state\n * @providedPropType {function} refine - a function to change the query\n * @providedPropType {string} currentRefinement - the query to search for\n */\n\n\nexport default createConnector({\n  displayName: 'AlgoliaAutoComplete',\n  getProvidedProps: function getProvidedProps(props, searchState, searchResults) {\n    return {\n      hits: getHits(searchResults),\n      currentRefinement: getCurrentRefinement(props, searchState, {\n        ais: props.contextValue,\n        multiIndexContext: props.indexContextValue\n      })\n    };\n  },\n  refine: function refine(props, searchState, nextRefinement) {\n    return _refine(props, searchState, nextRefinement, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  },\n  cleanUp: function cleanUp(props, searchState) {\n    return _cleanUp(props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  },\n\n  /**\n   * AutoComplete needs to be considered as a widget to trigger a search,\n   * even if no other widgets are used.\n   *\n   * To be considered as a widget you need either:\n   * - getSearchParameters\n   * - getMetadata\n   * - transitionState\n   *\n   * See: createConnector.tsx\n   */\n  getSearchParameters: function getSearchParameters(searchParameters, props, searchState) {\n    return searchParameters.setQuery(getCurrentRefinement(props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    }));\n  }\n});","'use strict';\nvar $ = require('../internals/export');\nvar $trimStart = require('../internals/string-trim').start;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\nvar FORCED = forcedStringTrimMethod('trimStart');\n\nvar trimStart = FORCED ? function trimStart() {\n  return $trimStart(this);\n// eslint-disable-next-line es/no-string-prototype-trimstart-trimend -- safe\n} : ''.trimStart;\n\n// `String.prototype.{ trimStart, trimLeft }` methods\n// https://tc39.es/ecma262/#sec-string.prototype.trimstart\n// https://tc39.es/ecma262/#String.prototype.trimleft\n$({ target: 'String', proto: true, name: 'trimStart', forced: FORCED }, {\n  trimStart: trimStart,\n  trimLeft: trimStart\n});\n","// The programming goals of Split.js are to deliver readable, understandable and\n// maintainable code, while at the same time manually optimizing for tiny minified file size,\n// browser compatibility without additional requirements\n// and very few assumptions about the user's page layout.\nvar global = typeof window !== 'undefined' ? window : null;\nvar ssr = global === null;\nvar document = !ssr ? global.document : undefined; // Save a couple long function names that are used frequently.\n// This optimization saves around 400 bytes.\n\nvar addEventListener = 'addEventListener';\nvar removeEventListener = 'removeEventListener';\nvar getBoundingClientRect = 'getBoundingClientRect';\nvar gutterStartDragging = '_a';\nvar aGutterSize = '_b';\nvar bGutterSize = '_c';\nvar HORIZONTAL = 'horizontal';\n\nvar NOOP = function NOOP() {\n  return false;\n}; // Helper function determines which prefixes of CSS calc we need.\n// We only need to do this once on startup, when this anonymous function is called.\n//\n// Tests -webkit, -moz and -o prefixes. Modified from StackOverflow:\n// http://stackoverflow.com/questions/16625140/js-feature-detection-to-detect-the-usage-of-webkit-calc-over-calc/16625167#16625167\n\n\nvar calc = ssr ? 'calc' : ['', '-webkit-', '-moz-', '-o-'].filter(function (prefix) {\n  var el = document.createElement('div');\n  el.style.cssText = \"width:\" + prefix + \"calc(9px)\";\n  return !!el.style.length;\n}).shift() + \"calc\"; // Helper function checks if its argument is a string-like type\n\nvar isString = function isString(v) {\n  return typeof v === 'string' || v instanceof String;\n}; // Helper function allows elements and string selectors to be used\n// interchangeably. In either case an element is returned. This allows us to\n// do `Split([elem1, elem2])` as well as `Split(['#id1', '#id2'])`.\n\n\nvar elementOrSelector = function elementOrSelector(el) {\n  if (isString(el)) {\n    var ele = document.querySelector(el);\n\n    if (!ele) {\n      throw new Error(\"Selector \" + el + \" did not match a DOM element\");\n    }\n\n    return ele;\n  }\n\n  return el;\n}; // Helper function gets a property from the properties object, with a default fallback\n\n\nvar getOption = function getOption(options, propName, def) {\n  var value = options[propName];\n\n  if (value !== undefined) {\n    return value;\n  }\n\n  return def;\n};\n\nvar getGutterSize = function getGutterSize(gutterSize, isFirst, isLast, gutterAlign) {\n  if (isFirst) {\n    if (gutterAlign === 'end') {\n      return 0;\n    }\n\n    if (gutterAlign === 'center') {\n      return gutterSize / 2;\n    }\n  } else if (isLast) {\n    if (gutterAlign === 'start') {\n      return 0;\n    }\n\n    if (gutterAlign === 'center') {\n      return gutterSize / 2;\n    }\n  }\n\n  return gutterSize;\n}; // Default options\n\n\nvar defaultGutterFn = function defaultGutterFn(i, gutterDirection) {\n  var gut = document.createElement('div');\n  gut.className = \"gutter gutter-\" + gutterDirection;\n  return gut;\n};\n\nvar defaultElementStyleFn = function defaultElementStyleFn(dim, size, gutSize) {\n  var style = {};\n\n  if (!isString(size)) {\n    style[dim] = calc + \"(\" + size + \"% - \" + gutSize + \"px)\";\n  } else {\n    style[dim] = size;\n  }\n\n  return style;\n};\n\nvar defaultGutterStyleFn = function defaultGutterStyleFn(dim, gutSize) {\n  var obj;\n  return obj = {}, obj[dim] = gutSize + \"px\", obj;\n}; // The main function to initialize a split. Split.js thinks about each pair\n// of elements as an independant pair. Dragging the gutter between two elements\n// only changes the dimensions of elements in that pair. This is key to understanding\n// how the following functions operate, since each function is bound to a pair.\n//\n// A pair object is shaped like this:\n//\n// {\n//     a: DOM element,\n//     b: DOM element,\n//     aMin: Number,\n//     bMin: Number,\n//     dragging: Boolean,\n//     parent: DOM element,\n//     direction: 'horizontal' | 'vertical'\n// }\n//\n// The basic sequence:\n//\n// 1. Set defaults to something sane. `options` doesn't have to be passed at all.\n// 2. Initialize a bunch of strings based on the direction we're splitting.\n//    A lot of the behavior in the rest of the library is paramatized down to\n//    rely on CSS strings and classes.\n// 3. Define the dragging helper functions, and a few helpers to go with them.\n// 4. Loop through the elements while pairing them off. Every pair gets an\n//    `pair` object and a gutter.\n// 5. Actually size the pair elements, insert gutters and attach event listeners.\n\n\nvar Split = function Split(idsOption, options) {\n  if (options === void 0) options = {};\n\n  if (ssr) {\n    return {};\n  }\n\n  var ids = idsOption;\n  var dimension;\n  var clientAxis;\n  var position;\n  var positionEnd;\n  var clientSize;\n  var elements; // Allow HTMLCollection to be used as an argument when supported\n\n  if (Array.from) {\n    ids = Array.from(ids);\n  } // All DOM elements in the split should have a common parent. We can grab\n  // the first elements parent and hope users read the docs because the\n  // behavior will be whacky otherwise.\n\n\n  var firstElement = elementOrSelector(ids[0]);\n  var parent = firstElement.parentNode;\n  var parentStyle = getComputedStyle ? getComputedStyle(parent) : null;\n  var parentFlexDirection = parentStyle ? parentStyle.flexDirection : null; // Set default options.sizes to equal percentages of the parent element.\n\n  var sizes = getOption(options, 'sizes') || ids.map(function () {\n    return 100 / ids.length;\n  }); // Standardize minSize and maxSize to an array if it isn't already.\n  // This allows minSize and maxSize to be passed as a number.\n\n  var minSize = getOption(options, 'minSize', 100);\n  var minSizes = Array.isArray(minSize) ? minSize : ids.map(function () {\n    return minSize;\n  });\n  var maxSize = getOption(options, 'maxSize', Infinity);\n  var maxSizes = Array.isArray(maxSize) ? maxSize : ids.map(function () {\n    return maxSize;\n  }); // Get other options\n\n  var expandToMin = getOption(options, 'expandToMin', false);\n  var gutterSize = getOption(options, 'gutterSize', 10);\n  var gutterAlign = getOption(options, 'gutterAlign', 'center');\n  var snapOffset = getOption(options, 'snapOffset', 30);\n  var dragInterval = getOption(options, 'dragInterval', 1);\n  var direction = getOption(options, 'direction', HORIZONTAL);\n  var cursor = getOption(options, 'cursor', direction === HORIZONTAL ? 'col-resize' : 'row-resize');\n  var gutter = getOption(options, 'gutter', defaultGutterFn);\n  var elementStyle = getOption(options, 'elementStyle', defaultElementStyleFn);\n  var gutterStyle = getOption(options, 'gutterStyle', defaultGutterStyleFn); // 2. Initialize a bunch of strings based on the direction we're splitting.\n  // A lot of the behavior in the rest of the library is paramatized down to\n  // rely on CSS strings and classes.\n\n  if (direction === HORIZONTAL) {\n    dimension = 'width';\n    clientAxis = 'clientX';\n    position = 'left';\n    positionEnd = 'right';\n    clientSize = 'clientWidth';\n  } else if (direction === 'vertical') {\n    dimension = 'height';\n    clientAxis = 'clientY';\n    position = 'top';\n    positionEnd = 'bottom';\n    clientSize = 'clientHeight';\n  } // 3. Define the dragging helper functions, and a few helpers to go with them.\n  // Each helper is bound to a pair object that contains its metadata. This\n  // also makes it easy to store references to listeners that that will be\n  // added and removed.\n  //\n  // Even though there are no other functions contained in them, aliasing\n  // this to self saves 50 bytes or so since it's used so frequently.\n  //\n  // The pair object saves metadata like dragging state, position and\n  // event listener references.\n\n\n  function setElementSize(el, size, gutSize, i) {\n    // Split.js allows setting sizes via numbers (ideally), or if you must,\n    // by string, like '300px'. This is less than ideal, because it breaks\n    // the fluid layout that `calc(% - px)` provides. You're on your own if you do that,\n    // make sure you calculate the gutter size by hand.\n    var style = elementStyle(dimension, size, gutSize, i);\n    Object.keys(style).forEach(function (prop) {\n      // eslint-disable-next-line no-param-reassign\n      el.style[prop] = style[prop];\n    });\n  }\n\n  function setGutterSize(gutterElement, gutSize, i) {\n    var style = gutterStyle(dimension, gutSize, i);\n    Object.keys(style).forEach(function (prop) {\n      // eslint-disable-next-line no-param-reassign\n      gutterElement.style[prop] = style[prop];\n    });\n  }\n\n  function getSizes() {\n    return elements.map(function (element) {\n      return element.size;\n    });\n  } // Supports touch events, but not multitouch, so only the first\n  // finger `touches[0]` is counted.\n\n\n  function getMousePosition(e) {\n    if ('touches' in e) {\n      return e.touches[0][clientAxis];\n    }\n\n    return e[clientAxis];\n  } // Actually adjust the size of elements `a` and `b` to `offset` while dragging.\n  // calc is used to allow calc(percentage + gutterpx) on the whole split instance,\n  // which allows the viewport to be resized without additional logic.\n  // Element a's size is the same as offset. b's size is total size - a size.\n  // Both sizes are calculated from the initial parent percentage,\n  // then the gutter size is subtracted.\n\n\n  function adjust(offset) {\n    var a = elements[this.a];\n    var b = elements[this.b];\n    var percentage = a.size + b.size;\n    a.size = offset / this.size * percentage;\n    b.size = percentage - offset / this.size * percentage;\n    setElementSize(a.element, a.size, this[aGutterSize], a.i);\n    setElementSize(b.element, b.size, this[bGutterSize], b.i);\n  } // drag, where all the magic happens. The logic is really quite simple:\n  //\n  // 1. Ignore if the pair is not dragging.\n  // 2. Get the offset of the event.\n  // 3. Snap offset to min if within snappable range (within min + snapOffset).\n  // 4. Actually adjust each element in the pair to offset.\n  //\n  // ---------------------------------------------------------------------\n  // |    | <- a.minSize               ||              b.minSize -> |    |\n  // |    |  | <- this.snapOffset      ||     this.snapOffset -> |  |    |\n  // |    |  |                         ||                        |  |    |\n  // |    |  |                         ||                        |  |    |\n  // ---------------------------------------------------------------------\n  // | <- this.start                                        this.size -> |\n\n\n  function drag(e) {\n    var offset;\n    var a = elements[this.a];\n    var b = elements[this.b];\n\n    if (!this.dragging) {\n      return;\n    } // Get the offset of the event from the first side of the\n    // pair `this.start`. Then offset by the initial position of the\n    // mouse compared to the gutter size.\n\n\n    offset = getMousePosition(e) - this.start + (this[aGutterSize] - this.dragOffset);\n\n    if (dragInterval > 1) {\n      offset = Math.round(offset / dragInterval) * dragInterval;\n    } // If within snapOffset of min or max, set offset to min or max.\n    // snapOffset buffers a.minSize and b.minSize, so logic is opposite for both.\n    // Include the appropriate gutter sizes to prevent overflows.\n\n\n    if (offset <= a.minSize + snapOffset + this[aGutterSize]) {\n      offset = a.minSize + this[aGutterSize];\n    } else if (offset >= this.size - (b.minSize + snapOffset + this[bGutterSize])) {\n      offset = this.size - (b.minSize + this[bGutterSize]);\n    }\n\n    if (offset >= a.maxSize - snapOffset + this[aGutterSize]) {\n      offset = a.maxSize + this[aGutterSize];\n    } else if (offset <= this.size - (b.maxSize - snapOffset + this[bGutterSize])) {\n      offset = this.size - (b.maxSize + this[bGutterSize]);\n    } // Actually adjust the size.\n\n\n    adjust.call(this, offset); // Call the drag callback continously. Don't do anything too intensive\n    // in this callback.\n\n    getOption(options, 'onDrag', NOOP)(getSizes());\n  } // Cache some important sizes when drag starts, so we don't have to do that\n  // continously:\n  //\n  // `size`: The total size of the pair. First + second + first gutter + second gutter.\n  // `start`: The leading side of the first element.\n  //\n  // ------------------------------------------------\n  // |      aGutterSize -> |||                      |\n  // |                     |||                      |\n  // |                     |||                      |\n  // |                     ||| <- bGutterSize       |\n  // ------------------------------------------------\n  // | <- start                             size -> |\n\n\n  function calculateSizes() {\n    // Figure out the parent size minus padding.\n    var a = elements[this.a].element;\n    var b = elements[this.b].element;\n    var aBounds = a[getBoundingClientRect]();\n    var bBounds = b[getBoundingClientRect]();\n    this.size = aBounds[dimension] + bBounds[dimension] + this[aGutterSize] + this[bGutterSize];\n    this.start = aBounds[position];\n    this.end = aBounds[positionEnd];\n  }\n\n  function innerSize(element) {\n    // Return nothing if getComputedStyle is not supported (< IE9)\n    // Or if parent element has no layout yet\n    if (!getComputedStyle) {\n      return null;\n    }\n\n    var computedStyle = getComputedStyle(element);\n\n    if (!computedStyle) {\n      return null;\n    }\n\n    var size = element[clientSize];\n\n    if (size === 0) {\n      return null;\n    }\n\n    if (direction === HORIZONTAL) {\n      size -= parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight);\n    } else {\n      size -= parseFloat(computedStyle.paddingTop) + parseFloat(computedStyle.paddingBottom);\n    }\n\n    return size;\n  } // When specifying percentage sizes that are less than the computed\n  // size of the element minus the gutter, the lesser percentages must be increased\n  // (and decreased from the other elements) to make space for the pixels\n  // subtracted by the gutters.\n\n\n  function trimToMin(sizesToTrim) {\n    // Try to get inner size of parent element.\n    // If it's no supported, return original sizes.\n    var parentSize = innerSize(parent);\n\n    if (parentSize === null) {\n      return sizesToTrim;\n    }\n\n    if (minSizes.reduce(function (a, b) {\n      return a + b;\n    }, 0) > parentSize) {\n      return sizesToTrim;\n    } // Keep track of the excess pixels, the amount of pixels over the desired percentage\n    // Also keep track of the elements with pixels to spare, to decrease after if needed\n\n\n    var excessPixels = 0;\n    var toSpare = [];\n    var pixelSizes = sizesToTrim.map(function (size, i) {\n      // Convert requested percentages to pixel sizes\n      var pixelSize = parentSize * size / 100;\n      var elementGutterSize = getGutterSize(gutterSize, i === 0, i === sizesToTrim.length - 1, gutterAlign);\n      var elementMinSize = minSizes[i] + elementGutterSize; // If element is too smal, increase excess pixels by the difference\n      // and mark that it has no pixels to spare\n\n      if (pixelSize < elementMinSize) {\n        excessPixels += elementMinSize - pixelSize;\n        toSpare.push(0);\n        return elementMinSize;\n      } // Otherwise, mark the pixels it has to spare and return it's original size\n\n\n      toSpare.push(pixelSize - elementMinSize);\n      return pixelSize;\n    }); // If nothing was adjusted, return the original sizes\n\n    if (excessPixels === 0) {\n      return sizesToTrim;\n    }\n\n    return pixelSizes.map(function (pixelSize, i) {\n      var newPixelSize = pixelSize; // While there's still pixels to take, and there's enough pixels to spare,\n      // take as many as possible up to the total excess pixels\n\n      if (excessPixels > 0 && toSpare[i] - excessPixels > 0) {\n        var takenPixels = Math.min(excessPixels, toSpare[i] - excessPixels); // Subtract the amount taken for the next iteration\n\n        excessPixels -= takenPixels;\n        newPixelSize = pixelSize - takenPixels;\n      } // Return the pixel size adjusted as a percentage\n\n\n      return newPixelSize / parentSize * 100;\n    });\n  } // stopDragging is very similar to startDragging in reverse.\n\n\n  function stopDragging() {\n    var self = this;\n    var a = elements[self.a].element;\n    var b = elements[self.b].element;\n\n    if (self.dragging) {\n      getOption(options, 'onDragEnd', NOOP)(getSizes());\n    }\n\n    self.dragging = false; // Remove the stored event listeners. This is why we store them.\n\n    global[removeEventListener]('mouseup', self.stop);\n    global[removeEventListener]('touchend', self.stop);\n    global[removeEventListener]('touchcancel', self.stop);\n    global[removeEventListener]('mousemove', self.move);\n    global[removeEventListener]('touchmove', self.move); // Clear bound function references\n\n    self.stop = null;\n    self.move = null;\n    a[removeEventListener]('selectstart', NOOP);\n    a[removeEventListener]('dragstart', NOOP);\n    b[removeEventListener]('selectstart', NOOP);\n    b[removeEventListener]('dragstart', NOOP);\n    a.style.userSelect = '';\n    a.style.webkitUserSelect = '';\n    a.style.MozUserSelect = '';\n    a.style.pointerEvents = '';\n    b.style.userSelect = '';\n    b.style.webkitUserSelect = '';\n    b.style.MozUserSelect = '';\n    b.style.pointerEvents = '';\n    self.gutter.style.cursor = '';\n    self.parent.style.cursor = '';\n    document.body.style.cursor = '';\n  } // startDragging calls `calculateSizes` to store the inital size in the pair object.\n  // It also adds event listeners for mouse/touch events,\n  // and prevents selection while dragging so avoid the selecting text.\n\n\n  function startDragging(e) {\n    // Right-clicking can't start dragging.\n    if ('button' in e && e.button !== 0) {\n      return;\n    } // Alias frequently used variables to save space. 200 bytes.\n\n\n    var self = this;\n    var a = elements[self.a].element;\n    var b = elements[self.b].element; // Call the onDragStart callback.\n\n    if (!self.dragging) {\n      getOption(options, 'onDragStart', NOOP)(getSizes());\n    } // Don't actually drag the element. We emulate that in the drag function.\n\n\n    e.preventDefault(); // Set the dragging property of the pair object.\n\n    self.dragging = true; // Create two event listeners bound to the same pair object and store\n    // them in the pair object.\n\n    self.move = drag.bind(self);\n    self.stop = stopDragging.bind(self); // All the binding. `window` gets the stop events in case we drag out of the elements.\n\n    global[addEventListener]('mouseup', self.stop);\n    global[addEventListener]('touchend', self.stop);\n    global[addEventListener]('touchcancel', self.stop);\n    global[addEventListener]('mousemove', self.move);\n    global[addEventListener]('touchmove', self.move); // Disable selection. Disable!\n\n    a[addEventListener]('selectstart', NOOP);\n    a[addEventListener]('dragstart', NOOP);\n    b[addEventListener]('selectstart', NOOP);\n    b[addEventListener]('dragstart', NOOP);\n    a.style.userSelect = 'none';\n    a.style.webkitUserSelect = 'none';\n    a.style.MozUserSelect = 'none';\n    a.style.pointerEvents = 'none';\n    b.style.userSelect = 'none';\n    b.style.webkitUserSelect = 'none';\n    b.style.MozUserSelect = 'none';\n    b.style.pointerEvents = 'none'; // Set the cursor at multiple levels\n\n    self.gutter.style.cursor = cursor;\n    self.parent.style.cursor = cursor;\n    document.body.style.cursor = cursor; // Cache the initial sizes of the pair.\n\n    calculateSizes.call(self); // Determine the position of the mouse compared to the gutter\n\n    self.dragOffset = getMousePosition(e) - self.end;\n  } // adjust sizes to ensure percentage is within min size and gutter.\n\n\n  sizes = trimToMin(sizes); // 5. Create pair and element objects. Each pair has an index reference to\n  // elements `a` and `b` of the pair (first and second elements).\n  // Loop through the elements while pairing them off. Every pair gets a\n  // `pair` object and a gutter.\n  //\n  // Basic logic:\n  //\n  // - Starting with the second element `i > 0`, create `pair` objects with\n  //   `a = i - 1` and `b = i`\n  // - Set gutter sizes based on the _pair_ being first/last. The first and last\n  //   pair have gutterSize / 2, since they only have one half gutter, and not two.\n  // - Create gutter elements and add event listeners.\n  // - Set the size of the elements, minus the gutter sizes.\n  //\n  // -----------------------------------------------------------------------\n  // |     i=0     |         i=1         |        i=2       |      i=3     |\n  // |             |                     |                  |              |\n  // |           pair 0                pair 1             pair 2           |\n  // |             |                     |                  |              |\n  // -----------------------------------------------------------------------\n\n  var pairs = [];\n  elements = ids.map(function (id, i) {\n    // Create the element object.\n    var element = {\n      element: elementOrSelector(id),\n      size: sizes[i],\n      minSize: minSizes[i],\n      maxSize: maxSizes[i],\n      i: i\n    };\n    var pair;\n\n    if (i > 0) {\n      // Create the pair object with its metadata.\n      pair = {\n        a: i - 1,\n        b: i,\n        dragging: false,\n        direction: direction,\n        parent: parent\n      };\n      pair[aGutterSize] = getGutterSize(gutterSize, i - 1 === 0, false, gutterAlign);\n      pair[bGutterSize] = getGutterSize(gutterSize, false, i === ids.length - 1, gutterAlign); // if the parent has a reverse flex-direction, switch the pair elements.\n\n      if (parentFlexDirection === 'row-reverse' || parentFlexDirection === 'column-reverse') {\n        var temp = pair.a;\n        pair.a = pair.b;\n        pair.b = temp;\n      }\n    } // Determine the size of the current element. IE8 is supported by\n    // staticly assigning sizes without draggable gutters. Assigns a string\n    // to `size`.\n    //\n    // Create gutter elements for each pair.\n\n\n    if (i > 0) {\n      var gutterElement = gutter(i, direction, element.element);\n      setGutterSize(gutterElement, gutterSize, i); // Save bound event listener for removal later\n\n      pair[gutterStartDragging] = startDragging.bind(pair); // Attach bound event listener\n\n      gutterElement[addEventListener]('mousedown', pair[gutterStartDragging]);\n      gutterElement[addEventListener]('touchstart', pair[gutterStartDragging]);\n      parent.insertBefore(gutterElement, element.element);\n      pair.gutter = gutterElement;\n    }\n\n    setElementSize(element.element, element.size, getGutterSize(gutterSize, i === 0, i === ids.length - 1, gutterAlign), i); // After the first iteration, and we have a pair object, append it to the\n    // list of pairs.\n\n    if (i > 0) {\n      pairs.push(pair);\n    }\n\n    return element;\n  });\n\n  function adjustToMin(element) {\n    var isLast = element.i === pairs.length;\n    var pair = isLast ? pairs[element.i - 1] : pairs[element.i];\n    calculateSizes.call(pair);\n    var size = isLast ? pair.size - element.minSize - pair[bGutterSize] : element.minSize + pair[aGutterSize];\n    adjust.call(pair, size);\n  }\n\n  elements.forEach(function (element) {\n    var computedSize = element.element[getBoundingClientRect]()[dimension];\n\n    if (computedSize < element.minSize) {\n      if (expandToMin) {\n        adjustToMin(element);\n      } else {\n        // eslint-disable-next-line no-param-reassign\n        element.minSize = computedSize;\n      }\n    }\n  });\n\n  function setSizes(newSizes) {\n    var trimmed = trimToMin(newSizes);\n    trimmed.forEach(function (newSize, i) {\n      if (i > 0) {\n        var pair = pairs[i - 1];\n        var a = elements[pair.a];\n        var b = elements[pair.b];\n        a.size = trimmed[i - 1];\n        b.size = newSize;\n        setElementSize(a.element, a.size, pair[aGutterSize], a.i);\n        setElementSize(b.element, b.size, pair[bGutterSize], b.i);\n      }\n    });\n  }\n\n  function destroy(preserveStyles, preserveGutter) {\n    pairs.forEach(function (pair) {\n      if (preserveGutter !== true) {\n        pair.parent.removeChild(pair.gutter);\n      } else {\n        pair.gutter[removeEventListener]('mousedown', pair[gutterStartDragging]);\n        pair.gutter[removeEventListener]('touchstart', pair[gutterStartDragging]);\n      }\n\n      if (preserveStyles !== true) {\n        var style = elementStyle(dimension, pair.a.size, pair[aGutterSize]);\n        Object.keys(style).forEach(function (prop) {\n          elements[pair.a].element.style[prop] = '';\n          elements[pair.b].element.style[prop] = '';\n        });\n      }\n    });\n  }\n\n  return {\n    setSizes: setSizes,\n    getSizes: getSizes,\n    collapse: function collapse(i) {\n      adjustToMin(elements[i]);\n    },\n    destroy: destroy,\n    parent: parent,\n    pairs: pairs\n  };\n};\n\nexport default Split;","import React from 'react';\nimport Split from 'split.js';\n\nfunction objectWithoutProperties(obj, exclude) {\n  var target = {};\n\n  for (var k in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, k) && exclude.indexOf(k) === -1) target[k] = obj[k];\n  }\n\n  return target;\n}\n\nvar SplitWrapper = /*@__PURE__*/function (superclass) {\n  function SplitWrapper() {\n    superclass.apply(this, arguments);\n  }\n\n  if (superclass) SplitWrapper.__proto__ = superclass;\n  SplitWrapper.prototype = Object.create(superclass && superclass.prototype);\n  SplitWrapper.prototype.constructor = SplitWrapper;\n\n  SplitWrapper.prototype.componentDidMount = function componentDidMount() {\n    var ref = this.props;\n    ref.children;\n    var gutter = ref.gutter;\n    var rest = objectWithoutProperties(ref, [\"children\", \"gutter\"]);\n    var options = rest;\n\n    options.gutter = function (index, direction) {\n      var gutterElement;\n\n      if (gutter) {\n        gutterElement = gutter(index, direction);\n      } else {\n        gutterElement = document.createElement('div');\n        gutterElement.className = \"gutter gutter-\" + direction;\n      } // eslint-disable-next-line no-underscore-dangle\n\n\n      gutterElement.__isSplitGutter = true;\n      return gutterElement;\n    };\n\n    this.split = Split(this.parent.children, options);\n  };\n\n  SplitWrapper.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var this$1 = this;\n    var ref = this.props;\n    ref.children;\n    var minSize = ref.minSize;\n    var sizes = ref.sizes;\n    var collapsed = ref.collapsed;\n    var rest = objectWithoutProperties(ref, [\"children\", \"minSize\", \"sizes\", \"collapsed\"]);\n    var options = rest;\n    var prevMinSize = prevProps.minSize;\n    var prevSizes = prevProps.sizes;\n    var prevCollapsed = prevProps.collapsed;\n    var otherProps = ['maxSize', 'expandToMin', 'gutterSize', 'gutterAlign', 'snapOffset', 'dragInterval', 'direction', 'cursor'];\n    var needsRecreate = otherProps // eslint-disable-next-line react/destructuring-assignment\n    .map(function (prop) {\n      return this$1.props[prop] !== prevProps[prop];\n    }).reduce(function (accum, same) {\n      return accum || same;\n    }, false); // Compare minSize when both are arrays, when one is an array and when neither is an array\n\n    if (Array.isArray(minSize) && Array.isArray(prevMinSize)) {\n      var minSizeChanged = false;\n      minSize.forEach(function (minSizeI, i) {\n        minSizeChanged = minSizeChanged || minSizeI !== prevMinSize[i];\n      });\n      needsRecreate = needsRecreate || minSizeChanged;\n    } else if (Array.isArray(minSize) || Array.isArray(prevMinSize)) {\n      needsRecreate = true;\n    } else {\n      needsRecreate = needsRecreate || minSize !== prevMinSize;\n    } // Destroy and re-create split if options changed\n\n\n    if (needsRecreate) {\n      options.minSize = minSize;\n      options.sizes = sizes || this.split.getSizes();\n      this.split.destroy(true, true);\n\n      options.gutter = function (index, direction, pairB) {\n        return pairB.previousSibling;\n      };\n\n      this.split = Split(Array.from(this.parent.children).filter( // eslint-disable-next-line no-underscore-dangle\n      function (element) {\n        return !element.__isSplitGutter;\n      }), options);\n    } else if (sizes) {\n      // If only the size has changed, set the size. No need to do this if re-created.\n      var sizeChanged = false;\n      sizes.forEach(function (sizeI, i) {\n        sizeChanged = sizeChanged || sizeI !== prevSizes[i];\n      });\n\n      if (sizeChanged) {\n        // eslint-disable-next-line react/destructuring-assignment\n        this.split.setSizes(this.props.sizes);\n      }\n    } // Collapse after re-created or when collapsed changed.\n\n\n    if (Number.isInteger(collapsed) && (collapsed !== prevCollapsed || needsRecreate)) {\n      this.split.collapse(collapsed);\n    }\n  };\n\n  SplitWrapper.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.split.destroy();\n    delete this.split;\n  };\n\n  SplitWrapper.prototype.render = function render() {\n    var this$1 = this;\n    var ref = this.props;\n    ref.sizes;\n    ref.minSize;\n    ref.maxSize;\n    ref.expandToMin;\n    ref.gutterSize;\n    ref.gutterAlign;\n    ref.snapOffset;\n    ref.dragInterval;\n    ref.direction;\n    ref.cursor;\n    ref.gutter;\n    ref.elementStyle;\n    ref.gutterStyle;\n    ref.onDrag;\n    ref.onDragStart;\n    ref.onDragEnd;\n    ref.collapsed;\n    var children = ref.children;\n    var rest$1 = objectWithoutProperties(ref, [\"sizes\", \"minSize\", \"maxSize\", \"expandToMin\", \"gutterSize\", \"gutterAlign\", \"snapOffset\", \"dragInterval\", \"direction\", \"cursor\", \"gutter\", \"elementStyle\", \"gutterStyle\", \"onDrag\", \"onDragStart\", \"onDragEnd\", \"collapsed\", \"children\"]);\n    var rest = rest$1;\n    return React.createElement('div', Object.assign({}, {\n      ref: function ref(parent) {\n        this$1.parent = parent;\n      }\n    }, rest), children);\n  };\n\n  return SplitWrapper;\n}(React.Component);\n\nSplitWrapper.defaultProps = {\n  sizes: undefined,\n  minSize: undefined,\n  maxSize: undefined,\n  expandToMin: undefined,\n  gutterSize: undefined,\n  gutterAlign: undefined,\n  snapOffset: undefined,\n  dragInterval: undefined,\n  direction: undefined,\n  cursor: undefined,\n  gutter: undefined,\n  elementStyle: undefined,\n  gutterStyle: undefined,\n  onDrag: undefined,\n  onDragStart: undefined,\n  onDragEnd: undefined,\n  collapsed: undefined,\n  children: undefined\n};\nexport default SplitWrapper;","export const fetchFileContent = async (\r\n  filePath: string\r\n): Promise<{ markdown: string; problems: string }> => {\r\n  const githubURL = encodeURI(\r\n    `https://raw.githubusercontent.com/cpinitiative/usaco-guide/master/${filePath}`\r\n  );\r\n  const githubProblemsURL = encodeURI(\r\n    `https://raw.githubusercontent.com/cpinitiative/usaco-guide/master/${filePath.replace(\r\n      /\\.mdx$/,\r\n      '.problems.json'\r\n    )}`\r\n  );\r\n\r\n  const result = await Promise.all([\r\n    fetch(githubURL),\r\n    fetch(githubProblemsURL),\r\n  ]);\r\n\r\n  return {\r\n    markdown: await result[0].text(),\r\n    problems: result[1].ok ? await result[1].text() : '',\r\n  };\r\n};\r\n","import { atom, PrimitiveAtom } from 'jotai';\r\nimport type { SetStateAction } from 'jotai';\r\n\r\ntype Storage<Value> = {\r\n  getItem: (key: string) => Value;\r\n  setItem: (key: string, newValue: Value) => void;\r\n};\r\n\r\nconst defaultStorage: Storage<unknown> = {\r\n  getItem: key => {\r\n    const storedValue = localStorage.getItem(key);\r\n    if (storedValue === null) {\r\n      throw new Error('no value stored');\r\n    }\r\n    return JSON.parse(storedValue);\r\n  },\r\n  setItem: (key, newValue) => {\r\n    if (newValue === null) {\r\n      localStorage.removeItem(key);\r\n    } else {\r\n      localStorage.setItem(key, JSON.stringify(newValue));\r\n    }\r\n  },\r\n};\r\n\r\nexport function atomWithStorage<Value>(\r\n  key: string,\r\n  initialValue: Value,\r\n  storage: Storage<Value> = defaultStorage as Storage<Value>\r\n): PrimitiveAtom<Value> {\r\n  const getInitialValue = () => {\r\n    try {\r\n      return storage.getItem(key);\r\n    } catch {\r\n      return initialValue;\r\n    }\r\n  };\r\n\r\n  const baseAtom = atom(null as Value | null);\r\n\r\n  baseAtom.onMount = setAtom => {\r\n    setAtom(getInitialValue());\r\n  };\r\n\r\n  const anAtom = atom(\r\n    get => get(baseAtom),\r\n    (get, set, update: SetStateAction<Value>) => {\r\n      const newValue =\r\n        typeof update === 'function'\r\n          ? (update as (prev: Value) => Value)(get(baseAtom))\r\n          : update;\r\n      set(baseAtom, newValue);\r\n      storage.setItem(key, newValue);\r\n    }\r\n  );\r\n\r\n  return anAtom;\r\n}\r\n","import { atom } from 'jotai';\r\nimport { atomFamily } from 'jotai/utils';\r\nimport { fetchFileContent } from '../components/Editor/editorUtils';\r\nimport { AlgoliaEditorSolutionFile } from '../models/algoliaEditorFile';\r\nimport { formatProblems } from '../utils/prettierFormatter';\r\nimport { atomWithStorage } from './atomWithStorage';\r\n\r\nexport type EditorFile = {\r\n  path: string;\r\n  markdown: string;\r\n  problems: string;\r\n};\r\n\r\nexport const filesFamily = atomFamily((path: string) => {\r\n  return atomWithStorage<EditorFile>(`guide:editor:files:${path}`, {\r\n    path,\r\n    markdown: '',\r\n    problems: '',\r\n  });\r\n});\r\n\r\n/**\r\n * Saves a file atom based on its path as its identifier.\r\n */\r\nexport const saveFileAtom = atom(\r\n  null,\r\n  (\r\n    get,\r\n    set,\r\n    update:\r\n      | {\r\n          path: string;\r\n          update: (f: EditorFile) => EditorFile;\r\n        }\r\n      | EditorFile\r\n  ) => {\r\n    const file = update.hasOwnProperty('update')\r\n      ? (update as { update: (f: EditorFile) => EditorFile }).update(\r\n          get(filesFamily(update.path))\r\n        )\r\n      : (update as EditorFile);\r\n    set(filesFamily(file.path), file);\r\n  }\r\n);\r\n\r\nconst baseActiveFileAtom = atomWithStorage(\r\n  'guide:editor:activeFile',\r\n  null as string | null\r\n);\r\nexport const activeFileAtom = atom(\r\n  get =>\r\n    get(baseActiveFileAtom) === null\r\n      ? null\r\n      : get(filesFamily(get(baseActiveFileAtom))),\r\n  (get, set, nextActiveFilePath) => {\r\n    set(baseActiveFileAtom, nextActiveFilePath);\r\n  }\r\n);\r\n\r\nexport const filesListAtom = atomWithStorage<string[]>(\r\n  'guide:editor:filesList',\r\n  []\r\n);\r\n\r\nexport const openOrCreateExistingFileAtom = atom(\r\n  null,\r\n  async (get, set, filePath: string | null) => {\r\n    if (get(filesListAtom).find(f => f === filePath)) {\r\n      set(activeFileAtom, filePath);\r\n    } else {\r\n      set(filesListAtom, prev => [...prev, filePath]);\r\n      const data = await fetchFileContent(filePath);\r\n      set(saveFileAtom, {\r\n        path: filePath,\r\n        markdown: data.markdown,\r\n        problems: data.problems,\r\n      });\r\n      set(activeFileAtom, filePath);\r\n    }\r\n  }\r\n);\r\n\r\nexport const createNewInternalSolutionFileAtom = atom(\r\n  null,\r\n  async (get, set, file: AlgoliaEditorSolutionFile) => {\r\n    const newFile: EditorFile = {\r\n      path: `solutions/${file.id}.mdx`,\r\n      markdown: `---\r\nid: ${file.id}\r\nsource: ${\r\n        file.source\r\n      } (TODO -- convert to something like \\`USACO Silver 2017 January\\`)\r\ntitle: ${file.title}\r\nauthor: TODO -- insert your name here\r\n---\r\n\r\nWe found the following solution metadata for this problem:\r\n\\`\\`\\`\r\n${JSON.stringify(file.solutions, null, 2)}\r\n\\`\\`\\`\r\n\r\nWhen adding an internal solution, you have to update relevant modules to point to this new internal solution. This process is partially automated; modules containing this problem have been updated in the editor (see file list to the left).\r\n\r\n## Explanation\r\n\r\n(add explanation here ...)\r\n\r\nUse \\`\\\\texttt{}\\` around variable names with length *greater than one*, like so. Place long equations on separate lines with display math, and use \\`\\\\cdot\\` instead of \\`*\\` to denote multiplication.\r\n\r\n$$\r\n\\\\texttt{arr}[i]=2\\\\cdot (a+b+c+d+e)+\\\\sum_{j=0}^{i-1}\\\\texttt{arr}[j]\r\n$$\r\n\r\nSome additional text styles which you might consider using:\r\n\r\nhttp://latexref.xyz/Font-styles.html\r\n\r\nhttp://applied-r.com/latex-font-styles/\r\n\r\n$func(var)$\r\n\r\n$\\\\textit{func(var)}$\r\n\r\n$\\\\textrm{func(var)}$\r\n\r\n$\\\\text{func(var)}$\r\n\r\n$\\\\textsf{func(var)}$\r\n\r\n$\\\\textbf{func(var)}$\r\n\r\n$\\\\texttt{func(var)}$\r\n\r\n## Implementation\r\n\r\n**Time Complexity:** $\\\\mathcal{O}(N\\\\log^2N)$\r\n\r\n^ Format time complexity like this. Should appear outside of \\`<LanguageSection>\\` if it's the same for all implementations.\r\n\r\n<LanguageSection>\r\n\r\n<CPPSection>\r\n\r\n(add cpp code)\r\n\r\n</CPPSection>\r\n\r\n<PySection>\r\n\r\n(if you have Python code)\r\n\r\n</PySection>\r\n\r\n<JavaSection>\r\n\r\n(if you have Java code)\r\n\r\n</JavaSection>\r\n\r\n</LanguageSection>`,\r\n      problems: '',\r\n    };\r\n\r\n    const updateProblemJSON = (json: string) => {\r\n      const updated = JSON.parse(json);\r\n      Object.keys(updated).forEach(key => {\r\n        if (key === 'MODULE_ID') return;\r\n        updated[key].forEach(obj => {\r\n          if (obj.uniqueId === file.id) {\r\n            obj.solutionMetadata = {\r\n              kind: 'internal',\r\n            };\r\n          }\r\n        });\r\n      });\r\n      return formatProblems(JSON.stringify(updated));\r\n    };\r\n\r\n    await Promise.all(\r\n      file.problemModules.map(async module => {\r\n        if (get(filesListAtom).find(file => file === module.path)) {\r\n          const currentFile = get(filesFamily(module.path));\r\n          set(saveFileAtom, {\r\n            ...currentFile,\r\n            problems: updateProblemJSON(currentFile.problems),\r\n          });\r\n          return;\r\n        }\r\n        const data = await fetchFileContent(module.path);\r\n        set(saveFileAtom, {\r\n          path: module.path,\r\n          markdown: data.markdown,\r\n          problems: updateProblemJSON(data.problems),\r\n        });\r\n      })\r\n    );\r\n\r\n    set(filesListAtom, prev => [\r\n      ...new Set([\r\n        ...prev,\r\n        newFile.path,\r\n        ...file.problemModules.map(module => module.path),\r\n      ]),\r\n    ]);\r\n    set(saveFileAtom, newFile);\r\n    set(activeFileAtom, newFile.path);\r\n  }\r\n);\r\n\r\nexport const closeFileAtom = atom(null, (get, set, filePath: string) => {\r\n  set(\r\n    filesListAtom,\r\n    get(filesListAtom).filter(file => file !== filePath)\r\n  );\r\n  if (get(activeFileAtom).path === filePath) {\r\n    const remainingFiles = get(filesListAtom);\r\n    set(activeFileAtom, remainingFiles.length > 0 ? remainingFiles[0] : null);\r\n  }\r\n  set(filesFamily(filePath), null);\r\n});\r\n\r\nconst baseMonacoEditorInstanceAtom = atom({ monaco: null });\r\nexport const monacoEditorInstanceAtom = atom(\r\n  get => get(baseMonacoEditorInstanceAtom),\r\n  (get, _set, val) => {\r\n    get(baseMonacoEditorInstanceAtom).monaco = val;\r\n  }\r\n);\r\n","import babelParser from 'prettier/parser-babel';\r\nimport prettier from 'prettier/standalone';\r\n\r\nexport const formatProblems = (content: string): string =>\r\n  prettier.format(content, {\r\n    endOfLine: 'lf',\r\n    semi: true,\r\n    singleQuote: true,\r\n    tabWidth: 2,\r\n    useTabs: false,\r\n    trailingComma: 'es5',\r\n    arrowParens: 'avoid',\r\n    parser: 'json',\r\n    plugins: [babelParser],\r\n  });\r\n","import React from 'react';\r\n\r\nconst QuizGeneratorContext = React.createContext<{\r\n  open: boolean;\r\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}>({ open: false, setOpen: () => false });\r\n\r\nconst QuizGeneratorProvider = ({ children }) => {\r\n  const [open, setOpen] = React.useState(false);\r\n  return (\r\n    <QuizGeneratorContext.Provider value={{ open, setOpen }}>\r\n      {children}\r\n    </QuizGeneratorContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useQuizOpen = () => React.useContext(QuizGeneratorContext);\r\n\r\nexport default QuizGeneratorProvider;\r\n","import { Dialog, Transition } from '@headlessui/react';\r\nimport { CheckCircleIcon, XCircleIcon } from '@heroicons/react/outline';\r\nimport { XIcon } from '@heroicons/react/solid';\r\nimport React from 'react';\r\nimport { useQuizOpen } from '../context/QuizGeneratorContext';\r\nimport CodeBlock from './markdown/CodeBlock/CodeBlock';\r\n\r\ninterface Answer {\r\n  answer: string;\r\n  explanation: string;\r\n  correct: boolean;\r\n}\r\n\r\ninterface Question {\r\n  question: string;\r\n  answers: Answer[];\r\n}\r\n\r\nexport default function QuizGeneratorModal(): JSX.Element {\r\n  const { open, setOpen } = useQuizOpen();\r\n  const [quiz, setQuiz] = React.useState<Question[]>([\r\n    { question: '', answers: [] },\r\n  ]);\r\n  const [copyText, setCopyText] = React.useState('Copy');\r\n  const closeModal = () => {\r\n    setOpen(false);\r\n    setQuiz([{ question: '', answers: [] }]);\r\n  };\r\n\r\n  const editQuiz = (func: (q: Question[]) => Question[]) => {\r\n    let prev = quiz;\r\n    prev = func(prev);\r\n    setQuiz([...prev]);\r\n  };\r\n\r\n  const changeQuestion = (newQuestion: string, idx: number) => {\r\n    editQuiz(prev => {\r\n      prev[idx].question = newQuestion;\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  const addQuestion = () => {\r\n    editQuiz(prev => {\r\n      prev.push({\r\n        question: '',\r\n        answers: [],\r\n      });\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  const deleteQuestion = (questionIdx: number) => {\r\n    editQuiz(prev => {\r\n      prev.splice(questionIdx, 1);\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  const addAnswer = (questionIdx: number) => {\r\n    editQuiz(prev => {\r\n      prev[questionIdx].answers.push({\r\n        answer: '',\r\n        explanation: '',\r\n        correct: false,\r\n      });\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  const deleteAnswer = (questionIdx: number, answerIdx: number) => {\r\n    editQuiz(prev => {\r\n      prev[questionIdx].answers.splice(answerIdx, 1);\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  const changeAnswer = (\r\n    newAnswer: string,\r\n    newExplanation: string,\r\n    newCorrect: boolean,\r\n    questionIdx: number,\r\n    answerIdx: number\r\n  ) => {\r\n    editQuiz(prev => {\r\n      prev[questionIdx].answers[answerIdx].answer = newAnswer;\r\n      prev[questionIdx].answers[answerIdx].explanation = newExplanation;\r\n      prev[questionIdx].answers[answerIdx].correct = newCorrect;\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  const getCode = () => {\r\n    const code = `<Quiz>\r\n  ${\r\n    quiz\r\n      .map(\r\n        question =>\r\n          `<Quiz.Question>\r\n    ${question.question.replace(/\\n/g, '\\n    ') /* 4 spaces */}\r\n    ${\r\n      question.answers\r\n        .map(\r\n          answer =>\r\n            `<Quiz.Answer${answer.correct ? ' correct' : ''}>\r\n      ${answer.answer.replace(/\\n/g, '\\n      ') /* 6 spaces */}\r\n      <Quiz.Explanation>\r\n        ${answer.explanation.replace(/\\n/g, '\\n        ') /* 8 spaces */}\r\n      </Quiz.Explanation>\r\n    </Quiz.Answer>`\r\n        )\r\n        .join('\\n    ') /* 4 spaces */\r\n    }\r\n  </Quiz.Question>`\r\n      )\r\n      .join('\\n  ') /* 2 spaces */\r\n  }\r\n</Quiz>`;\r\n    return code;\r\n  };\r\n  return (\r\n    <Transition appear show={open} as={React.Fragment}>\r\n      <Dialog\r\n        as=\"div\"\r\n        className=\"fixed inset-0 z-20 overflow-y-auto\"\r\n        onClose={closeModal}\r\n      >\r\n        <div className=\"min-h-screen px-4 text-center\">\r\n          <Transition.Child\r\n            as={React.Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0\"\r\n            enterTo=\"opacity-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100\"\r\n            leaveTo=\"opacity-0\"\r\n          >\r\n            <Dialog.Overlay className=\"fixed inset-0 bg-black opacity-30\" />\r\n          </Transition.Child>\r\n\r\n          {/* This element is to trick the browser into centering the modal contents. */}\r\n          <span\r\n            className=\"inline-block h-screen align-middle\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            &#8203;\r\n          </span>\r\n          <Transition.Child\r\n            as={React.Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0 scale-95\"\r\n            enterTo=\"opacity-100 scale-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100 scale-100\"\r\n            leaveTo=\"opacity-0 scale-95\"\r\n          >\r\n            <div className=\"inline-block w-full max-w-4xl p-8 my-8 overflow-hidden text-left align-middle transition-all transform bg-white dark:bg-black shadow-xl rounded-2xl\">\r\n              <div className={'flex justify-between items-center'}>\r\n                <Dialog.Title\r\n                  as=\"h3\"\r\n                  className=\"text-lg font-medium leading-6 text-gray-900 dark:text-gray-200\"\r\n                >\r\n                  Quiz Generator\r\n                </Dialog.Title>\r\n                <button className={'btn'} onClick={() => addQuestion()}>\r\n                  Add question\r\n                </button>\r\n              </div>\r\n              <div className={'space-y-8 mt-4'}>\r\n                {quiz.map((question, idx) => (\r\n                  <div\r\n                    key={idx}\r\n                    className=\"flex border-l-4 focus-within:border-blue-500 dark:border-gray-800 dark:focus-within:border-blue-900\"\r\n                  >\r\n                    <div className={'mx-2'}>\r\n                      <button onClick={() => deleteQuestion(idx)}>\r\n                        <XIcon className={'h-4 w-4'} />\r\n                      </button>\r\n                    </div>\r\n                    <div className={'flex-grow'}>\r\n                      <label htmlFor={`question-${idx + 1}`}>\r\n                        Question {idx + 1}\r\n                      </label>\r\n                      <textarea\r\n                        id={`question-${idx + 1}`}\r\n                        value={question.question}\r\n                        onChange={e => changeQuestion(e.target.value, idx)}\r\n                        className={\r\n                          'mt-2 w-full shadow-sm focus:ring-blue-500 focus:border-blue-500 block text-sm border-gray-300 rounded-md dark:bg-gray-900 dark:border-gray-700'\r\n                        }\r\n                      />\r\n                      <div className={'ml-4'}>\r\n                        <h5 className={'font-medium my-2'}>Answers</h5>\r\n                        <div className={'space-y-4'}>\r\n                          {question.answers.map((answer, i) => (\r\n                            <div key={i} className={'flex'}>\r\n                              <div className={'mr-1'}>\r\n                                <button onClick={() => deleteAnswer(idx, i)}>\r\n                                  <XIcon className={'h-4 w-4'} />\r\n                                </button>\r\n                              </div>\r\n                              <div className={'w-full'}>\r\n                                <div\r\n                                  className={'w-full flex gap-6 items-center'}\r\n                                >\r\n                                  <textarea\r\n                                    value={answer.answer}\r\n                                    onChange={e =>\r\n                                      changeAnswer(\r\n                                        e.target.value,\r\n                                        answer.explanation,\r\n                                        answer.correct,\r\n                                        idx,\r\n                                        i\r\n                                      )\r\n                                    }\r\n                                    className={\r\n                                      'flex-grow shadow-sm focus:ring-blue-500 focus:border-blue-500 block text-sm border-gray-300 rounded-md dark:bg-gray-900 dark:border-gray-700'\r\n                                    }\r\n                                    placeholder={`Answer ${i + 1}`}\r\n                                  />\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      changeAnswer(\r\n                                        answer.answer,\r\n                                        answer.explanation,\r\n                                        !answer.correct,\r\n                                        idx,\r\n                                        i\r\n                                      )\r\n                                    }\r\n                                    className={\r\n                                      'w-18 md:w-24 focus:ring-blue-500 focus:ring-2 rounded-md focus:outline-none'\r\n                                    }\r\n                                  >\r\n                                    {quiz[idx].answers[i].correct ? (\r\n                                      <div\r\n                                        className={\r\n                                          'flex items-center gap-2 text-green-600 dark:text-green-300'\r\n                                        }\r\n                                      >\r\n                                        <CheckCircleIcon\r\n                                          className={'h-4 w-4 md:h-6 md:w-6'}\r\n                                        />\r\n                                        <span className={'text-xs md:text-sm'}>\r\n                                          Correct\r\n                                        </span>\r\n                                      </div>\r\n                                    ) : (\r\n                                      <div\r\n                                        className={\r\n                                          'flex items-center gap-2 text-red-600 dark:text-red-300'\r\n                                        }\r\n                                      >\r\n                                        <XCircleIcon\r\n                                          className={'h-4 w-4 md:h-6 md:w-6'}\r\n                                        />\r\n                                        <span className={'text-xs md:text-sm'}>\r\n                                          Incorrect\r\n                                        </span>\r\n                                      </div>\r\n                                    )}\r\n                                  </button>\r\n                                </div>\r\n                                <textarea\r\n                                  className={\r\n                                    'mt-2 w-full shadow-sm focus:ring-blue-500 focus:border-blue-500 block text-sm border-gray-300 rounded-md dark:bg-gray-900 dark:border-gray-700'\r\n                                  }\r\n                                  value={answer.explanation}\r\n                                  onChange={e =>\r\n                                    changeAnswer(\r\n                                      answer.answer,\r\n                                      e.target.value,\r\n                                      answer.correct,\r\n                                      idx,\r\n                                      i\r\n                                    )\r\n                                  }\r\n                                  placeholder={'Explanation'}\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                        <div className={'w-full flex justify-end my-2'}>\r\n                          <button\r\n                            className={'btn'}\r\n                            onClick={() => addAnswer(idx)}\r\n                          >\r\n                            Add answer\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n                <div className={'relative text-sm'}>\r\n                  <button\r\n                    onClick={() => {\r\n                      navigator.clipboard.writeText(getCode());\r\n                      setCopyText('Copied!');\r\n                      setTimeout(() => {\r\n                        setCopyText('Copy');\r\n                      }, 3000);\r\n                    }}\r\n                    className=\"bg-gray-200 dark:text-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600  focus:ring-blue-500 focus:ring-2 rounded-md focus:outline-none absolute right-3 top-2 px-2 py-1\"\r\n                  >\r\n                    {copyText}\r\n                  </button>\r\n                  <CodeBlock className=\"language-mdx\">{getCode()}</CodeBlock>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Transition.Child>\r\n        </div>\r\n      </Dialog>\r\n    </Transition>\r\n  );\r\n}\r\n","import { useAtomValue, useUpdateAtom } from 'jotai/utils';\r\nimport babelParser from 'prettier/parser-babel';\r\nimport prettier from 'prettier/standalone';\r\nimport * as React from 'react';\r\nimport { useState } from 'react';\r\nimport { activeFileAtom, saveFileAtom } from '../../atoms/editor';\r\nimport { EditorContext } from '../../context/EditorContext';\r\nimport { MarkdownProblemListsProvider } from '../../context/MarkdownProblemListsContext';\r\nimport { ProblemSuggestionModalProvider } from '../../context/ProblemSuggestionModalContext';\r\nimport {\r\n  ProblemMetadata,\r\n  PROBLEM_DIFFICULTY_OPTIONS,\r\n} from '../../models/problem';\r\nimport QuizGeneratorModal from '../QuizGeneratorModal';\r\n\r\nconst RawMarkdownRenderer = React.lazy(\r\n  () => import('../DynamicMarkdownRenderer/DynamicMarkdownRenderer')\r\n);\r\n\r\nexport const EditorOutput = (): JSX.Element => {\r\n  const activeFile = useAtomValue(activeFileAtom);\r\n  const saveFile = useUpdateAtom(saveFileAtom);\r\n\r\n  const markdown: string | null = activeFile?.markdown;\r\n  const problems: string | null = activeFile?.problems;\r\n\r\n  const [\r\n    markdownProblemListsProviderValue,\r\n    setMarkdownProblemListsProviderValue,\r\n  ] = useState([]);\r\n  React.useEffect(() => {\r\n    try {\r\n      const parsedProblems = JSON.parse(problems || '{}');\r\n      const problemsList = Object.keys(parsedProblems)\r\n        .filter(key => key !== 'MODULE_ID')\r\n        .map(key => ({\r\n          listId: key,\r\n          problems: parsedProblems[key],\r\n        }));\r\n      setMarkdownProblemListsProviderValue(problemsList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }, [problems]);\r\n\r\n  const handleAddProblem = (\r\n    listId: string,\r\n    problemMetadata: ProblemMetadata\r\n  ) => {\r\n    const parsedOldFileData = JSON.parse(problems);\r\n    const tableToEdit = parsedOldFileData[listId];\r\n\r\n    // sort the table such that the suggested problem is inserted below the bottommost\r\n    // problem with the same difficulty as the suggested problem.\r\n    parsedOldFileData[listId] = (\r\n      [\r\n        ...tableToEdit.map((el, i) => ({ index: i, data: el })),\r\n        { index: tableToEdit.length, data: problemMetadata },\r\n      ] as { index: number; data: ProblemMetadata }[]\r\n    )\r\n      .sort((a, b) => {\r\n        const difficultyDiff =\r\n          PROBLEM_DIFFICULTY_OPTIONS.indexOf(a.data.difficulty) -\r\n          PROBLEM_DIFFICULTY_OPTIONS.indexOf(b.data.difficulty);\r\n        return difficultyDiff !== 0 ? difficultyDiff : a.index - b.index;\r\n      })\r\n      .map(prob => prob.data);\r\n\r\n    // Use pretty JSON.stringify because it inserts a newline before all objects, which forces prettier to then convert\r\n    // these objects into multiline ones.\r\n    const newContent = JSON.stringify(parsedOldFileData, null, 2) + '\\n';\r\n    const formattedNewContent = prettier.format(newContent, {\r\n      endOfLine: 'lf',\r\n      semi: true,\r\n      singleQuote: true,\r\n      tabWidth: 2,\r\n      useTabs: false,\r\n      trailingComma: 'es5',\r\n      arrowParens: 'avoid',\r\n      parser: 'json',\r\n      plugins: [babelParser],\r\n    });\r\n    saveFile({\r\n      path: activeFile.path,\r\n      update: prev => ({\r\n        ...prev,\r\n        problems: formattedNewContent,\r\n      }),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"markdown p-4\">\r\n      <EditorContext.Provider\r\n        value={{\r\n          addProblem: handleAddProblem,\r\n          inEditor: true,\r\n        }}\r\n      >\r\n        <MarkdownProblemListsProvider value={markdownProblemListsProviderValue}>\r\n          <ProblemSuggestionModalProvider>\r\n            <RawMarkdownRenderer markdown={markdown} problems={problems} />\r\n            <QuizGeneratorModal />\r\n          </ProblemSuggestionModalProvider>\r\n        </MarkdownProblemListsProvider>\r\n      </EditorContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n","import { SearchIcon } from '@heroicons/react/solid';\r\nimport React from 'react';\r\nimport {\r\n  connectAutoComplete,\r\n  Highlight,\r\n  InstantSearch,\r\n  PoweredBy,\r\n} from 'react-instantsearch-dom';\r\nimport styled from 'styled-components';\r\nimport tw from 'twin.macro';\r\nimport { AlgoliaEditorFile } from '../../models/algoliaEditorFile';\r\nimport { searchClient } from '../../utils/algoliaSearchClient';\r\n\r\nconst SearchResultDescription = styled.p`\r\n  ${tw`leading-4`}\r\n\r\n  & > .ais-Highlight > * {\r\n    ${tw`text-gray-700`}\r\n    ${tw`text-sm!`}\r\n  }\r\n\r\n  .dark & > .ais-Highlight > * {\r\n    ${tw`text-gray-300`}\r\n  }\r\n\r\n  > .ais-Snippet > * {\r\n    ${tw`text-gray-400`}\r\n    ${tw`text-sm!`}\r\n  }\r\n`;\r\n\r\nconst SearchResultsContainer = styled.div`\r\n  .dark & .ais-PoweredBy {\r\n    ${tw`text-dark-high-emphasis!`}\r\n  }\r\n`;\r\n\r\nconst indexName =\r\n  process.env.NODE_ENV === 'production'\r\n    ? 'prod_editorFiles'\r\n    : 'dev_editorFiles';\r\n\r\nconst FileSearch = ({ hits, currentRefinement, refine, onSelect }) => {\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center p-2\">\r\n        <input\r\n          type=\"search\"\r\n          placeholder=\"Search\"\r\n          className=\"focus:outline-none focus:ring-0 text-gray-700 dark:bg-dark-surface dark:text-gray-200 dark:placeholder-gray-400 border-0 flex-1\"\r\n          value={currentRefinement}\r\n          onChange={e => refine(e.target.value)}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n        />\r\n        <span className=\"p-2\">\r\n          <SearchIcon className=\"h-5 w-5 text-gray-400 dark:text-gray-500\" />\r\n        </span>\r\n      </div>\r\n      {currentRefinement !== '' && (\r\n        <div>\r\n          <SearchResultsContainer>\r\n            <div className=\"max-h-[20rem] overflow-y-auto border-t divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700\">\r\n              {hits.map(hit => (\r\n                <button\r\n                  className=\"block hover:bg-blue-100 dark:hover:bg-gray-700 py-3 px-5 transition focus:outline-none w-full text-left\"\r\n                  key={hit.id}\r\n                  onClick={() => onSelect(hit)}\r\n                >\r\n                  <h3 className=\"text-gray-600 dark:text-gray-200 font-medium\">\r\n                    <Highlight hit={hit} attribute=\"title\" /> (\r\n                    {hit.kind === 'module' ? 'Module' : 'Solution'})\r\n                  </h3>\r\n                  <SearchResultDescription className=\"text-gray-700 dark:text-gray-400 text-sm\">\r\n                    <Highlight hit={hit} attribute=\"id\" /> -{' '}\r\n                    {hit.path == null ? (\r\n                      'Create New Internal Solution'\r\n                    ) : (\r\n                      <Highlight hit={hit} attribute=\"path\" />\r\n                    )}\r\n                  </SearchResultDescription>\r\n                </button>\r\n              ))}\r\n            </div>\r\n            <div className=\"px-5 py-3 border-t border-gray-200 dark:border-gray-700\">\r\n              <PoweredBy theme=\"dark\" />\r\n            </div>\r\n          </SearchResultsContainer>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ConnectedSearch = connectAutoComplete(FileSearch);\r\n\r\nconst EditorFileModalInterface: React.FC<{\r\n  onSelect: (file: AlgoliaEditorFile) => void;\r\n}> = ({ onSelect }) => {\r\n  return (\r\n    <InstantSearch indexName={indexName} searchClient={searchClient}>\r\n      <ConnectedSearch onSelect={onSelect} />\r\n    </InstantSearch>\r\n  );\r\n};\r\n\r\nexport default EditorFileModalInterface;\r\n","import { Dialog, Transition } from '@headlessui/react';\r\nimport React, { Fragment } from 'react';\r\nimport { AlgoliaEditorFile } from '../../models/algoliaEditorFile';\r\nimport EditorFileModalInterface from './EditorFileModalInterface';\r\n\r\nexport interface EditorFileModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSelect: (file: AlgoliaEditorFile) => void;\r\n}\r\n\r\nexport const EditorFileModal: React.FC<EditorFileModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onSelect,\r\n}) => {\r\n  return (\r\n    <Transition.Root show={isOpen} as={Fragment}>\r\n      <Dialog\r\n        as=\"div\"\r\n        static\r\n        className=\"fixed z-10 inset-0 overflow-y-auto\"\r\n        open={isOpen}\r\n        onClose={() => onClose()}\r\n      >\r\n        <div className=\"min-h-screen text-center sm:p-0\">\r\n          <Transition.Child\r\n            as={Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0\"\r\n            enterTo=\"opacity-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100\"\r\n            leaveTo=\"opacity-0\"\r\n          >\r\n            <Dialog.Overlay className=\"fixed inset-0 bg-gray-500 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75 transition-opacity\" />\r\n          </Transition.Child>\r\n\r\n          <Transition.Child\r\n            as={Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\r\n            enterTo=\"opacity-100 translate-y-0 sm:scale-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100 translate-y-0 sm:scale-100\"\r\n            leaveTo=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\r\n          >\r\n            <div className=\"inline-block bg-white dark:bg-dark-surface rounded-lg text-left overflow-hidden shadow-xl transform transition-all my-8 sm:my-16 sm:align-middle sm:max-w-lg w-full\">\r\n              <EditorFileModalInterface onSelect={onSelect} />\r\n            </div>\r\n          </Transition.Child>\r\n        </div>\r\n      </Dialog>\r\n    </Transition.Root>\r\n  );\r\n};\r\n","import { XIcon } from '@heroicons/react/solid';\r\nimport classNames from 'classnames';\r\nimport React, { useState } from 'react';\r\nimport { AlgoliaEditorFile } from '../../../models/algoliaEditorFile';\r\nimport { EditorFileModal } from '../EditorFileModal';\r\n\r\nexport const FileListSidebar: React.FC<{\r\n  className?: string;\r\n  activeFile: { path: string } | null;\r\n  files: string[];\r\n  onOpenFile: (filePath: string) => void;\r\n  onCloseFile: (filePath: string) => void;\r\n  onCloseAllFiles: () => void;\r\n  onNewFile: (file: AlgoliaEditorFile) => void;\r\n}> = ({\r\n  className,\r\n  files,\r\n  activeFile,\r\n  onOpenFile,\r\n  onCloseFile,\r\n  onCloseAllFiles,\r\n  onNewFile,\r\n}) => {\r\n  const [isFileModalOpen, setIsFileModalOpen] = useState(false);\r\n\r\n  const handleFileSelect = (file: AlgoliaEditorFile) => {\r\n    setIsFileModalOpen(false);\r\n    onNewFile(file);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\r\n        className,\r\n        'w-[250px] bg-[#1E1E1E] border-r border-gray-800 overflow-y-auto'\r\n      )}\r\n    >\r\n      <div className=\"text-gray-300 text-sm font-medium border-b border-gray-800 flex items-center justify-between\">\r\n        <span className=\"px-4 py-2\">Files</span>\r\n        <div className=\"flex-shrink-0\">\r\n          <button\r\n            className={classNames(\r\n              'text-gray-400 hover:text-gray-300 hover:bg-gray-800 active:bg-gray-800',\r\n              'px-3 py-2 font-medium text-sm focus:outline-none transition'\r\n            )}\r\n            onClick={() => onCloseAllFiles()}\r\n          >\r\n            Close All\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"h-1\" />\r\n      {files.map(file => (\r\n        <div\r\n          className={`flex items-center hover:bg-gray-800 text-gray-400 hover:text-gray-300 transition${\r\n            activeFile?.path === file ? ' bg-gray-900' : ''\r\n          }`}\r\n          key={file}\r\n        >\r\n          <div\r\n            className=\"cursor-pointer flex-1 min-w-0 pl-4 py-1 break-all text-sm\"\r\n            onClick={() => onOpenFile(file)}\r\n          >\r\n            {file}\r\n          </div>\r\n          <button\r\n            className=\"flex-shrink-0 focus:outline-none py-1 px-2 text-gray-600 hover:text-gray-300 transition\"\r\n            onClick={() => onCloseFile(file)}\r\n          >\r\n            <XIcon className=\"h-4 w-4\" />\r\n          </button>\r\n        </div>\r\n      ))}\r\n      <div className=\"h-1\" />\r\n      <button\r\n        className={classNames(\r\n          'text-gray-400 hover:text-gray-300 hover:bg-gray-800 active:bg-gray-800',\r\n          'px-4 py-2 font-medium text-sm focus:outline-none transition w-full'\r\n        )}\r\n        onClick={() => setIsFileModalOpen(true)}\r\n      >\r\n        Open File\r\n      </button>\r\n\r\n      <EditorFileModal\r\n        isOpen={isFileModalOpen}\r\n        onClose={() => setIsFileModalOpen(false)}\r\n        onSelect={handleFileSelect}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import { useAtom } from 'jotai';\r\nimport { useAtomValue, useUpdateAtom } from 'jotai/utils';\r\nimport * as React from 'react';\r\nimport {\r\n  activeFileAtom,\r\n  closeFileAtom,\r\n  createNewInternalSolutionFileAtom,\r\n  filesListAtom,\r\n  openOrCreateExistingFileAtom,\r\n} from '../../../atoms/editor';\r\nimport {\r\n  AlgoliaEditorFile,\r\n  AlgoliaEditorSolutionFile,\r\n} from '../../../models/algoliaEditorFile';\r\nimport { FileListSidebar } from './FileListSidebar';\r\n\r\nexport const EditorSidebar = (props): JSX.Element => {\r\n  const files = useAtomValue(filesListAtom);\r\n  const [activeFile, setActiveFile] = useAtom(activeFileAtom);\r\n  const openOrCreateExistingFile = useUpdateAtom(openOrCreateExistingFileAtom);\r\n  const createNewInternalSolutionFile = useUpdateAtom(\r\n    createNewInternalSolutionFileAtom\r\n  );\r\n  const closeFile = useUpdateAtom(closeFileAtom);\r\n\r\n  const handleOpenFile = (file: string) => {\r\n    setActiveFile(file);\r\n  };\r\n\r\n  const handleCloseFile = (file: string) => {\r\n    if (\r\n      confirm(\r\n        \"Are you sure you want to close this file? You'll lose your changes.\"\r\n      )\r\n    ) {\r\n      closeFile(file);\r\n    }\r\n  };\r\n\r\n  const handleCloseAllFiles = () => {\r\n    if (\r\n      confirm(\r\n        \"Are you sure you want to close all files? You'll lose all your changes.\"\r\n      )\r\n    ) {\r\n      for (const file of files) closeFile(file);\r\n    }\r\n  };\r\n\r\n  const handleNewFile = (file: AlgoliaEditorFile) => {\r\n    if (file.path) {\r\n      // this file already exists\r\n      openOrCreateExistingFile(file.path);\r\n    } else {\r\n      // the user is trying to create a new internal solution\r\n      createNewInternalSolutionFile(file as AlgoliaEditorSolutionFile);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FileListSidebar\r\n      {...props}\r\n      activeFile={activeFile}\r\n      files={files || []}\r\n      onOpenFile={handleOpenFile}\r\n      onCloseFile={handleCloseFile}\r\n      onCloseAllFiles={handleCloseAllFiles}\r\n      onNewFile={handleNewFile}\r\n    />\r\n  );\r\n};\r\n","import { InformationCircleIcon } from '@heroicons/react/outline';\r\nimport classNames from 'classnames';\r\nimport { useAtomValue, useUpdateAtom } from 'jotai/utils';\r\nimport React, { useContext } from 'react';\r\nimport { activeFileAtom, saveFileAtom } from '../../atoms/editor';\r\nimport { useDarkMode } from '../../context/DarkModeContext';\r\nimport {\r\n  Language,\r\n  LANGUAGE_LABELS,\r\n} from '../../context/UserDataContext/properties/userLang';\r\nimport UserDataContext from '../../context/UserDataContext/UserDataContext';\r\nimport LogoSquare from '../LogoSquare';\r\nimport { fetchFileContent } from './editorUtils';\r\n\r\nexport const EditorTopNav = (): JSX.Element => {\r\n  const activeFile = useAtomValue(activeFileAtom);\r\n  const saveFile = useUpdateAtom(saveFileAtom);\r\n  const userSettings = useContext(UserDataContext);\r\n  const isDarkMode = useDarkMode();\r\n\r\n  const handleReloadContent = async () => {\r\n    if (confirm('Reload file from Github? Your local changes will be lost.')) {\r\n      const data = await fetchFileContent(activeFile.path);\r\n      // note: we can't use setMarkdown / setProblems in sequence because setProblems would override setMarkdown\r\n      saveFile({\r\n        ...activeFile,\r\n        markdown: data.markdown,\r\n        problems: data.problems,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"block px-4 border-b border-gray-200 dark:border-gray-800 dark:bg-gray-900 flex items-center justify-between\">\r\n      <div className=\"flex items-center space-x-4\">\r\n        <div className=\"flex items-center space-x-2 whitespace-nowrap flex-nowrap py-2 mr-8\">\r\n          <div className=\"h-8 w-8 flex-shrink-0\">\r\n            <LogoSquare />\r\n          </div>\r\n          <span className=\"font-medium text-xl tracking-tight\">\r\n            Guide Editor\r\n          </span>\r\n        </div>\r\n        {/*<button className=\"inline-flex items-center space-x-2 text-gray-600 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 px-3 py-2 font-medium text-sm rounded-md focus:outline-none transition\">*/}\r\n        {/*  /!*<ArchiveIcon className=\"h-4 w-4\" />*!/*/}\r\n        {/*  <span>History</span>*/}\r\n        {/*</button>*/}\r\n        {/*<button className=\"inline-flex items-center space-x-2 text-gray-600 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 px-3 py-2 font-medium text-sm rounded-md focus:outline-none transition\">*/}\r\n        {/*  /!*<ShareIcon className=\"h-4 w-4\" />*!/*/}\r\n        {/*  <span>Share</span>*/}\r\n        {/*</button>*/}\r\n        {/*<button*/}\r\n        {/*  className=\"inline-flex items-center space-x-2 text-gray-600 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 px-3 py-2 font-medium text-sm rounded-md focus:outline-none transition\"*/}\r\n        {/*  onClick={async () => {*/}\r\n        {/*    const db = getFirestore(firebaseApp);*/}\r\n        {/*    try {*/}\r\n        {/*      const docCollection = collection(*/}\r\n        {/*        doc(db, 'editor-documents', id),*/}\r\n        {/*        'edits'*/}\r\n        {/*      );*/}\r\n        {/*      // await runTransaction(*/}\r\n        {/*      //   getFirestore(firebaseApp),*/}\r\n        {/*      //   async transaction => {*/}\r\n        {/*      //     const v = await transaction;*/}\r\n        {/*      //     if (!v.exists()) {*/}\r\n        {/*      //       transaction.set(docRef, {});*/}\r\n        {/*      //     }*/}\r\n        {/*      //     const newPopulation = doc.data().population + 1;*/}\r\n        {/*      //     transaction.update(docRef, { population: newPopulation });*/}\r\n        {/*      //   }*/}\r\n        {/*      // );*/}\r\n        {/*      console.log('Transaction successfully committed!');*/}\r\n        {/*    } catch (e) {*/}\r\n        {/*      console.log('Transaction failed: ', e);*/}\r\n        {/*    }*/}\r\n        {/*  }}*/}\r\n        {/*>*/}\r\n        {/*  Save*/}\r\n        {/*</button>*/}\r\n\r\n        {activeFile?.path && (\r\n          <button\r\n            className=\"inline-flex items-center space-x-2 text-gray-600 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 px-3 py-2 font-medium text-sm rounded-md focus:outline-none transition\"\r\n            onClick={handleReloadContent}\r\n          >\r\n            Reload Content from Github\r\n          </button>\r\n        )}\r\n        {activeFile?.path && (\r\n          <a\r\n            href={`https://github.com/Visual-Computing-1/visual-site/blob/master/${encodeURI(\r\n              activeFile?.path\r\n            )}`}\r\n            target=\"_blank\"\r\n            className=\"inline-flex items-center space-x-2 text-gray-600 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 px-3 py-2 font-medium text-sm rounded-md focus:outline-none transition\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            View File on Github &rarr;\r\n          </a>\r\n        )}\r\n      </div>\r\n      <div className=\"flex items-center\">\r\n        <nav className=\"flex space-x-1\" aria-label=\"Tabs\">\r\n          {['cpp', 'java', 'py'].map((tab: Language) => (\r\n            <button\r\n              key={tab}\r\n              className={classNames(\r\n                tab === userSettings.lang\r\n                  ? 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300'\r\n                  : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300',\r\n                'px-3 py-2 font-medium text-sm rounded-md focus:outline-none transition'\r\n              )}\r\n              onClick={() => userSettings.setLang(tab)}\r\n            >\r\n              {LANGUAGE_LABELS[tab]}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n\r\n        <div className=\"mx-4 block border-l border-gray-200 dark:border-gray-700 h-6 self-center\" />\r\n\r\n        <a\r\n          href=\"/general/adding-solution\"\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n          className=\"text-gray-600 hover:text-black dark:text-gray-400 dark:hover:text-gray-200 inline-flex items-center space-x-2 font-medium text-sm group transition\"\r\n        >\r\n          <InformationCircleIcon className=\"h-6 w-6 text-gray-400 group-hover:text-gray-500 dark:group-hover:text-gray-300 transition\" />\r\n          <span>Documentation</span>\r\n        </a>\r\n\r\n        <div className=\"mx-4 block border-l border-gray-200 dark:border-gray-700 h-6 self-center\" />\r\n\r\n        <button\r\n          onClick={() => userSettings.setTheme(isDarkMode ? 'light' : 'dark')}\r\n          className=\"-mx-1 p-1 border-2 border-transparent text-gray-400 dark:text-gray-400 rounded-full hover:text-gray-300 dark:hover:text-dark-high-emphasis focus:outline-none focus:text-gray-500 focus:bg-gray-100 dark:focus:bg-gray-700 transition\"\r\n        >\r\n          {isDarkMode ? (\r\n            <svg\r\n              className=\"h-6 w-6\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\"\r\n              />\r\n            </svg>\r\n          ) : (\r\n            <svg\r\n              className=\"h-6 w-6\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"\r\n              />\r\n            </svg>\r\n          )}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import classNames from 'classnames';\r\nimport React from 'react';\r\nimport { useQuizOpen } from '../../context/QuizGeneratorContext';\r\n\r\nexport interface EditorTab {\r\n  label: string;\r\n  value: string;\r\n}\r\n\r\nexport interface EditorTabBarProps {\r\n  tabs: EditorTab[];\r\n  /**\r\n   * Value of the active tab.\r\n   */\r\n  activeTab: string;\r\n  onTabSelect: (tab: EditorTab) => void;\r\n  onFormatCode: () => void;\r\n}\r\n\r\nconst EditorTabBar: React.FC<EditorTabBarProps> = ({\r\n  tabs,\r\n  activeTab,\r\n  onTabSelect,\r\n  onFormatCode,\r\n}) => {\r\n  const { setOpen } = useQuizOpen();\r\n  return (\r\n    <>\r\n      <div className=\"flex bg-gray-900\">\r\n        <div className=\"flex-1\">\r\n          {tabs.map(tab => (\r\n            <button\r\n              key={tab.value}\r\n              className={classNames(\r\n                tab.value === activeTab\r\n                  ? 'bg-[#1E1E1E] text-gray-200'\r\n                  : 'text-gray-400 hover:text-gray-300 hover:bg-gray-800 active:bg-gray-800',\r\n                'px-4 py-2 font-medium text-sm focus:outline-none transition'\r\n              )}\r\n              onClick={() => onTabSelect(tab)}\r\n            >\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className={'flex bg-gray-900'}>\r\n        <button\r\n          className={\r\n            'text-gray-400 hover:text-gray-300 hover:bg-gray-800 active:bg-gray-800 px-3 py-2 text-sm font-medium focus:outline-none transition'\r\n          }\r\n          onClick={() => setOpen(true)}\r\n          type={'button'}\r\n        >\r\n          Generate Quiz\r\n        </button>\r\n        <button\r\n          className={classNames(\r\n            'text-gray-400 hover:text-gray-300 hover:bg-gray-800 active:bg-gray-800',\r\n            'px-3 py-2 font-medium text-sm focus:outline-none transition'\r\n          )}\r\n          onClick={() => onFormatCode()}\r\n        >\r\n          Format Code\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditorTabBar;\r\n","// heavily based on https://github.com/microsoft/monaco-languages/blob/main/src/markdown/markdown.ts (MIT License)\r\n// contains some mdx support, but not much (only the most essential support, like different comment syntax)\r\n\r\nexport const conf = {\r\n  comments: {\r\n    blockComment: ['<!--', '-->'],\r\n  },\r\n  brackets: [\r\n    ['{', '}'],\r\n    ['[', ']'],\r\n    ['(', ')'],\r\n  ],\r\n  autoClosingPairs: [\r\n    { open: '{', close: '}' },\r\n    { open: '[', close: ']' },\r\n    { open: '(', close: ')' },\r\n    { open: '*', close: '*' },\r\n    { open: '<', close: '>', notIn: ['string'] },\r\n  ],\r\n  surroundingPairs: [\r\n    { open: '(', close: ')' },\r\n    { open: '{', close: '}' },\r\n    { open: '*', close: '*' },\r\n    { open: '[', close: ']' },\r\n    { open: '`', close: '`' },\r\n  ],\r\n  folding: {\r\n    markers: {\r\n      start: new RegExp('^\\\\s*<!--\\\\s*#?region\\\\b.*-->'),\r\n      end: new RegExp('^\\\\s*<!--\\\\s*#?endregion\\\\b.*-->'),\r\n    },\r\n  },\r\n};\r\n\r\nexport const language = {\r\n  defaultToken: '',\r\n  tokenPostfix: '.mdx',\r\n\r\n  // escape codes\r\n  control: /[\\\\`*_\\[\\]{}()#+\\-\\.!]/,\r\n  noncontrol: /[^\\\\`*_\\[\\]{}()#+\\-\\.!]/,\r\n  escapes: /\\\\(?:@control)/,\r\n\r\n  // escape codes for javascript/CSS strings\r\n  jsescapes: /\\\\(?:[btnfr\\\\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,\r\n\r\n  // non matched elements\r\n  empty: [\r\n    'area',\r\n    'base',\r\n    'basefont',\r\n    'br',\r\n    'col',\r\n    'frame',\r\n    'hr',\r\n    'img',\r\n    'input',\r\n    'isindex',\r\n    'link',\r\n    'meta',\r\n    'param',\r\n  ],\r\n\r\n  tokenizer: {\r\n    root: [\r\n      // markdown tables\r\n      [/^\\s*\\|/, '@rematch', '@table_header'],\r\n\r\n      // headers (with #)\r\n      [\r\n        /^(\\s{0,3})(#+)((?:[^\\\\#]|@escapes)+)((?:#+)?)/,\r\n        ['white', 'keyword', 'keyword', 'keyword'],\r\n      ],\r\n\r\n      // headers (with =)\r\n      [/^\\s*(=+|\\-+)\\s*$/, 'keyword'],\r\n\r\n      // headers (with ***)\r\n      [/^\\s*((\\*[ ]?)+)\\s*$/, 'meta.separator'],\r\n\r\n      // quote\r\n      [/^\\s*>+/, 'comment'],\r\n\r\n      // list (starting with * or number)\r\n      [/^\\s*([\\*\\-+:]|\\d+\\.)\\s/, 'keyword'],\r\n\r\n      // code block (4 spaces indent)\r\n      // [/^(\\t|[ ]{4})[^ ].*$/, 'string'],\r\n\r\n      // code block (3 tilde)\r\n      // [/^\\s*~~~\\s*((?:\\w|[\\/\\-#])+)?\\s*$/, { token: 'string', next: '@codeblock' }],\r\n\r\n      // github style code blocks (with backticks and language)\r\n      [\r\n        /^\\s*```\\s*((?:\\w|[\\/\\-#])+).*$/,\r\n        { token: 'string', next: '@codeblockgh', nextEmbedded: '$1' },\r\n      ],\r\n\r\n      // github style code blocks (with backticks but no language)\r\n      // [/^\\s*```\\s*$/, { token: 'string', next: '@codeblock' }],\r\n\r\n      // markup within lines\r\n      { include: '@linecontent' },\r\n    ],\r\n\r\n    table_header: [\r\n      { include: '@table_common' },\r\n      [/[^\\|]+/, 'keyword.table.header'], // table header\r\n    ],\r\n\r\n    table_body: [{ include: '@table_common' }, { include: '@linecontent' }],\r\n\r\n    table_common: [\r\n      [/\\s*[\\-:]+\\s*/, { token: 'keyword', switchTo: 'table_body' }], // header-divider\r\n      [/^\\s*\\|/, 'keyword.table.left'], // opening |\r\n      [/^\\s*[^\\|]/, '@rematch', '@pop'], // exiting\r\n      [/^\\s*$/, '@rematch', '@pop'], // exiting\r\n      [\r\n        /\\|/,\r\n        {\r\n          cases: {\r\n            '@eos': 'keyword.table.right', // closing |\r\n            '@default': 'keyword.table.middle', // inner |\r\n          },\r\n        },\r\n      ],\r\n    ],\r\n\r\n    codeblock: [\r\n      // [/^\\s*~~~\\s*$/, { token: 'string', next: '@pop' }],\r\n      [/^\\s*```\\s*$/, { token: 'string', next: '@pop' }],\r\n      [/.*$/, 'variable.source'],\r\n    ],\r\n\r\n    // github style code blocks\r\n    codeblockgh: [\r\n      [\r\n        /```\\s*$/,\r\n        { token: 'variable.source', next: '@pop', nextEmbedded: '@pop' },\r\n      ],\r\n      [/[^`]+/, 'variable.source'],\r\n    ],\r\n\r\n    linecontent: [\r\n      // escapes\r\n      [/&\\w+;/, 'string.escape'],\r\n      [/@escapes/, 'escape'],\r\n\r\n      // various markup\r\n      [/\\b__([^\\\\_]|@escapes|_(?!_))+__\\b/, 'strong'],\r\n      [/\\*\\*([^\\\\*]|@escapes|\\*(?!\\*))+\\*\\*/, 'strong'],\r\n      [/\\b_[^_]+_\\b/, 'emphasis'],\r\n      [/\\*([^\\\\*]|@escapes)+\\*/, 'emphasis'],\r\n      [/`([^\\\\`]|@escapes)+`/, 'variable'],\r\n\r\n      // links\r\n      [/\\{+[^}]+\\}+/, 'string.target'],\r\n      [\r\n        /(!?\\[)((?:[^\\]\\\\]|@escapes)*)(\\]\\([^\\)]+\\))/,\r\n        ['string.link', '', 'string.link'],\r\n      ],\r\n      [/(!?\\[)((?:[^\\]\\\\]|@escapes)*)(\\])/, 'string.link'],\r\n\r\n      // or html\r\n      { include: 'html' },\r\n    ],\r\n\r\n    // Note: it is tempting to rather switch to the real HTML mode instead of building our own here\r\n    // but currently there is a limitation in Monarch that prevents us from doing it: The opening\r\n    // '<' would start the HTML mode, however there is no way to jump 1 character back to let the\r\n    // HTML mode also tokenize the opening angle bracket. Thus, even though we could jump to HTML,\r\n    // we cannot correctly tokenize it in that mode yet.\r\n    html: [\r\n      // html tags\r\n      [/<(\\w+)\\/>/, 'tag'],\r\n      [\r\n        /<(\\w+)/,\r\n        {\r\n          cases: {\r\n            '@empty': { token: 'tag', next: '@tag.$1' },\r\n            '@default': { token: 'tag', next: '@tag.$1' },\r\n          },\r\n        },\r\n      ],\r\n      [/<\\/(\\w+)\\s*>/, { token: 'tag' }],\r\n\r\n      [/<!--/, 'comment', '@comment'],\r\n    ],\r\n\r\n    comment: [\r\n      [/[^<\\-]+/, 'comment.content'],\r\n      [/-->/, 'comment', '@pop'],\r\n      [/<!--/, 'comment.content.invalid'],\r\n      [/[<\\-]/, 'comment.content'],\r\n    ],\r\n\r\n    // Almost full HTML tag matching, complete with embedded scripts & styles\r\n    tag: [\r\n      [/[ \\t\\r\\n]+/, 'white'],\r\n      [\r\n        /(type)(\\s*=\\s*)(\")([^\"]+)(\")/,\r\n        [\r\n          'attribute.name.html',\r\n          'delimiter.html',\r\n          'string.html',\r\n          { token: 'string.html', switchTo: '@tag.$S2.$4' },\r\n          'string.html',\r\n        ],\r\n      ],\r\n      [\r\n        /(type)(\\s*=\\s*)(')([^']+)(')/,\r\n        [\r\n          'attribute.name.html',\r\n          'delimiter.html',\r\n          'string.html',\r\n          { token: 'string.html', switchTo: '@tag.$S2.$4' },\r\n          'string.html',\r\n        ],\r\n      ],\r\n      [\r\n        /(\\w+)(\\s*=\\s*)(\"[^\"]*\"|'[^']*')/,\r\n        ['attribute.name.html', 'delimiter.html', 'string.html'],\r\n      ],\r\n      [/\\w+/, 'attribute.name.html'],\r\n      [/\\/>/, 'tag', '@pop'],\r\n      [\r\n        />/,\r\n        {\r\n          cases: {\r\n            '$S2==style': {\r\n              token: 'tag',\r\n              switchTo: 'embeddedStyle',\r\n              nextEmbedded: 'text/css',\r\n            },\r\n            '$S2==script': {\r\n              cases: {\r\n                $S3: {\r\n                  token: 'tag',\r\n                  switchTo: 'embeddedScript',\r\n                  nextEmbedded: '$S3',\r\n                },\r\n                '@default': {\r\n                  token: 'tag',\r\n                  switchTo: 'embeddedScript',\r\n                  nextEmbedded: 'text/javascript',\r\n                },\r\n              },\r\n            },\r\n            '@default': { token: 'tag', next: '@pop' },\r\n          },\r\n        },\r\n      ],\r\n    ],\r\n\r\n    embeddedStyle: [\r\n      [/[^<]+/, ''],\r\n      [\r\n        /<\\/style\\s*>/,\r\n        { token: '@rematch', next: '@pop', nextEmbedded: '@pop' },\r\n      ],\r\n      [/</, ''],\r\n    ],\r\n\r\n    embeddedScript: [\r\n      [/[^<]+/, ''],\r\n      [\r\n        /<\\/script\\s*>/,\r\n        { token: '@rematch', next: '@pop', nextEmbedded: '@pop' },\r\n      ],\r\n      [/</, ''],\r\n    ],\r\n  },\r\n};\r\n","import classNames from 'classnames';\r\nimport { useAtomValue, useUpdateAtom } from 'jotai/utils';\r\nimport babelParser from 'prettier/parser-babel';\r\nimport markdownParser from 'prettier/parser-markdown';\r\nimport prettier from 'prettier/standalone';\r\nimport * as React from 'react';\r\nimport { useState } from 'react';\r\nimport problemsSchema from '../../../content/problems.schema.json';\r\nimport {\r\n  activeFileAtom,\r\n  monacoEditorInstanceAtom,\r\n  saveFileAtom,\r\n} from '../../atoms/editor';\r\nimport EditorTabBar from './EditorTabBar';\r\nimport { conf as mdxConf, language as mdxLang } from './mdx-lang';\r\n\r\nconst Editor = React.lazy(() => import('@monaco-editor/react'));\r\n\r\nexport const MainEditorInterface = ({ className }): JSX.Element => {\r\n  const activeFile = useAtomValue(activeFileAtom);\r\n  const saveFile = useUpdateAtom(saveFileAtom);\r\n  const setMonacoEditorInstance = useUpdateAtom(monacoEditorInstanceAtom);\r\n  const [_tab, setTab] = useState<'problems' | 'content'>('content');\r\n  const isEditingSolution =\r\n    activeFile && activeFile.path.startsWith('solutions');\r\n  const tab = isEditingSolution ? 'content' : _tab;\r\n\r\n  const markdown: string | null = activeFile?.markdown;\r\n  const setMarkdown = (x: string | ((prev: string) => string)) => {\r\n    if (typeof x === 'string') {\r\n      saveFile({\r\n        path: activeFile.path,\r\n        update: prev => ({\r\n          ...prev,\r\n          markdown: x,\r\n        }),\r\n      });\r\n    } else {\r\n      saveFile({\r\n        path: activeFile.path,\r\n        update: prev => ({\r\n          ...prev,\r\n          markdown: x(prev.markdown),\r\n        }),\r\n      });\r\n    }\r\n  };\r\n  const problems: string | null = activeFile?.problems;\r\n  const setProblems = (x: string | ((prev: string) => string)) => {\r\n    if (typeof x === 'string') {\r\n      saveFile({\r\n        path: activeFile.path,\r\n        update: prev => ({\r\n          ...prev,\r\n          problems: x,\r\n        }),\r\n      });\r\n    } else {\r\n      saveFile({\r\n        path: activeFile.path,\r\n        update: prev => ({\r\n          ...prev,\r\n          problems: x(prev.problems),\r\n        }),\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleFormatCode = () => {\r\n    if (tab === 'content') {\r\n      setMarkdown(old =>\r\n        prettier.format(old, {\r\n          endOfLine: 'lf',\r\n          semi: true,\r\n          singleQuote: true,\r\n          tabWidth: 2,\r\n          trailingComma: 'es5',\r\n          arrowParens: 'avoid',\r\n          useTabs: true,\r\n          proseWrap: 'always',\r\n          parser: 'mdx',\r\n          plugins: [markdownParser],\r\n        })\r\n      );\r\n    } else {\r\n      setProblems(old =>\r\n        prettier.format(old, {\r\n          endOfLine: 'lf',\r\n          semi: true,\r\n          singleQuote: true,\r\n          tabWidth: 2,\r\n          useTabs: false,\r\n          trailingComma: 'es5',\r\n          arrowParens: 'avoid',\r\n          parser: 'json',\r\n          plugins: [babelParser],\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classNames('tw-forms-disable-all-descendants', className)}>\r\n      <EditorTabBar\r\n        tabs={[\r\n          { label: 'module.mdx', value: 'module.mdx' },\r\n          ...(!isEditingSolution\r\n            ? [\r\n                {\r\n                  label: 'module.problems.json',\r\n                  value: 'module.problems.json',\r\n                },\r\n              ]\r\n            : []),\r\n        ]}\r\n        activeTab={tab === 'content' ? 'module.mdx' : 'module.problems.json'}\r\n        onTabSelect={tab =>\r\n          setTab(tab.value === 'module.mdx' ? 'content' : 'problems')\r\n        }\r\n        onFormatCode={handleFormatCode}\r\n      />\r\n      <Editor\r\n        theme=\"vs-dark\"\r\n        path={\r\n          activeFile === null\r\n            ? 'NONE'\r\n            : tab === 'content'\r\n            ? activeFile.path\r\n            : activeFile.path.replace(/\\.mdx$/, '.problems.json')\r\n        }\r\n        language={tab === 'content' ? 'custom-mdx' : 'json'}\r\n        value={\r\n          activeFile === null\r\n            ? 'Open a file to begin'\r\n            : tab === 'content'\r\n            ? markdown\r\n            : problems\r\n        }\r\n        onChange={(v, e) =>\r\n          tab === 'content' ? setMarkdown(v) : setProblems(v)\r\n        }\r\n        options={{\r\n          wordWrap: 'on',\r\n          rulers: [80],\r\n          minimap: { enabled: false },\r\n        }}\r\n        beforeMount={monaco => {\r\n          // sort of MDX (basically markdown with mdx comments)\r\n          monaco.languages.register({ id: 'custom-mdx' });\r\n          monaco.languages.setMonarchTokensProvider('custom-mdx', mdxLang);\r\n          monaco.languages.setLanguageConfiguration('custom-mdx', mdxConf);\r\n          monaco.languages.json.jsonDefaults.setDiagnosticsOptions({\r\n            validate: true,\r\n            schemas: [\r\n              {\r\n                fileMatch: ['*.json'],\r\n                uri: 'https://usaco.guide/problems.schema.json',\r\n                schema: problemsSchema,\r\n              },\r\n            ],\r\n          });\r\n        }}\r\n        onMount={e => {\r\n          setMonacoEditorInstance(e);\r\n          e.getModel().updateOptions({ insertSpaces: false });\r\n\r\n          setTimeout(() => {\r\n            e.layout();\r\n            e.focus();\r\n          }, 0);\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","// import * as React from 'react';\r\n//\r\n// export default function Placeholder() {\r\n//   return (\r\n//     <div data-testid=\"build-placeholder\">\r\n//       This placeholder greatly speeds up build times. Uncomment this code and\r\n//       comment out everything below it. Make sure to undo before pushing.\r\n//     </div>\r\n//   );\r\n// }\r\n\r\nimport { PageProps } from 'gatsby';\r\nimport { useAtomValue, useUpdateAtom } from 'jotai/utils';\r\nimport * as React from 'react';\r\nimport Split from 'react-split';\r\nimport styled from 'styled-components';\r\nimport {\r\n  monacoEditorInstanceAtom,\r\n  openOrCreateExistingFileAtom,\r\n} from '../../atoms/editor';\r\nimport QuizGeneratorProvider from '../../context/QuizGeneratorContext';\r\nimport Layout from '../layout';\r\nimport SEO from '../seo';\r\nimport { EditorOutput } from './EditorOutput';\r\nimport { EditorSidebar } from './EditorSidebar/EditorSidebar';\r\nimport { EditorTopNav } from './EditorTopNav';\r\nimport { MainEditorInterface } from './MainEditorInterface';\r\n\r\nconst StyledSplit = styled(Split)`\r\n  & > div,\r\n  & > .gutter.gutter-horizontal {\r\n    float: left;\r\n    height: 100%;\r\n  }\r\n\r\n  & > .gutter.gutter-horizontal {\r\n    cursor: ew-resize;\r\n  }\r\n`;\r\n\r\n// From https://stackoverflow.com/questions/2090551/parse-query-string-in-javascript\r\nfunction getQueryVariable(query, variable) {\r\n  const vars = query.split('&');\r\n  for (let i = 0; i < vars.length; i++) {\r\n    const pair = vars[i].split('=');\r\n    if (decodeURIComponent(pair[0]) == variable) {\r\n      return decodeURIComponent(pair[1]);\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexport default function EditorPage(props: PageProps): JSX.Element {\r\n  const editor = useAtomValue(monacoEditorInstanceAtom);\r\n  const openOrCreateExistingFile = useUpdateAtom(openOrCreateExistingFileAtom);\r\n\r\n  React.useEffect(() => {\r\n    const defaultFilePath =\r\n      props.location?.search?.length > 0\r\n        ? getQueryVariable(props.location.search.slice(1), 'filepath')\r\n        : null;\r\n    if (defaultFilePath) {\r\n      openOrCreateExistingFile(defaultFilePath);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <QuizGeneratorProvider>\r\n      <Layout>\r\n        <SEO title=\"Editor\" />\r\n\r\n        <div className=\"h-screen flex flex-col min-w-[768px]\">\r\n          <EditorTopNav />\r\n\r\n          {typeof window !== 'undefined' && (\r\n            <React.Suspense\r\n              fallback={\r\n                <div className=\"text-center mt-6 font-bold text-2xl\">\r\n                  Loading\r\n                </div>\r\n              }\r\n            >\r\n              <StyledSplit\r\n                className=\"h-full relative flex-1 overflow-hidden\"\r\n                onDrag={() => {\r\n                  if (editor.monaco !== null) editor.monaco.layout();\r\n                }}\r\n                minSize={[600, 10]}\r\n              >\r\n                {/* https://microsoft.github.io/monaco-editor/api/interfaces/monaco.editor.istandaloneeditorconstructionoptions.html */}\r\n                <div className=\"flex items-stretch\">\r\n                  <EditorSidebar className=\"h-full flex-shrink-0\" />\r\n                  <MainEditorInterface className=\"h-full w-0 flex-1\" />\r\n                </div>\r\n                <div className=\"flex flex-col\">\r\n                  <div className=\"overflow-y-auto relative flex-1\">\r\n                    <EditorOutput />\r\n                  </div>\r\n                </div>\r\n              </StyledSplit>\r\n            </React.Suspense>\r\n          )}\r\n        </div>\r\n      </Layout>\r\n    </QuizGeneratorProvider>\r\n  );\r\n}\r\n","// import * as React from 'react';\r\n\r\n// export default function Placeholder() {\r\n//   return (\r\n//     <div data-testid=\"build-placeholder\">\r\n//       This placeholder greatly speeds up build times. Uncomment this code and\r\n//       comment out everything below it. Make sure to undo before pushing.\r\n//     </div>\r\n//   );\r\n// }\r\n\r\nimport { PageProps } from 'gatsby';\r\nimport React, { useEffect, useState } from 'react';\r\nimport EditorPage from '../components/Editor/EditorPage';\r\n\r\nexport default function EditorPageContainer(props: PageProps): JSX.Element {\r\n  const [hasMounted, setHasMounted] = useState(false);\r\n  useEffect(() => {\r\n    setHasMounted(true);\r\n  }, []);\r\n  if (!hasMounted) {\r\n    return null;\r\n  }\r\n  return <EditorPage {...props} />;\r\n}\r\n"],"names":["module","exports","arr","Array","isArray","__esModule","instance","Constructor","TypeError","setPrototypeOf","isNativeReflectConstruct","_construct","Parent","args","Class","Reflect","construct","a","push","apply","Function","bind","prototype","arguments","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","superPropBase","_get","get","property","receiver","base","desc","getOwnPropertyDescriptor","call","value","this","_getPrototypeOf","o","getPrototypeOf","__proto__","subClass","superClass","create","constructor","fn","toString","indexOf","sham","Proxy","Boolean","valueOf","e","_i","Symbol","iterator","_s","_e","_arr","_n","_d","next","done","err","_typeof","assertThisInitialized","self","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","object","hasOwnProperty","iterableToArray","isNativeFunction","_wrapNativeSuper","_cache","Map","undefined","has","set","Wrapper","getCurrentRefinement","searchState","context","currentRefinement","getHits","searchResults","results","hits","queryID","hitsPerPage","page","keys","reduce","index","concat","displayName","getProvidedProps","ais","contextValue","multiIndexContext","indexContextValue","refine","nextRefinement","nextValue","_refine","cleanUp","_cleanUp","getSearchParameters","searchParameters","setQuery","$","$trimStart","FORCED","forcedStringTrimMethod","trimStart","proto","name","forced","trimLeft","global","window","ssr","document","HORIZONTAL","NOOP","calc","filter","prefix","el","createElement","style","cssText","shift","isString","v","String","elementOrSelector","ele","querySelector","Error","getOption","options","propName","def","getGutterSize","gutterSize","isFirst","isLast","gutterAlign","defaultGutterFn","gutterDirection","gut","className","defaultElementStyleFn","dim","size","gutSize","defaultGutterStyleFn","obj","idsOption","dimension","clientAxis","position","positionEnd","clientSize","elements","ids","from","parent","parentNode","parentStyle","getComputedStyle","parentFlexDirection","flexDirection","sizes","map","minSize","minSizes","maxSize","Infinity","maxSizes","expandToMin","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","setElementSize","forEach","prop","getSizes","element","getMousePosition","touches","adjust","offset","b","percentage","drag","dragging","start","dragOffset","Math","round","calculateSizes","aBounds","bBounds","end","trimToMin","sizesToTrim","parentSize","computedStyle","parseFloat","paddingLeft","paddingRight","paddingTop","paddingBottom","innerSize","excessPixels","toSpare","pixelSizes","pixelSize","elementGutterSize","elementMinSize","newPixelSize","takenPixels","min","stopDragging","stop","move","userSelect","webkitUserSelect","MozUserSelect","pointerEvents","body","startDragging","button","preventDefault","pairs","adjustToMin","pair","id","temp","gutterElement","setGutterSize","insertBefore","computedSize","setSizes","newSizes","trimmed","newSize","collapse","destroy","preserveStyles","preserveGutter","removeChild","objectWithoutProperties","exclude","k","SplitWrapper","superclass","componentDidMount","ref","children","__isSplitGutter","split","componentDidUpdate","prevProps","this$1","collapsed","prevMinSize","prevSizes","prevCollapsed","needsRecreate","accum","same","minSizeChanged","minSizeI","pairB","previousSibling","sizeChanged","sizeI","Number","isInteger","componentWillUnmount","render","onDrag","onDragStart","onDragEnd","rest","assign","defaultProps","fetchFileContent","filePath","githubURL","encodeURI","githubProblemsURL","replace","Promise","all","fetch","result","text","ok","markdown","problems","defaultStorage","getItem","storedValue","localStorage","JSON","parse","setItem","newValue","removeItem","stringify","atomWithStorage","initialValue","storage","baseAtom","atom","onMount","setAtom","getInitialValue","update","filesFamily","atomFamily","path","saveFileAtom","file","baseActiveFileAtom","activeFileAtom","nextActiveFilePath","filesListAtom","openOrCreateExistingFileAtom","find","f","prev","data","createNewInternalSolutionFileAtom","newFile","source","title","solutions","updateProblemJSON","json","content","updated","uniqueId","solutionMetadata","kind","prettier","endOfLine","semi","singleQuote","tabWidth","useTabs","trailingComma","arrowParens","parser","plugins","babelParser","problemModules","currentFile","Set","closeFileAtom","remainingFiles","baseMonacoEditorInstanceAtom","monaco","monacoEditorInstanceAtom","_set","val","QuizGeneratorContext","React","open","setOpen","useQuizOpen","Provider","QuizGeneratorModal","question","answers","quiz","setQuiz","copyText","setCopyText","editQuiz","func","changeAnswer","newAnswer","newExplanation","newCorrect","questionIdx","answerIdx","answer","explanation","correct","getCode","join","appear","show","as","onClose","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","onClick","idx","splice","htmlFor","onChange","newQuestion","changeQuestion","placeholder","navigator","clipboard","writeText","setTimeout","CodeBlock","RawMarkdownRenderer","EditorOutput","activeFile","useAtomValue","saveFile","useUpdateAtom","useState","markdownProblemListsProviderValue","setMarkdownProblemListsProviderValue","parsedProblems","problemsList","listId","console","log","EditorContext","addProblem","problemMetadata","parsedOldFileData","tableToEdit","sort","difficultyDiff","PROBLEM_DIFFICULTY_OPTIONS","difficulty","prob","newContent","formattedNewContent","inEditor","SearchResultDescription","styled","SearchResultsContainer","ConnectedSearch","connectAutoComplete","onSelect","type","autoComplete","autoFocus","hit","Highlight","attribute","PoweredBy","theme","InstantSearch","indexName","searchClient","EditorFileModal","isOpen","Fragment","static","FileListSidebar","files","onOpenFile","onCloseFile","onCloseAllFiles","onNewFile","isFileModalOpen","setIsFileModalOpen","classNames","EditorSidebar","useAtom","setActiveFile","openOrCreateExistingFile","createNewInternalSolutionFile","closeFile","confirm","EditorTopNav","userSettings","useContext","UserDataContext","isDarkMode","useDarkMode","handleReloadContent","LogoSquare","href","rel","tab","lang","setLang","LANGUAGE_LABELS","setTheme","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","tabs","activeTab","onTabSelect","onFormatCode","label","conf","comments","blockComment","brackets","autoClosingPairs","close","notIn","surroundingPairs","folding","markers","RegExp","language","defaultToken","tokenPostfix","control","noncontrol","escapes","jsescapes","empty","tokenizer","root","token","nextEmbedded","include","table_header","table_body","table_common","switchTo","cases","codeblock","codeblockgh","linecontent","html","comment","tag","$S3","embeddedStyle","embeddedScript","Editor","MainEditorInterface","setMonacoEditorInstance","_tab","setTab","isEditingSolution","startsWith","setMarkdown","x","setProblems","old","proseWrap","markdownParser","wordWrap","rulers","minimap","enabled","beforeMount","languages","register","setMonarchTokensProvider","mdxLang","setLanguageConfiguration","mdxConf","jsonDefaults","setDiagnosticsOptions","validate","schemas","fileMatch","uri","schema","problemsSchema","getModel","updateOptions","insertSpaces","layout","focus","StyledSplit","Split","EditorPage","editor","defaultFilePath","location","search","query","variable","vars","decodeURIComponent","getQueryVariable","slice","fallback","EditorPageContainer","hasMounted","setHasMounted","useEffect"],"sourceRoot":""}